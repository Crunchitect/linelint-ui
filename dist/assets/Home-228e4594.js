import{o as Wt,c as jt,a as It,r as pr,d as dn,F as Bn,b as Oo,u as fr,n as Ed,t as df,w as He,v as aS,i as Cd,e as oS,f as On,g as Eo,h as Ye,j as Dd,m as sS,k as uS,l as Md,p as fS,q as Od,s as zu,x as lS,y as Dn,K as cS}from"./index-946d92b7.js";const pf=(r,t)=>{const e=r.__vccOpts||r;for(const[n,a]of t)e[n]=a;return e},vS={},dS={class:"w-1/6 h-full rounded bg-slate-100"},pS=It("h2",{class:"text-3xl font-bold m-4"},"Inspector",-1),hS=[pS];function gS(r,t){return Wt(),jt("div",dS,hS)}const mS=pf(vS,[["render",gS]]);var Rd=(r=>(r.RobotMap="map",r.Junctions="code-fork",r.Options="gear",r.Code="code",r))(Rd||{});const Co=pr(""),Zi=pr(null),We=pr(null),Mn=pr(null),Ro=pr(null),Su=pr(500),_S=pr([[-20,0],[-10,0],[0,0],[10,0],[20,0]]),De=pr([["leftTack",[!1,!1,!1,!0,!0]],["rightTack",[!0,!0,!1,!1,!1]],["cross",[!1,!1,!1,!1,!1]]]);pr([["",""]]);const Fu=pr(""),xS={class:"flex items-center gap-2 w-full h-[5%]"},yS={class:"rounded bg-slate-100 w-28 flex items-center justify-between after:content-[''] before:content-[''] opacity-25 has-[:checked]:opacity-100"},SS=["value"],bS=dn({__name:"Tabs",setup(r){const t=Rd;return(e,n)=>(Wt(),jt("fieldset",null,[It("div",xS,[(Wt(!0),jt(Bn,null,Oo(fr(t),(a,s)=>(Wt(),jt("div",yS,[It("i",{class:Ed(`fa-solid fa-${a}`)},null,2),It("p",null,df(s),1),He(It("input",{class:"fixed w-full opacity-0",type:"radio",value:s,"onUpdate:modelValue":n[0]||(n[0]=u=>Cd(Co)?Co.value=u:null)},null,8,SS),[[aS,fr(Co)]])]))),256))])]))}});function wS(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.map(function(n){return n.split(" ").map(function(a){return a?""+r+a:""}).join(" ")}).join(" ")}function ES(r,t){return t.replace(/([^}{]*){/gm,function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+r+"$1")+"{"})}function Xe(r,t){return function(e){e&&(r[t]=e)}}function Td(r,t,e){return function(n){n&&(r[t][e]=n)}}function Dv(r,t){return function(e){var n=e.prototype;r.forEach(function(a){t(n,a)})}}function CS(r,t){return t===void 0&&(t={}),function(e,n){r.forEach(function(a){var s=t[a]||a;s in e||(e[s]=function(){for(var u,f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var v=(u=this[n])[a].apply(u,f);return v===this[n]?this:v})})}}var DS="function",MS="object",OS="string",RS="number",hf="undefined",Id=typeof window!==hf,TS=typeof document!==hf&&document,IS=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],mr=1e-7,lo={cm:function(r){return r*96/2.54},mm:function(r){return r*96/254},in:function(r){return r*96},pt:function(r){return r*96/72},pc:function(r){return r*96/6},"%":function(r,t){return r*t/100},vw:function(r,t){return t===void 0&&(t=window.innerWidth),r/100*t},vh:function(r,t){return t===void 0&&(t=window.innerHeight),r/100*t},vmax:function(r,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),r/100*t},vmin:function(r,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),r/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function AS(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var s=arguments[t],u=0,f=s.length;u<f;u++,a++)n[a]=s[u];return n}function To(r,t,e,n){return(r*n+t*e)/(e+n)}function fa(r){return typeof r===hf}function ye(r){return r&&typeof r===MS}function _r(r){return Array.isArray(r)}function Vr(r){return typeof r===OS}function ci(r){return typeof r===RS}function gf(r){return typeof r===DS}function PS(r,t){var e=r===""||r==" ",n=t===""||t==" ";return n&&e||r===t}function Ad(r,t,e,n,a){var s=mf(r,t,e);return s?e:BS(r,t,e+1,n,a)}function mf(r,t,e){if(!r.ignore)return null;var n=t.slice(Math.max(e-3,0),e+3).join("");return new RegExp(r.ignore).exec(n)}function BS(r,t,e,n,a){for(var s=function(v){var d=t[v].trim();if(d===r.close&&!mf(r,t,v))return{value:v};var h=v,p=$r(a,function(m){var _=m.open;return _===d});if(p&&(h=Ad(p,t,v,n,a)),h===-1)return u=v,"break";v=h,u=v},u,f=e;f<n;++f){var l=s(f);if(f=u,typeof l=="object")return l.value;if(l==="break")break}return-1}function _f(r,t){var e=Vr(t)?{separator:t}:t,n=e.separator,a=n===void 0?",":n,s=e.isSeparateFirst,u=e.isSeparateOnlyOpenClose,f=e.isSeparateOpenClose,l=f===void 0?u:f,v=e.openCloseCharacters,d=v===void 0?IS:v,h=d.map(function(T){var I=T.open,P=T.close;return I===P?I:I+"|"+P}).join("|"),p="(\\s*"+a+"\\s*|"+h+"|\\s+)",m=new RegExp(p,"g"),_=r.split(m).filter(function(T){return T&&T!=="undefined"}),x=_.length,y=[],S=[];function w(){return S.length?(y.push(S.join("")),S=[],!0):!1}for(var C=function(T){var I=_[T].trim(),P=T,G=$r(d,function(L){var Y=L.open;return Y===I}),H=$r(d,function(L){var Y=L.close;return Y===I});if(G){if(P=Ad(G,_,T,x,d),P!==-1&&l)return w()&&s||(y.push(_.slice(T,P+1).join("")),T=P,s)?(M=T,"break"):(M=T,"continue")}else if(H&&!mf(H,_,T)){var W=AS(d);return W.splice(d.indexOf(H),1),{value:_f(r,{separator:a,isSeparateFirst:s,isSeparateOnlyOpenClose:u,isSeparateOpenClose:l,openCloseCharacters:W})}}else if(PS(I,a)&&!u)return w(),s?(M=T,"break"):(M=T,"continue");P===-1&&(P=x-1),S.push(_.slice(T,P+1).join("")),T=P,M=T},M,R=0;R<x;++R){var O=C(R);if(R=M,typeof O=="object")return O.value;if(O==="break")break}return S.length&&y.push(S.join("")),y}function ln(r){return _f(r,"")}function Pn(r){return _f(r,",")}function Pd(r){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(r);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function la(r){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(r);if(!t)return{prefix:"",unit:"",value:NaN};var e=t[1],n=t[2],a=t[3];return{prefix:e,unit:a,value:parseFloat(n)}}function GS(r){return r.replace(/[\s-_]+([^\s-_])/g,function(t,e){return e.toUpperCase()})}function Do(r,t){return t===void 0&&(t="-"),r.replace(/([a-z])([A-Z])/g,function(e,n,a){return""+n+t+a.toLowerCase()})}function na(){return Date.now?Date.now():new Date().getTime()}function qe(r,t,e){e===void 0&&(e=-1);for(var n=r.length,a=0;a<n;++a)if(t(r[a],a,r))return a;return e}function $r(r,t,e){var n=qe(r,t);return n>-1?r[n]:e}var Bd=function(){var r=na(),t=Id&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return t?t.bind(window):function(e){var n=na(),a=setTimeout(function(){e(n-r)},1e3/60);return a}}(),zS=function(){var r=Id&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return r?r.bind(window):function(t){clearTimeout(t)}}();function Ue(r){return Object.keys(r)}function FS(r){var t=Ue(r);return t.map(function(e){return r[e]})}function Zt(r,t){var e=la(r),n=e.value,a=e.unit;if(ye(t)){var s=t[a];if(s){if(gf(s))return s(n);if(lo[a])return lo[a](n,s)}}else if(a==="%")return n*t/100;return lo[a]?lo[a](n):n}function Lu(r,t,e){return Math.max(t,Math.min(r,e))}function Mv(r,t,e,n){return n===void 0&&(n=r[0]/r[1]),[[Ct(t[0],mr),Ct(t[0]/n,mr)],[Ct(t[1]*n,mr),Ct(t[1],mr)]].filter(function(a){return a.every(function(s,u){var f=t[u],l=Ct(f,mr);return e?s<=f||s<=l:s>=f||s>=l})})[0]||r}function Gd(r,t,e,n){if(!n)return r.map(function(m,_){return Lu(m,t[_],e[_])});var a=r[0],s=r[1],u=n===!0?a/s:n,f=Mv(r,t,!1,u),l=f[0],v=f[1],d=Mv(r,e,!0,u),h=d[0],p=d[1];return a<l||s<v?(a=l,s=v):(a>h||s>p)&&(a=h,s=p),[a,s]}function LS(r){for(var t=r.length,e=0,n=t-1;n>=0;--n)e+=r[n];return e}function ku(r){for(var t=r.length,e=0,n=t-1;n>=0;--n)e+=r[n];return t?e/t:0}function hr(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function kS(r){return[0,1].map(function(t){return ku(r.map(function(e){return e[t]}))})}function Ov(r){var t=kS(r),e=hr(t,r[0]),n=hr(t,r[1]);return e<n&&n-e<Math.PI||e>n&&n-e<-Math.PI?1:-1}function Ve(r,t){return Math.sqrt(Math.pow((t?t[0]:0)-r[0],2)+Math.pow((t?t[1]:0)-r[1],2))}function Ct(r,t){if(!t)return r;var e=1/t;return Math.round(r/t)/e}function Rv(r,t){return r.forEach(function(e,n){r[n]=Ct(r[n],t)}),r}function NS(r){for(var t=[],e=0;e<r;++e)t.push(e);return t}function zd(r){return r.reduce(function(t,e){return t.concat(e)},[])}function Fd(r,t){r.indexOf(t)===-1&&r.push(t)}function br(r,t){return r.classList?r.classList.contains(t):!!r.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function Ld(r,t){r.classList?r.classList.add(t):r.className+=" "+t}function kd(r,t){if(r.classList)r.classList.remove(t);else{var e=new RegExp("(\\s|^)"+t+"(\\s|$)");r.className=r.className.replace(e," ")}}function Or(r,t,e,n){r.addEventListener(t,e,n)}function Sr(r,t,e,n){r.removeEventListener(t,e,n)}function _i(r){return(r==null?void 0:r.ownerDocument)||TS}function xf(r){return _i(r).documentElement}function pn(r){return _i(r).body}function fn(r){var t;return((t=r==null?void 0:r.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function Nd(r){return r&&"postMessage"in r&&"blur"in r&&"self"in r}function xi(r){return ye(r)&&r.nodeName&&r.nodeType&&"ownerDocument"in r}var WS=function(){function r(){this.keys=[],this.values=[]}var t=r.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,n){var a=this.keys,s=this.values,u=a.indexOf(e),f=u===-1?a.length:u;a[f]=e,s[f]=n},r}(),HS=function(){function r(){this.object={}}var t=r.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,n){this.object[e]=n},r}(),YS=typeof Map=="function",XS=function(){function r(){}var t=r.prototype;return t.connect=function(e,n){this.prev=e,this.next=n,e&&(e.next=this),n&&(n.prev=this)},t.disconnect=function(){var e=this.prev,n=this.next;e&&(e.next=n),n&&(n.prev=e)},t.getIndex=function(){for(var e=this,n=-1;e;)e=e.prev,++n;return n},r}();function VS(r,t){var e=[],n=[];return r.forEach(function(a){var s=a[0],u=a[1],f=new XS;e[s]=f,n[u]=f}),e.forEach(function(a,s){a.connect(e[s-1])}),r.filter(function(a,s){return!t[s]}).map(function(a,s){var u=a[0],f=a[1];if(u===f)return[0,0];var l=e[u],v=n[f-1],d=l.getIndex();l.disconnect(),v?l.connect(v,v.next):l.connect(void 0,e[0]);var h=l.getIndex();return[d,h]})}var $S=function(){function r(e,n,a,s,u,f,l,v){this.prevList=e,this.list=n,this.added=a,this.removed=s,this.changed=u,this.maintained=f,this.changedBeforeAdded=l,this.fixed=v}var t=r.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=VS(this.changedBeforeAdded,this.fixed),n=this.changed,a=[];this.cacheOrdered=e.filter(function(s,u){var f=s[0],l=s[1],v=n[u],d=v[0],h=v[1];if(f!==l)return a.push([d,h]),!0}),this.cachePureChanged=a},r}();function ca(r,t,e){var n=YS?Map:e?HS:WS,a=e||function(w){return w},s=[],u=[],f=[],l=r.map(a),v=t.map(a),d=new n,h=new n,p=[],m=[],_={},x=[],y=0,S=0;return l.forEach(function(w,C){d.set(w,C)}),v.forEach(function(w,C){h.set(w,C)}),l.forEach(function(w,C){var M=h.get(w);typeof M>"u"?(++S,u.push(C)):_[M]=S}),v.forEach(function(w,C){var M=d.get(w);typeof M>"u"?(s.push(C),++y):(f.push([M,C]),S=_[C]||0,p.push([M-S,C-y]),m.push(C===M),M!==C&&x.push([M,C]))}),u.reverse(),new $S(r,t,s,u,x,f,p,m)}var qS=function(){function r(e,n){e===void 0&&(e=[]),this.findKeyCallback=n,this.list=[].slice.call(e)}var t=r.prototype;return t.update=function(e){var n=[].slice.call(e),a=ca(this.list,n,this.findKeyCallback);return this.list=n,a},r}(),Nu=function(r,t){return Nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},Nu(r,t)};function va(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nu(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Me=function(){return Me=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Me.apply(this,arguments)};function Wd(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function Tv(r,t,e){if(e||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))}function Iv(r){var t=0;return r.map(function(e){return e==null?"$compat".concat(++t):"".concat(e)})}function Hd(r){var t=[];return r.forEach(function(e){t=t.concat(_r(e)?Hd(e):e)}),t}function bu(r,t){if(!t)return r;for(var e in t)fa(r[e])&&(r[e]=t[e]);return r}function Io(r,t){if(r===t)return!1;for(var e in r)if(!(e in t))return!0;for(var e in t)if(r[e]!==t[e])return!0;return!1}function Av(r){var t=r.className,e=Wd(r,["className"]);return t!=null&&(e.class=t),delete e.style,delete e.children,e}function Pv(r){var t={},e={};for(var n in r)n.indexOf("on")===0?e[n]=r[n]:t[n]=r[n];return[t,e]}function Vo(r){if(!r)return null;var t=r.b;return xi(t)?t:Vo(r.c)}function Yd(r){var t=r.parentNode;t&&t.removeChild(r)}function Xd(r){r.forEach(function(t){t()})}function US(){return this.constructor(this.props,this.context)}var yf=0,$o=function(){function r(e,n,a,s,u,f,l){l===void 0&&(l={}),this.t=e,this.d=n,this.k=a,this.i=s,this.c=u,this.ref=f,this.ps=l,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=r.prototype;return t.s=function(){return!0},t.u=function(e,n,a,s,u){var f=this,l=f.d,v=FS(n).filter(function(_){return _.$_req}),d=Hd(v.map(function(_){return _.$_subs})),h=$r(d,function(_){return _.d===l});if(f.b&&!Vr(a)&&!u&&!f.s(a.props,s)&&!h){var p=d.reduce(function(_,x){var y=x.d;return _[0]?_[0].d===y&&_.push(x):y>l&&_.push(x),_},[]);return p.forEach(function(_){da(_,_._ps,[_.o],e,n,!0)}),!1}f.o=a,f.ss(s);var m=f.ps;return Vr(a)||(f.ps=a.props,f.ref=a.ref),Sf(this),f.r(e,n,f.b?m:{},s),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var e=this,n=e.ref,a=e.fr;n&&n(a?a.current:e.b)},r}();function Vd(){return Object.__CROACT_CURRENT_INSTNACE__}function KS(){return yf}function ZS(r){yf=r}function Sf(r){return Object.__CROACT_CURRENT_INSTNACE__=r,yf=0,r}var bf=function(){function r(e,n){e===void 0&&(e={}),this.props=e,this.context=n,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=r.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(e,n){return this.props!==e||this.state!==n},t.setState=function(e,n,a){var s=this;s.$_timer||(s.$_state={}),clearTimeout(s.$_timer),s.$_timer=0,s.$_state=Me(Me({},s.$_state),e),a?s.$_setState(n,a):s.$_timer=window.setTimeout(function(){s.$_timer=0,s.$_setState(n,a)})},t.forceUpdate=function(e){this.setState({},e,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(e,n){},t.componentWillUnmount=function(){},t.$_setState=function(e,n){var a=[],s=this.$_p,u=da(s.c,[s],[s.o],a,s._cs,Me(Me({},this.state),this.$_state),n);u&&(e&&a.push(e),Xd(a),Sf(null))},r}(),$d=function(r){va(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e.shouldComponentUpdate=function(n,a){return Io(this.props,n)||Io(this.state,a)},t}(bf);function qd(r){var t=function(e){t.current=e};return t.current=r,t}function JS(r){return r._fr=!0,r}function QS(r,t,e,n){var a,s;return!((a=r==null?void 0:r.prototype)===null||a===void 0)&&a.render?s=new r(t,e):(s=new bf(t,e),s.constructor=r,r._fr?(n.fr=qd(),s.render=function(){return this.constructor(this.props,n.fr)}):s.render=US),s.$_p=n,s}var jS=function(r){va(t,r);function t(n,a,s,u,f,l,v){v===void 0&&(v={});var d=r.call(this,n,a,s,u,f,l,bu(v,n.defaultProps))||this;return d.typ="comp",d._usefs=[],d._uefs=[],d._defs=[],d}var e=t.prototype;return e.s=function(n,a){var s=this.b;return s.shouldComponentUpdate(bu(n,this.t.defaultProps),a||s.state)!==!1},e.r=function(n,a,s){var u,f,l=this,v=l.t;l.ps=bu(l.ps,l.t.defaultProps);var d=l.ps,h=!l.b,p=v.contextType,m=l.b,_=p==null?void 0:p.get(l);l._cs=a,h?(m=QS(v,d,_,l),l.b=m):(m.props=d,m.context=_);var x=m.state;l._usefs=[],l._uefs=[];var y=m.render();((f=(u=y==null?void 0:y.props)===null||u===void 0?void 0:u.children)===null||f===void 0?void 0:f.length)===0&&(y.props.children=l.ps.children);var S=Me(Me({},a),m.$_cs);da(l,l._ps,y?[y]:[],n,S),h?l._uefs.push(function(){p==null||p.register(l),m.componentDidMount()}):l._uefs.push(function(){m.componentDidUpdate(s,x)}),n.push(function(){l._usefs.forEach(function(w){w()}),h?l.md():l.ud(),l._defs=l._uefs.map(function(w){return w()})})},e.ss=function(n){var a=this.b;!a||!n||(a.state=n)},e.un=function(){var n,a=this;a._ps.forEach(function(u){u.un()});var s=a.t;(n=s.contextType)===null||n===void 0||n.unregister(a),clearTimeout(a.b.$_timer),a._defs.forEach(function(u){u&&u()}),a.b.componentWillUnmount()},t}($o);function tb(r,t,e){var n=wf(Av(r),Av(t)),a=n.added,s=n.removed,u=n.changed;for(var f in a)e.setAttribute(f,a[f]);for(var l in u)e.setAttribute(l,u[l][1]);for(var v in s)e.removeAttribute(v)}function rb(r,t,e){var n=wf(r,t),a=n.added,s=n.removed;for(var u in s)e.e(u,!0);for(var f in a)e.e(f)}function wf(r,t){var e=Ue(r),n=Ue(t),a=ca(e,n,function(l){return l}),s={},u={},f={};return a.added.forEach(function(l){var v=n[l];s[v]=t[v]}),a.removed.forEach(function(l){var v=e[l];u[v]=r[v]}),a.maintained.forEach(function(l){var v=l[0],d=e[v],h=[r[d],t[d]];r[d]!==t[d]&&(f[d]=h)}),{added:s,removed:u,changed:f}}function eb(r,t,e){var n=e.style,a=wf(r,t),s=a.added,u=a.removed,f=a.changed;for(var l in s){var v=Do(l,"-");n.setProperty(v,s[l])}for(var l in f){var d=Do(l,"-");n.setProperty(d,f[l][1])}for(var l in u){var h=Do(l,"-");n.removeProperty(h)}}function nb(r){return r.replace(/^on/g,"").toLowerCase()}var ib=function(r){va(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.typ="elem",n._es={},n._svg=!1,n}var e=t.prototype;return e.e=function(n,a){var s=this,u=s._es,f=s.b,l=nb(n);a?(Sr(f,l,u[n]),delete u[n]):(u[n]=function(v){var d,h;(h=(d=s.ps)[n])===null||h===void 0||h.call(d,v)},Or(f,l,u[n]))},e.s=function(n){return Io(this.ps,n)},e.r=function(n,a,s){var u,f=this,l=!f.b,v=f.ps;if(l){var d=Vo(f.c),h=!1;f._svg||f.t==="svg"?h=!0:h=d&&d.ownerSVGElement,f._svg=h;var p=(u=f._hyd)===null||u===void 0?void 0:u.splice(0,1)[0],m=f.t;if(p)f._hyd=[].slice.call(p.children||[]);else{var _=_i(d);h?p=_.createElementNS("http://www.w3.org/2000/svg",m):p=_.createElement(m)}f.b=p}da(f,f._ps,v.children,n,a);var x=f.b,y=Pv(s),S=y[0],w=y[1],C=Pv(v),M=C[0],R=C[1];return tb(S,M,x),rb(w,R,f),eb(s.style||{},v.style||{},x),n.push(function(){l?f.md():f.ud()}),!0},e.un=function(){var n=this,a=n._es,s=n.b;for(var u in a)Sr(s,u,a[u]);n._ps.forEach(function(f){f.un()}),n._es={},n._sel||Yd(s)},t}($o);function ia(r){if(!r||xi(r))return r;var t=r.$_p._ps;return t.length?ia(t[0].b):null}function Ud(r){if(r){if(r.b&&xi(r.b))return r;var t=r._ps;return t.length?Ud(t[0]):null}}function _e(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=t||{},s=a.key,u=a.ref,f=Wd(a,["key","ref"]);return{type:r,key:s,ref:u,props:Me(Me({},f),{children:zd(e).filter(function(l){return l!=null&&l!==!1})})}}var Kd=function(r){va(t,r);function t(n,a){a===void 0&&(a=0);var s=r.call(this,"container",a,"container",0,null)||this;return s.typ="container",s.b=n,s}var e=t.prototype;return e.r=function(){return!0},e.un=function(){},t}($o),ab=function(r){va(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.typ="text",n}var e=t.prototype;return e.r=function(n){var a,s=this,u=!s.b;if(u){var f=Vo(s.c),l=(a=s._hyd)===null||a===void 0?void 0:a.splice(0,1)[0];s.b=l||_i(f).createTextNode(s.t.replace("text_",""))}return n.push(function(){u?s.md():s.ud()}),!0},e.un=function(){Yd(this.b)},t}($o);function ob(r,t,e){var n=e.map(function(l){return Vr(l)?null:l.key}),a=Iv(t.map(function(l){return l.k})),s=Iv(n),u=ca(a,s,function(l){return l});u.removed.forEach(function(l){t.splice(l,1)[0].un()}),u.ordered.forEach(function(l){var v=l[0],d=l[1],h=t.splice(v,1)[0];t.splice(d,0,h);var p=ia(h.b),m=ia(t[d+1]&&t[d+1].b);p&&p.parentNode.insertBefore(p,m)}),u.added.forEach(function(l){t.splice(l,0,Bv(e[l],n[l],l,r))});var f=u.maintained.filter(function(l){l[0];var v=l[1],d=e[v],h=t[v],p=Vr(d)?"text_".concat(d):d.type;return p!==h.t?(h.un(),t.splice(v,1,Bv(d,n[v],v,r)),!0):(h.i=v,!1)});return Tv(Tv([],u.added,!0),f.map(function(l){l[0];var v=l[1];return v}),!0)}function sb(r,t){for(var e=r._ps,n=e.length,a=t.i+1;a<n;++a){var s=ia(e[a].b);if(s)return s}return null}function Bv(r,t,e,n){var a=n.d+1;if(Vr(r)||ci(r))return new ab("text_".concat(r),a,t,e,n,null,{});var s=r.type,u=typeof s=="string"?ib:jS;return new u(s,a,t,e,n,r.ref,r.props)}function da(r,t,e,n,a,s,u){var f=ob(r,t,e),l=r._hyd,v=t.filter(function(h,p){return h._hyd=l,h.u(n,a,e[p],s,u)});r.typ==="container"&&r._sel&&t.forEach(function(h){var p=Ud(h);p&&(p._sel=!0)}),r._hyd=null;var d=Vo(r);return d&&f.reverse().forEach(function(h){var p=t[h],m=ia(p.b);if(m&&d!==m&&!m.parentNode){var _=sb(r,p);d.insertBefore(m,_)}}),v.length>0}function ub(r,t,e,n){e===void 0&&(e=t.__CROACT__),n===void 0&&(n={});var a=!!e;e||(e=new Kd(t));var s=[];return da(e,e._ps,r?[r]:[],s,n,void 0,void 0),Xd(s),Sf(null),a||(t.__CROACT__=e),e}function Gv(r,t,e){return!e&&r&&(e=new Kd(t.parentElement),e._hyd=[t],e._sel=!0),ub(r,t,e),e}function Zd(r){var t=Vd(),e=t._hs||(t._hs=[]),n=KS(),a=e[n];if(ZS(n+1),a){if(!Io(a.deps,r.deps))return a.updated=!1,a;e[n]=r}else e.push(r);return r.value=r.func(),r.updated=!0,r}function fb(r,t){var e=Zd({func:r,deps:t});return e.value}function lb(r){return fb(function(){return qd(r)},[])}function Jd(r,t,e){var n=Vd(),a=Zd({func:function(){return r},deps:t}),s=e?n._usefs:n._uefs;a.updated?s.push(function(){return a.effect&&a.effect(),a.effect=r(),a.effect}):s.push(function(){return a.effect})}function cb(r,t,e){Jd(function(){r==null||r(t())},e,!0)}function Ef(r,t){for(var e=r.length,n=0;n<e;++n)if(t(r[n],n))return!0;return!1}function Qd(r,t){for(var e=r.length,n=0;n<e;++n)if(t(r[n],n))return r[n];return null}function jd(r){var t=r;if(typeof t>"u"){if(typeof navigator>"u"||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function Cf(r,t){try{return new RegExp(r,"g").exec(t)}catch{return null}}function vb(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var r=navigator.userAgentData,t=r.brands||r.uaList;return!!(t&&t.length)}function db(r,t){var e=Cf("("+r+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return e?e[3]:""}function Wu(r){return r.replace(/_/g,".")}function qi(r,t){var e=null,n="-1";return Ef(r,function(a){var s=Cf("("+a.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!s||a.brand?!1:(e=a,n=s[3]||"-1",a.versionAlias?n=a.versionAlias:a.versionTest&&(n=db(a.versionTest.toLowerCase(),t)||n),n=Wu(n),!0)}),{preset:e,version:n}}function Vi(r,t){var e={brand:"",version:"-1"};return Ef(r,function(n){var a=tp(t,n);return a?(e.brand=n.id,e.version=n.versionAlias||a.version,e.version!=="-1"):!1}),e}function tp(r,t){return Qd(r,function(e){var n=e.brand;return Cf(""+t.test,n.toLowerCase())})}var Hu=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],rp=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Yu=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],ep=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],np=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function ip(r){return!!qi(ep,r).preset}function pb(r){var t=jd(r),e=!!/mobi/g.exec(t),n={name:"unknown",version:"-1",majorVersion:-1,webview:ip(t),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},a={name:"unknown",version:"-1",majorVersion:-1},s=qi(Hu,t),u=s.preset,f=s.version,l=qi(np,t),v=l.preset,d=l.version,h=qi(rp,t);if(n.chromium=!!h.preset,n.chromiumVersion=h.version,!n.chromium){var p=qi(Yu,t);n.webkit=!!p.preset,n.webkitVersion=p.version}return v&&(a.name=v.id,a.version=d,a.majorVersion=parseInt(d,10)),u&&(n.name=u.id,n.version=f,n.webview&&a.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:a,isMobile:e,isHints:!1}}function hb(r){var t=navigator.userAgentData,e=(t.uaList||t.brands).slice(),n=r&&r.fullVersionList,a=t.mobile||!1,s=e[0],u=(r&&r.platform||t.platform||navigator.platform).toLowerCase(),f={name:s.brand,version:s.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Vi(ep,e).brand||ip(jd())},l={name:"unknown",version:"-1",majorVersion:-1};f.webkit=!f.chromium&&Ef(Yu,function(_){return tp(e,_)});var v=Vi(rp,e);if(f.chromium=!!v.brand,f.chromiumVersion=v.version,!f.chromium){var d=Vi(Yu,e);f.webkit=!!d.brand,f.webkitVersion=d.version}var h=Qd(np,function(_){return new RegExp(""+_.test,"g").exec(u)});if(l.name=h?h.id:"",r&&(l.version=r.platformVersion),n&&n.length){var p=Vi(Hu,n);f.name=p.brand||f.name,f.version=p.version||f.version}else{var m=Vi(Hu,e);f.name=m.brand||f.name,f.version=m.brand&&r?r.uaFullVersion:m.version}return f.webkit&&(l.name=a?"ios":"mac"),l.name==="ios"&&f.webview&&(f.version="-1"),l.version=Wu(l.version),f.version=Wu(f.version),l.majorVersion=parseInt(l.version,10),f.majorVersion=parseInt(f.version,10),{browser:f,os:l,isMobile:a,isHints:!0}}function gb(r){return typeof r>"u"&&vb()?hb():pb(r)}function mb(r,t,e,n,a,s){for(var u=0;u<a;++u){var f=e+u*a,l=n+u*a;r[f]+=r[l]*s,t[f]+=t[l]*s}}function _b(r,t,e,n,a){for(var s=0;s<a;++s){var u=e+s*a,f=n+s*a,l=r[u],v=t[u];r[u]=r[f],r[f]=l,t[u]=t[f],t[f]=v}}function xb(r,t,e,n,a){for(var s=0;s<n;++s){var u=e+s*n;r[u]/=a,t[u]/=a}}function ap(r,t,e){e===void 0&&(e=Math.sqrt(r.length));for(var n=r.slice(),a=0;a<e;++a)n[a*e+t-1]=0,n[(t-1)*e+a]=0;return n[(t-1)*(e+1)]=1,n}function Re(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=r.slice(),n=nr(t),a=0;a<t;++a){var s=t*a+a;if(!Ct(e[s],mr)){for(var u=a+1;u<t;++u)if(e[t*a+u]){_b(e,n,a,u,t);break}}if(!Ct(e[s],mr))return[];xb(e,n,a,t,e[s]);for(var u=0;u<t;++u){var f=u,l=u+a*t,v=e[l];!Ct(v,mr)||a===u||mb(e,n,f,a,t,-v)}}return n}function yb(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=[],n=0;n<t;++n)for(var a=0;a<t;++a)e[a*t+n]=r[t*n+a];return e}function op(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=[],n=r[t*t-1],a=0;a<t-1;++a)e[a]=r[t*(t-1)+a]/n;return e[t-1]=0,e}function Sb(r,t){for(var e=nr(t),n=0;n<t-1;++n)e[t*(t-1)+n]=r[n]||0;return e}function Gn(r,t){for(var e=r.slice(),n=r.length;n<t-1;++n)e[n]=0;return e[t-1]=1,e}function Se(r,t,e){if(t===void 0&&(t=Math.sqrt(r.length)),t===e)return r;for(var n=nr(e),a=Math.min(t,e),s=0;s<a-1;++s){for(var u=0;u<a-1;++u)n[s*e+u]=r[s*t+u];n[(s+1)*e-1]=r[(s+1)*t-1],n[(e-1)*e+s]=r[(t-1)*t+s]}return n[e*e-1]=r[t*t-1],n}function Ao(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=nr(r);return t.forEach(function(a){n=Jt(n,a,r)}),n}function Jt(r,t,e){e===void 0&&(e=Math.sqrt(r.length));var n=[],a=r.length/e,s=t.length/a;if(a){if(!s)return r}else return t;for(var u=0;u<e;++u)for(var f=0;f<s;++f){n[f*e+u]=0;for(var l=0;l<a;++l)n[f*e+u]+=r[l*e+u]*t[f*a+l]}return n}function Yt(r,t){for(var e=Math.min(r.length,t.length),n=r.slice(),a=0;a<e;++a)n[a]=n[a]+t[a];return n}function xt(r,t){for(var e=Math.min(r.length,t.length),n=r.slice(),a=0;a<e;++a)n[a]=n[a]-t[a];return n}function bb(r,t){return t===void 0&&(t=r.length===6),t?[r[0],r[1],0,r[2],r[3],0,r[4],r[5],1]:r}function sp(r,t){return t===void 0&&(t=r.length===9),t?[r[0],r[1],r[3],r[4],r[6],r[7]]:r}function Ir(r,t,e){e===void 0&&(e=t.length);var n=Jt(r,t,e),a=n[e-1];return n.map(function(s){return s/a})}function wb(r,t){return Jt(r,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function Eb(r,t){return Jt(r,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function Cb(r,t){return Jt(r,ha(t,4))}function co(r,t){var e=t[0],n=e===void 0?1:e,a=t[1],s=a===void 0?1:a,u=t[2],f=u===void 0?1:u;return Jt(r,[n,0,0,0,0,s,0,0,0,0,f,0,0,0,0,1],4)}function pa(r,t){return Ir(ha(t,3),Gn(r,3))}function wu(r,t){var e=t[0],n=e===void 0?0:e,a=t[1],s=a===void 0?0:a,u=t[2],f=u===void 0?0:u;return Jt(r,[1,0,0,0,0,1,0,0,0,0,1,0,n,s,f,1],4)}function zv(r,t){return Jt(r,t,4)}function ha(r,t){var e=Math.cos(r),n=Math.sin(r),a=nr(t);return a[0]=e,a[1]=n,a[t]=-n,a[t+1]=e,a}function nr(r){for(var t=r*r,e=[],n=0;n<t;++n)e[n]=n%(r+1)?0:1;return e}function Df(r,t){for(var e=nr(t),n=Math.min(r.length,t-1),a=0;a<n;++a)e[(t+1)*a]=r[a];return e}function zn(r,t){for(var e=nr(t),n=Math.min(r.length,t-1),a=0;a<n;++a)e[t*(t-1)+a]=r[a];return e}function Mf(r,t,e,n,a,s,u,f){var l=r[0],v=r[1],d=t[0],h=t[1],p=e[0],m=e[1],_=n[0],x=n[1],y=a[0],S=a[1],w=s[0],C=s[1],M=u[0],R=u[1],O=f[0],T=f[1],I=[l,0,d,0,p,0,_,0,v,0,h,0,m,0,x,0,1,0,1,0,1,0,1,0,0,l,0,d,0,p,0,_,0,v,0,h,0,m,0,x,0,1,0,1,0,1,0,1,-y*l,-S*l,-w*d,-C*d,-M*p,-R*p,-O*_,-T*_,-y*v,-S*v,-w*h,-C*h,-M*m,-R*m,-O*x,-T*x],P=Re(I,8);if(!P.length)return[];var G=Jt(P,[y,S,w,C,M,R,O,T],8);return G[8]=1,Se(yb(G),3,4)}var Ji=function(){return Ji=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ji.apply(this,arguments)};function Db(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function aa(r,t){return t===void 0&&(t=0),ii(vi(r,t))}function Mb(r,t){var e=Ir(r,[t[0],t[1]||0,t[2]||0,1],4),n=e[3]||1;return[e[0]/n,e[1]/n,e[2]/n]}function ii(r){var t=Db();return r.forEach(function(e){var n=e.matrixFunction,a=e.functionValue;n&&(t=n(t,a))}),t}function vi(r,t){t===void 0&&(t=0);var e=_r(r)?r:ln(r);return e.map(function(n){var a=Pd(n),s=a.prefix,u=a.value,f=null,l=s,v="";if(s==="translate"||s==="translateX"||s==="translate3d"){var d=ye(t)?Ji(Ji({},t),{"o%":t["%"]}):{"%":t,"o%":t},h=Pn(u).map(function(L,Y){return Y===0&&"x%"in d?d["%"]=t["x%"]:Y===1&&"y%"in d?d["%"]=t["y%"]:d["%"]=t["o%"],Zt(L,d)}),p=h[0],m=h[1],_=m===void 0?0:m,x=h[2],y=x===void 0?0:x;f=wu,v=[p,_,y]}else if(s==="translateY"){var S=ye(t)?Ji({"%":t["y%"]},t):{"%":t},_=Zt(u,S);f=wu,v=[0,_,0]}else if(s==="translateZ"){var y=parseFloat(u);f=wu,v=[0,0,y]}else if(s==="scale"||s==="scale3d"){var w=Pn(u).map(function(L){return parseFloat(L)}),C=w[0],M=w[1],R=M===void 0?C:M,O=w[2],T=O===void 0?1:O;f=co,v=[C,R,T]}else if(s==="scaleX"){var C=parseFloat(u);f=co,v=[C,1,1]}else if(s==="scaleY"){var R=parseFloat(u);f=co,v=[1,R,1]}else if(s==="scaleZ"){var T=parseFloat(u);f=co,v=[1,1,T]}else if(s==="rotate"||s==="rotateZ"||s==="rotateX"||s==="rotateY"){var I=la(u),P=I.unit,G=I.value,H=P==="rad"?G:G*Math.PI/180;s==="rotate"||s==="rotateZ"?(l="rotateZ",f=Cb):s==="rotateX"?f=wb:s==="rotateY"&&(f=Eb),v=H}else if(s==="matrix3d")f=zv,v=Pn(u).map(function(L){return parseFloat(L)});else if(s==="matrix"){var W=Pn(u).map(function(L){return parseFloat(L)});f=zv,v=[W[0],W[1],0,0,W[2],W[3],0,0,0,0,1,0,W[4],W[5],0,1]}else l="";return{name:s,functionName:l,value:u,matrixFunction:f,functionValue:v}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Xu=function(r,t){return Xu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Xu(r,t)};function Ob(r,t){Xu(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var up=typeof Map=="function"?void 0:function(){var r=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++r)}}(),fp=function(r){Ob(t,r);function t(e){return e===void 0&&(e=[]),r.call(this,e,up)||this}return t}(qS);function Rb(r,t){return ca(r,t,up)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vu=function(){return Vu=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Vu.apply(this,arguments)};function Tb(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var s=arguments[t],u=0,f=s.length;u<f;u++,a++)n[a]=s[u];return n}var Ib=function(){function r(){this._events={}}var t=r.prototype;return t.on=function(e,n){if(ye(e))for(var a in e)this.on(a,e[a]);else this._addEvent(e,n,{});return this},t.off=function(e,n){if(!e)this._events={};else if(ye(e))for(var a in e)this.off(a);else if(!n)this._events[e]=[];else{var s=this._events[e];if(s){var u=qe(s,function(f){return f.listener===n});u>-1&&s.splice(u,1)}}return this},t.once=function(e,n){var a=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(s){a._addEvent(e,s,{once:!0})})},t.emit=function(e,n){var a=this;n===void 0&&(n={});var s=this._events[e];if(!e||!s)return!0;var u=!1;return n.eventType=e,n.stop=function(){u=!0},n.currentTarget=this,Tb(s).forEach(function(f){f.listener(n),f.once&&a.off(e,f.listener)}),!u},t.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},t._addEvent=function(e,n,a){var s=this._events;s[e]=s[e]||[];var u=s[e];u.push(Vu({listener:n},a))},r}();const qo=Ib;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $u=function(r,t){return $u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},$u(r,t)};function Ab(r,t){$u(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ai=function(){return ai=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ai.apply(this,arguments)};function Pb(r){var t=r.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function Fv(r,t){return r.addEventListener("scroll",t),function(){r.removeEventListener("scroll",t)}}function vo(r){if(r){if(Vr(r))return document.querySelector(r)}else return null;if(gf(r))return r();if(r instanceof Element)return r;if("current"in r)return r.current;if("value"in r)return r.value}var Bb=function(r){Ab(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var a=n._currentOptions;n._lock||!a||n.emit("scrollDrag",{next:function(s){n.checkScroll({container:a.container,inputEvent:s})}})},n}var e=t.prototype;return e.dragStart=function(n,a){var s=vo(a.container);if(!s){this._flag=!1;return}var u=0,f=0,l=0,v=0;if(s===document.body)l=window.innerWidth,v=window.innerHeight;else{var d=s.getBoundingClientRect();u=d.top,f=d.left,l=d.width,v=d.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:u,left:f,width:l,height:v},this._prevScrollPos=this._getScrollPosition([0,0],a),this._currentOptions=a,this._registerScrollEvent(a)},e.drag=function(n,a){if(clearTimeout(this._timer),!!this._flag){var s=n.clientX,u=n.clientY,f=a.threshold,l=f===void 0?0:f,v=this,d=v._startRect,h=v._startPos;this._currentOptions=a;var p=[0,0];return d.top>u-l?(h[1]>d.top||u<h[1])&&(p[1]=-1):d.top+d.height<u+l&&(h[1]<d.top+d.height||u>h[1])&&(p[1]=1),d.left>s-l?(h[0]>d.left||s<h[0])&&(p[0]=-1):d.left+d.width<s+l&&(h[0]<d.left+d.width||s>h[0])&&(p[0]=1),!p[0]&&!p[1]?!1:this._continueDrag(ai(ai({},a),{direction:p,inputEvent:n,isDrag:!0}))}},e.checkScroll=function(n){var a=this;if(this._isWait)return!1;var s=n.prevScrollPos,u=s===void 0?this._prevScrollPos:s,f=n.direction,l=n.throttleTime,v=l===void 0?0:l,d=n.inputEvent,h=n.isDrag,p=this._getScrollPosition(f||[0,0],n),m=p[0]-u[0],_=p[1]-u[1],x=f||[m?Math.abs(m)/m:0,_?Math.abs(_)/_:0];return this._prevScrollPos=p,this._lock=!1,!m&&!_?!1:(this.emit("move",{offsetX:x[0]?m:0,offsetY:x[1]?_:0,inputEvent:d}),v&&h&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){a._continueDrag(n)},v)),!0)},e.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},e._getScrollPosition=function(n,a){var s=a.container,u=a.getScrollPosition,f=u===void 0?Pb:u;return f({container:vo(s),direction:n})},e._continueDrag=function(n){var a=this,s,u=n.container,f=n.direction,l=n.throttleTime,v=n.useScroll,d=n.isDrag,h=n.inputEvent;if(!(!this._flag||d&&this._isWait)){var p=na(),m=Math.max(l+this._prevTime-p,0);if(m>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){a._continueDrag(n)},m),!1;this._prevTime=p;var _=this._getScrollPosition(f,n);this._prevScrollPos=_,d&&(this._isWait=!0),v||(this._lock=!0);var x={container:vo(u),direction:f,inputEvent:h};return(s=n.requestScroll)===null||s===void 0||s.call(n,x),this.emit("scroll",x),this._isWait=!1,v||this.checkScroll(ai(ai({},n),{prevScrollPos:_,direction:f,inputEvent:h}))}},e._registerScrollEvent=function(n){this._unregisterScrollEvent();var a=n.checkScrollEvent;if(a){var s=a===!0?Fv:a,u=vo(n.container);a===!0&&(u===document.body||u===document.documentElement)?this._unregister=Fv(window,this._onScroll):this._unregister=s(u,this._onScroll)}},e._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},t}(qo);const Gb=Bb;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zb(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var s=arguments[t],u=0,f=s.length;u<f;u++,a++)n[a]=s[u];return n}function Xr(r){return Ct(r,mr)}function Fb(r,t){return r.every(function(e,n){return Xr(e-t[n])===0})}function Lb(r,t){return!Xr(r[0]-t[0])&&!Xr(r[1]-t[1])}function lp(r){return r.length<3?0:Math.abs(LS(r.map(function(t,e){var n=r[e+1]||r[0];return t[0]*n[1]-n[0]*t[1]})))/2}function Lv(r,t){var e=t.width,n=t.height,a=t.left,s=t.top,u=Fn(r),f=u.minX,l=u.minY,v=u.maxX,d=u.maxY,h=e/(v-f),p=n/(d-l);return r.map(function(m){return[a+(m[0]-f)*h,s+(m[1]-l)*p]})}function Fn(r){var t=r.map(function(n){return n[0]}),e=r.map(function(n){return n[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,e),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,e)}}function qu(r,t,e){var n=r[0],a=r[1],s=Fn(t),u=s.minX,f=s.maxX,l=[[u,a],[f,a]],v=Po(l[0],l[1]),d=Uu(t),h=[];if(d.forEach(function(_){var x=Po(_[0],_[1]),y=_[0];if(Fb(v,x))h.push({pos:r,line:_,type:"line"});else{var S=cp(Of(v,x),[l,_]);S.forEach(function(w){_.some(function(C){return Lb(C,w)})?h.push({pos:w,line:_,type:"point"}):Xr(y[1]-a)!==0&&h.push({pos:w,line:_,type:"intersection"})})}}),!e&&$r(h,function(_){return _[0]===n}))return!0;var p=0,m={};return h.forEach(function(_){var x=_.pos,y=_.type,S=_.line;if(!(x[0]>n))if(y==="intersection")++p;else{if(y==="line")return;if(y==="point"){var w=$r(S,function(R){return R[1]!==a}),C=m[x[0]],M=w[1]>a?1:-1;C?C!==M&&++p:m[x[0]]=M}}}),p%2===1}function Po(r,t){var e=r[0],n=r[1],a=t[0],s=t[1],u=a-e,f=s-n;Math.abs(u)<mr&&(u=0),Math.abs(f)<mr&&(f=0);var l=0,v=0,d=0;return u?f?(l=-f/u,v=1,d=-l*e-n):(v=1,d=-n):f&&(l=-1,d=e),[l,v,d]}function Of(r,t){var e=r[0],n=r[1],a=r[2],s=t[0],u=t[1],f=t[2],l=e===0&&s===0,v=n===0&&u===0,d=[];if(l&&v)return[];if(l){var h=-a/n,p=-f/u;return h!==p?[]:[[-1/0,h],[1/0,h]]}else if(v){var m=-a/e,_=-f/s;return m!==_?[]:[[m,-1/0],[m,1/0]]}else if(e===0){var x=-a/n,y=-(u*x+f)/s;d=[[y,x]]}else if(s===0){var x=-f/u,y=-(n*x+a)/e;d=[[y,x]]}else if(n===0){var y=-a/e,x=-(s*y+f)/u;d=[[y,x]]}else if(u===0){var y=-f/s,x=-(e*y+a)/n;d=[[y,x]]}else{var y=(n*f-u*a)/(u*e-n*s),x=-(e*y+a)/n;d=[[y,x]]}return d.map(function(S){return[S[0],S[1]]})}function cp(r,t){var e=t.map(function(h){return[0,1].map(function(p){return[Math.min(h[0][p],h[1][p]),Math.max(h[0][p],h[1][p])]})}),n=[];if(r.length===2){var a=r[0],s=a[0],u=a[1];if(Xr(s-r[1][0])){if(!Xr(u-r[1][1])){var v=Math.max.apply(Math,e.map(function(h){return h[0][0]})),d=Math.min.apply(Math,e.map(function(h){return h[0][1]}));if(Xr(v-d)>0)return[];n=[[v,u],[d,u]]}}else{var f=Math.max.apply(Math,e.map(function(h){return h[1][0]})),l=Math.min.apply(Math,e.map(function(h){return h[1][1]}));if(Xr(f-l)>0)return[];n=[[s,f],[s,l]]}}return n.length||(n=r.filter(function(h){var p=h[0],m=h[1];return e.every(function(_){return 0<=Xr(p-_[0][0])&&0<=Xr(_[0][1]-p)&&0<=Xr(m-_[1][0])&&0<=Xr(_[1][1]-m)})})),n.map(function(h){return[Xr(h[0]),Xr(h[1])]})}function Uu(r){return zb(r.slice(1),[r[0]]).map(function(t,e){return[r[e],t]})}function kb(r,t){var e=r.slice(),n=t.slice();Ov(e)===-1&&e.reverse(),Ov(n)===-1&&n.reverse();var a=Uu(e),s=Uu(n),u=a.map(function(d){return Po(d[0],d[1])}),f=s.map(function(d){return Po(d[0],d[1])}),l=[];u.forEach(function(d,h){var p=a[h],m=[];f.forEach(function(_,x){var y=Of(d,_),S=cp(y,[p,s[x]]);m.push.apply(m,S.map(function(w){return{index1:h,index2:x,pos:w,type:"intersection"}}))}),m.sort(function(_,x){return Ve(p[0],_.pos)-Ve(p[0],x.pos)}),l.push.apply(l,m),qu(p[1],n)&&l.push({index1:h,index2:-1,pos:p[1],type:"inside"})}),s.forEach(function(d,h){if(qu(d[1],e)){var p=!1,m=qe(l,function(_){var x=_.index2;return x===h?(p=!0,!1):!!p});m===-1&&(p=!1,m=qe(l,function(_){var x=_.index1,y=_.index2;return x===-1&&y+1===h?(p=!0,!1):!!p})),m===-1?l.push({index1:-1,index2:h,pos:d[1],type:"inside"}):l.splice(m,0,{index1:-1,index2:h,pos:d[1],type:"inside"})}});var v={};return l.filter(function(d){var h=d.pos,p=h[0]+"x"+h[1];return v[p]?!1:(v[p]=!0,!0)})}function Nb(r,t){var e=kb(r,t);return e.map(function(n){var a=n.pos;return a})}function Wb(r,t){var e=Nb(r,t);return lp(e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ku=function(r,t){return Ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Ku(r,t)};function Hb(r,t){Ku(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var gr=function(){return gr=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},gr.apply(this,arguments)};function Yb(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function Eu(r){return Yb([r[0].clientX,r[0].clientY],[r[1].clientX,r[1].clientY])/Math.PI*180}function Xb(r){return r.touches&&r.touches.length>=2}function po(r){return r?r.touches?$b(r.touches):[vp(r)]:[]}function Vb(r){return r&&(r.type.indexOf("mouse")>-1||"button"in r)}function kv(r,t,e){var n=e.length,a=Qi(r,n),s=a.clientX,u=a.clientY,f=a.originalClientX,l=a.originalClientY,v=Qi(t,n),d=v.clientX,h=v.clientY,p=Qi(e,n),m=p.clientX,_=p.clientY,x=s-d,y=u-h,S=s-m,w=u-_;return{clientX:f,clientY:l,deltaX:x,deltaY:y,distX:S,distY:w}}function Cu(r){return Math.sqrt(Math.pow(r[0].clientX-r[1].clientX,2)+Math.pow(r[0].clientY-r[1].clientY,2))}function $b(r){for(var t=Math.min(r.length,2),e=[],n=0;n<t;++n)e.push(vp(r[n]));return e}function vp(r){return{clientX:r.clientX,clientY:r.clientY}}function Qi(r,t){t===void 0&&(t=r.length);for(var e={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(r.length,t),a=0;a<n;++a){var s=r[a];e.originalClientX+="originalClientX"in s?s.originalClientX:s.clientX,e.originalClientY+="originalClientY"in s?s.originalClientY:s.clientY,e.clientX+=s.clientX,e.clientY+=s.clientY}return t?{clientX:e.clientX/t,clientY:e.clientY/t,originalClientX:e.originalClientX/t,originalClientY:e.originalClientY/t}:e}var Du=function(){function r(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return r.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),Eu(t)},r.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),Eu(t)-Eu(this.startClients)},r.prototype.getPosition=function(t,e){t===void 0&&(t=this.prevClients);var n=kv(t||this.prevClients,this.prevClients,this.startClients),a=n.deltaX,s=n.deltaY;return this.movement+=Math.sqrt(a*a+s*s),this.prevClients=t,n},r.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var e=this.prevClients,n=this.startClients,a=Math.min(this.length,e.length),s=[],u=0;u<a;++u)s[u]=kv([t[u]],[e[u]],[n[u]]);return s},r.prototype.getMovement=function(t){var e=this.movement;if(!t)return e;var n=Qi(t,this.length),a=Qi(this.prevClients,this.length),s=n.clientX-a.clientX,u=n.clientY-a.clientY;return Math.sqrt(s*s+u*u)+e},r.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),Cu(t)},r.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),Cu(t)/Cu(this.startClients)},r.prototype.move=function(t,e){this.startClients.forEach(function(n){n.clientX-=t,n.clientY-=e}),this.prevClients.forEach(function(n){n.clientX-=t,n.clientY-=e})},r}(),Nv=["textarea","input"],qb=function(r){Hb(t,r);function t(e,n){n===void 0&&(n={});var a=r.call(this)||this;a.options={},a.flag=!1,a.pinchFlag=!1,a.data={},a.isDrag=!1,a.isPinch=!1,a.clientStores=[],a.targets=[],a.prevTime=0,a.doubleFlag=!1,a._useMouse=!1,a._useTouch=!1,a._useDrag=!1,a._dragFlag=!1,a._isTrusted=!1,a._isMouseEvent=!1,a._isSecondaryButton=!1,a._preventMouseEvent=!1,a._prevInputEvent=null,a._isDragAPI=!1,a._isIdle=!0,a._preventMouseEventId=0,a._window=window,a.onDragStart=function(p,m){if(m===void 0&&(m=!0),!(!a.flag&&p.cancelable===!1)){var _=p.type.indexOf("drag")>=-1;if(!(a.flag&&_)){a._isDragAPI=!0;var x=a.options,y=x.container,S=x.pinchOutside,w=x.preventWheelClick,C=x.preventRightClick,M=x.preventDefault,R=x.checkInput,O=x.dragFocusedInput,T=x.preventClickEventOnDragStart,I=x.preventClickEventOnDrag,P=x.preventClickEventByCondition,G=a._useTouch,H=!a.flag;if(a._isSecondaryButton=p.which===3||p.button===2,w&&(p.which===2||p.button===1)||C&&(p.which===3||p.button===2))return a.stop(),!1;if(H){var W=a._window.document.activeElement,L=p.target;if(L){var Y=L.tagName.toLowerCase(),X=Nv.indexOf(Y)>-1,j=L.isContentEditable;if(X||j){if(R||!O&&W===L)return!1;if(W&&(W===L||j&&W.isContentEditable&&W.contains(L)))if(O)L.blur();else return!1}else if((M||p.type==="touchstart")&&W){var tt=W.tagName.toLowerCase();(W.isContentEditable||Nv.indexOf(tt)>-1)&&W.blur()}(T||I||P)&&Or(a._window,"click",a._onClick,!0)}a.clientStores=[new Du(po(p))],a._isIdle=!1,a.flag=!0,a.isDrag=!1,a._isTrusted=m,a._dragFlag=!0,a._prevInputEvent=p,a.data={},a.doubleFlag=na()-a.prevTime<200,a._isMouseEvent=Vb(p),!a._isMouseEvent&&a._preventMouseEvent&&a._allowMouseEvent();var U=a._preventMouseEvent||a.emit("dragStart",gr(gr({data:a.data,datas:a.data,inputEvent:p,isMouseEvent:a._isMouseEvent,isSecondaryButton:a._isSecondaryButton,isTrusted:m,isDouble:a.doubleFlag},a.getCurrentStore().getPosition()),{preventDefault:function(){p.preventDefault()},preventDrag:function(){a._dragFlag=!1}}));U===!1&&a.stop(),a._isMouseEvent&&a.flag&&M&&p.preventDefault()}if(!a.flag)return!1;var nt=0;if(H?(a._attchDragEvent(),G&&S&&(nt=setTimeout(function(){Or(y,"touchstart",a.onDragStart,{passive:!1})}))):G&&S&&Sr(y,"touchstart",a.onDragStart),a.flag&&Xb(p)){if(clearTimeout(nt),H&&p.touches.length!==p.changedTouches.length)return;a.pinchFlag||a.onPinchStart(p)}}}},a.onDrag=function(p,m){if(a.flag){var _=a.options.preventDefault;!a._isMouseEvent&&_&&p.preventDefault(),a._prevInputEvent=p;var x=po(p),y=a.moveClients(x,p,!1);if(a._dragFlag){if(a.pinchFlag||y.deltaX||y.deltaY){var S=a._preventMouseEvent||a.emit("drag",gr(gr({},y),{isScroll:!!m,inputEvent:p}));if(S===!1){a.stop();return}}a.pinchFlag&&a.onPinch(p,x)}a.getCurrentStore().getPosition(x,!0)}},a.onDragEnd=function(p){if(a.flag){var m=a.options,_=m.pinchOutside,x=m.container,y=m.preventClickEventOnDrag,S=m.preventClickEventOnDragStart,w=m.preventClickEventByCondition,C=a.isDrag;(y||S||w)&&requestAnimationFrame(function(){a._allowClickEvent()}),!w&&!S&&y&&!C&&a._allowClickEvent(),a._useTouch&&_&&Sr(x,"touchstart",a.onDragStart),a.pinchFlag&&a.onPinchEnd(p);var M=p!=null&&p.touches?po(p):[],R=M.length;R===0||!a.options.keepDragging?a.flag=!1:a._addStore(new Du(M));var O=a._getPosition(),T=na(),I=!C&&a.doubleFlag;a._prevInputEvent=null,a.prevTime=C||I?0:T,a.flag||(a._dettachDragEvent(),a._preventMouseEvent||a.emit("dragEnd",gr({data:a.data,datas:a.data,isDouble:I,isDrag:C,isClick:!C,isMouseEvent:a._isMouseEvent,isSecondaryButton:a._isSecondaryButton,inputEvent:p,isTrusted:a._isTrusted},O)),a.clientStores=[],a._isMouseEvent||(a._preventMouseEvent=!0,clearTimeout(a._preventMouseEventId),a._preventMouseEventId=setTimeout(function(){a._preventMouseEvent=!1},200)),a._isIdle=!0)}},a.onBlur=function(){a.onDragEnd()},a._allowClickEvent=function(){Sr(a._window,"click",a._onClick,!0)},a._onClick=function(p){a._allowClickEvent(),a._allowMouseEvent();var m=a.options.preventClickEventByCondition;m!=null&&m(p)||(p.stopPropagation(),p.preventDefault())},a._onContextMenu=function(p){var m=a.options;m.preventRightClick?a.onDragEnd(p):p.preventDefault()},a._passCallback=function(){};var s=[].concat(e),u=s[0];a._window=Nd(u)?u:fn(u),a.options=gr({checkInput:!1,container:u&&!("document"in u)?fn(u):u,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var f=a.options,l=f.container,v=f.events,d=f.checkWindowBlur;if(a._useDrag=v.indexOf("drag")>-1,a._useTouch=v.indexOf("touch")>-1,a._useMouse=v.indexOf("mouse")>-1,a.targets=s,a._useDrag&&s.forEach(function(p){Or(p,"dragstart",a.onDragStart)}),a._useMouse&&(s.forEach(function(p){Or(p,"mousedown",a.onDragStart),Or(p,"mousemove",a._passCallback)}),Or(l,"contextmenu",a._onContextMenu)),d&&Or(fn(),"blur",a.onBlur),a._useTouch){var h={passive:!1};s.forEach(function(p){Or(p,"touchstart",a.onDragStart,h),Or(p,"touchmove",a._passCallback,h)})}return a}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(e){return this.getCurrentStore().getMovement(e)+this.clientStores.slice(1).reduce(function(n,a){return n+a.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(e,n,a,s){s===void 0&&(s=!0),this.flag&&(this.clientStores[0].move(e,n),s&&this.onDrag(a,!0))},t.prototype.move=function(e,n){var a=e[0],s=e[1],u=this.getCurrentStore(),f=u.prevClients;return this.moveClients(f.map(function(l){var v=l.clientX,d=l.clientY;return{clientX:v+a,clientY:d+s,originalClientX:v,originalClientY:d}}),n,!0)},t.prototype.triggerDragStart=function(e){this.onDragStart(e,!1)},t.prototype.setEventData=function(e){var n=this.data;for(var a in e)n[a]=e[a];return this},t.prototype.setEventDatas=function(e){return this.setEventData(e)},t.prototype.getCurrentEvent=function(e){return e===void 0&&(e=this._prevInputEvent),gr(gr({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var e=this,n=this.targets,a=this.options.container;this.off(),Sr(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(s){Sr(s,"dragstart",e.onDragStart)}),this._useMouse&&(n.forEach(function(s){Sr(s,"mousedown",e.onDragStart)}),Sr(a,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(s){Sr(s,"touchstart",e.onDragStart)}),Sr(a,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(e){var n=this,a=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>a)){var s=new Du(po(e));this.pinchFlag=!0,this._addStore(s);var u=this.emit("pinchStart",gr(gr({data:this.data,datas:this.data,angle:s.getAngle(),touches:this.getCurrentStore().getPositions()},s.getPosition()),{inputEvent:e,isTrusted:this._isTrusted,preventDefault:function(){e.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));u===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(e,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var a=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",gr(gr({data:this.data,datas:this.data,movement:this.getMovement(n),angle:a.getAngle(n),rotation:a.getRotation(n),touches:a.getPositions(n),scale:a.getScale(n),distance:a.getDistance(n)},a.getPosition(n)),{inputEvent:e,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(e){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var a=this.getCurrentStore();this.emit("pinchEnd",gr(gr({data:this.data,datas:this.data,isPinch:n,touches:a.getPositions()},a.getPosition()),{inputEvent:e}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(e,n,a){var s=this._getPosition(e,a),u=this.isDrag;(s.deltaX||s.deltaY)&&(this.isDrag=!0);var f=!1;return!u&&this.isDrag&&(f=!0),gr(gr({data:this.data,datas:this.data},s),{movement:this.getMovement(e),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:f})},t.prototype._addStore=function(e){this.clientStores.splice(0,0,e)},t.prototype._getPosition=function(e,n){var a=this.getCurrentStore(),s=a.getPosition(e,n),u=this.clientStores.slice(1).reduce(function(v,d){var h=d.getPosition();return v.distX+=h.distX,v.distY+=h.distY,v},s),f=u.distX,l=u.distY;return gr(gr({},s),{distX:f,distY:l})},t.prototype._attchDragEvent=function(){var e=this._window,n=this.options.container,a={passive:!1};this._isDragAPI&&(Or(n,"dragover",this.onDrag,a),Or(e,"dragend",this.onDragEnd)),this._useMouse&&(Or(n,"mousemove",this.onDrag),Or(e,"mouseup",this.onDragEnd)),this._useTouch&&(Or(n,"touchmove",this.onDrag,a),Or(e,"touchend",this.onDragEnd,a),Or(e,"touchcancel",this.onDragEnd,a))},t.prototype._dettachDragEvent=function(){var e=this._window,n=this.options.container;this._isDragAPI&&(Sr(n,"dragover",this.onDrag),Sr(e,"dragend",this.onDragEnd)),this._useMouse&&(Sr(n,"mousemove",this.onDrag),Sr(e,"mouseup",this.onDragEnd)),this._useTouch&&(Sr(n,"touchstart",this.onDragStart),Sr(n,"touchmove",this.onDrag),Sr(e,"touchend",this.onDragEnd),Sr(e,"touchcancel",this.onDragEnd))},t.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},t}(qo);function Ub(r){for(var t=5381,e=r.length;e;)t=t*33^r.charCodeAt(--e);return t>>>0}var Kb=Ub;function Zb(r){return Kb(r).toString(36)}function Jb(r){if(r&&r.getRootNode){var t=r.getRootNode();if(t.nodeType===11)return t}}function Qb(r,t,e){return e.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,a){var s=a.trim();return(s?Pn(s):[""]).map(function(u){var f=u.trim();return f.indexOf("@")===0?f:f.indexOf(":global")>-1?f.replace(/\:global/g,""):f.indexOf(":host")>-1?"".concat(f.replace(/\:host/g,".".concat(r))):f?".".concat(r," ").concat(f):".".concat(r)}).join(", ")+" {"})}function jb(r,t,e,n,a){var s=_i(n),u=s.createElement("style");return u.setAttribute("type","text/css"),u.setAttribute("data-styled-id",r),u.setAttribute("data-styled-count","1"),e.nonce&&u.setAttribute("nonce",e.nonce),u.innerHTML=Qb(r,t,e),(a||s.head||s.body).appendChild(u),u}function tw(r){var t="rCS"+Zb(r);return{className:t,inject:function(e,n){n===void 0&&(n={});var a=Jb(e),s=(a||e.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!s)s=jb(t,r,n,e,a);else{var u=parseFloat(s.getAttribute("data-styled-count"))||0;s.setAttribute("data-styled-count","".concat(u+1))}return{destroy:function(){var f,l=parseFloat(s.getAttribute("data-styled-count"))||0;l<=1?(s.remove?s.remove():(f=s.parentNode)===null||f===void 0||f.removeChild(s),s=null):s.setAttribute("data-styled-count","".concat(l-1))}}}}}var Zu=function(){return Zu=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Zu.apply(this,arguments)};function rw(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function dp(r,t){var e=tw(t),n=e.className;return JS(function(a,s){var u=a.className,f=u===void 0?"":u;a.cspNonce;var l=rw(a,["className","cspNonce"]),v=lb();return cb(s,function(){return v.current},[]),Jd(function(){var d=e.inject(v.current,{nonce:a.cspNonce});return function(){d.destroy()}},[]),_e(r,Zu({ref:v,"data-styled-id":n,className:"".concat(f," ").concat(n)},l))})}var Ju=function(r,t){return Ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},Ju(r,t)};function ga(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ju(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var B=function(){return B=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},B.apply(this,arguments)};function ew(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function nw(r,t,e,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(s=(a<3?u(s):a>3?u(t,e,s):u(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s}function iw(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),a,s=[],u;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(f){u={error:f}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(u)throw u.error}}return s}function rt(r,t,e){if(e||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))}function ma(r,t){return B({events:[],props:[],name:r},t)}var aw=["n","w","s","e"],Rf=["n","w","s","e","nw","ne","sw","se"];function ow(r,t){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*r,'px" height="').concat(32*r,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(t,'deg);transform-origin: 16px 16px"></path></svg>')}function sw(r){var t=ow(1,r),e=Math.round(r/45)*45%180,n="ns-resize";return e===135?n="nwse-resize":e===45?n="nesw-resize":e===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(t,"') 16 16, ").concat(n,";")}var yi=gb(),pp=yi.browser.webkit,hp=pp&&function(){var r=typeof window>"u"?{userAgent:""}:window.navigator,t=/applewebkit\/([^\s]+)/g.exec(r.userAgent.toLowerCase());return t?parseFloat(t[1])<605:!1}(),gp=yi.browser.name,mp=parseInt(yi.browser.version,10),uw=gp==="chrome",fw=yi.browser.chromium,lw=parseInt(yi.browser.chromiumVersion,10)||0,cw=uw&&mp>=109||fw&&lw>=109,vw=gp==="firefox",dw=parseInt(yi.browser.webkitVersion,10)>=612||mp>=15,Tf="moveable-",pw=Rf.map(function(r){var t="",e="",n="center",a="center",s="calc(var(--moveable-control-padding, 20) * -1px)";return r.indexOf("n")>-1&&(t="top: ".concat(s,";"),a="bottom"),r.indexOf("s")>-1&&(t="top: 0px;",a="top"),r.indexOf("w")>-1&&(e="left: ".concat(s,";"),n="right"),r.indexOf("e")>-1&&(e="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(r,`"] {
        `).concat(e).concat(t,`
        transform-origin: `).concat(n," ").concat(a,`;
    }`)}).join(`
`),hw=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(pw,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(r){return`
.direction[data-rotation="`.concat(r,'"], :global .view-control-rotation').concat(r,` {
`).concat(sw(r),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(hp?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),gw=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Qu=1e-4,Lr=1e-7,ho=1e-9,ju=Math.pow(10,10),Wv=-ju,mw={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},If={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},_p={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},xp=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function _a(r,t,e,n,a,s){var u,f;s===void 0&&(s="draggable");var l=(f=(u=t.gestos[s])===null||u===void 0?void 0:u.move(e,r.inputEvent))!==null&&f!==void 0?f:{},v=l.originalDatas||l.datas,d=v[s]||(v[s]={});return B(B({},a?sh(t,l):l),{isPinch:!!n,parentEvent:!0,datas:d,originalDatas:r.originalDatas})}var di=function(){function r(t){var e;t===void 0&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(e={},e[t]={},e)}return r.prototype.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),B(B({},this.move(t,e.inputEvent)),{type:"dragstart"})},r.prototype.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},r.prototype.move=function(t,e){var n,a,s=!1;if(!this.isFlag)this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],a=t[1],this.isFlag=!0;else{var u=this.isDrag;n=this.prevX+t[0],a=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0),!u&&this.isDrag&&(s=!0)}return this.prevX=n,this.prevY=a,{type:"drag",clientX:n,clientY:a,inputEvent:e,isFirstDrag:s,isDrag:this.isDrag,distX:n-this.startX,distY:a-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},r}();function li(r,t,e,n){var a=r.length===16,s=a?4:3,u=Nn(r,e,n,s),f=F(u,4),l=F(f[0],2),v=l[0],d=l[1],h=F(f[1],2),p=h[0],m=h[1],_=F(f[2],2),x=_[0],y=_[1],S=F(f[3],2),w=S[0],C=S[1],M=F(or(r,t,s),2),R=M[0],O=M[1],T=Math.min(v,p,x,w),I=Math.min(d,m,y,C),P=Math.max(v,p,x,w),G=Math.max(d,m,y,C);v=v-T||0,p=p-T||0,x=x-T||0,w=w-T||0,d=d-I||0,m=m-I||0,y=y-I||0,C=C-I||0,R=R-T||0,O=O-I||0;var H=r[0],W=r[s+1],L=zr(H*W);return{left:T,top:I,right:P,bottom:G,origin:[R,O],pos1:[v,d],pos2:[p,m],pos3:[x,y],pos4:[w,C],direction:L}}function yp(r,t){var e=t.clientX,n=t.clientY,a=t.datas,s=r.state,u=s.moveableClientRect,f=s.rootMatrix,l=s.is3d,v=s.pos1,d=u.left,h=u.top,p=l?4:3,m=F(xt(gi(f,[e-d,n-h],p),v),2),_=m[0],x=m[1],y=F(Te({datas:a,distX:_,distY:x}),2),S=y[0],w=y[1];return[S,w]}function kn(r,t){var e=t.datas,n=r.state,a=n.allMatrix,s=n.beforeMatrix,u=n.is3d,f=n.left,l=n.top,v=n.origin,d=n.offsetMatrix,h=n.targetMatrix,p=n.transformOrigin,m=u?4:3;e.is3d=u,e.matrix=a,e.targetMatrix=h,e.beforeMatrix=s,e.offsetMatrix=d,e.transformOrigin=p,e.inverseMatrix=Re(a,m),e.inverseBeforeMatrix=Re(s,m),e.absoluteOrigin=Gn(Yt([f,l],v),m),e.startDragBeforeDist=Ir(e.inverseBeforeMatrix,e.absoluteOrigin,m),e.startDragDist=Ir(e.inverseMatrix,e.absoluteOrigin,m)}function _w(r){return li(r.datas.beforeTransform,[50,50],100,100).direction}function Uo(r,t,e){var n=t.datas,a=t.originalDatas.beforeRenderable,s=n.transformIndex,u=a.nextTransforms,f=u.length,l=a.nextTransformAppendedIndexes,v=-1;s===-1?(e==="translate"?v=0:e==="rotate"&&(v=qe(u,function(m){return m.match(/scale\(/g)})),v===-1&&(v=u.length),n.transformIndex=v):$r(l,function(m){return m.index===s&&m.functionName===e})?v=s:v=s+l.filter(function(m){return m.index<s}).length;var d=YE(u,r.state,v),h=d.targetFunction,p=e==="rotate"?"rotateZ":e;n.beforeFunctionTexts=d.beforeFunctionTexts,n.afterFunctionTexts=d.afterFunctionTexts,n.beforeTransform=d.beforeFunctionMatrix,n.beforeTransform2=d.beforeFunctionMatrix2,n.targetTansform=d.targetFunctionMatrix,n.afterTransform=d.afterFunctionMatrix,n.afterTransform2=d.afterFunctionMatrix2,n.targetAllTransform=d.allFunctionMatrix,h.functionName===p?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):f>v&&(n.isAppendTransform=!0,a.nextTransformAppendedIndexes=rt(rt([],F(l),!1),[{functionName:e,index:v,isAppend:!0}],!1))}function Ko(r,t,e){return"".concat(r.beforeFunctionTexts.join(" ")," ").concat(r.isAppendTransform?e:t," ").concat(r.afterFunctionTexts.join(" "))}function xw(r){var t=r.datas,e=r.distX,n=r.distY,a=F(bp({datas:t,distX:e,distY:n}),2),s=a[0],u=a[1],f=Sp(t,Sb([s,u],4));return Ir(f,Gn([0,0,0],4),4)}function Sp(r,t,e){var n=r.beforeTransform,a=r.afterTransform,s=r.beforeTransform2,u=r.afterTransform2,f=r.targetAllTransform,l=e?Jt(f,t,4):Jt(t,f,4),v=Jt(Re(e?s:n,4),l,4),d=Jt(v,Re(e?u:a,4),4);return d}function bp(r){var t=r.datas,e=r.distX,n=r.distY,a=t.inverseBeforeMatrix,s=t.is3d,u=t.startDragBeforeDist,f=t.absoluteOrigin,l=s?4:3;return xt(Ir(a,Yt(f,[e,n]),l),u)}function Te(r,t){var e=r.datas,n=r.distX,a=r.distY,s=e.inverseBeforeMatrix,u=e.inverseMatrix,f=e.is3d,l=e.startDragBeforeDist,v=e.startDragDist,d=e.absoluteOrigin,h=f?4:3;return xt(Ir(t?s:u,Yt(d,[n,a]),h),t?l:v)}function yw(r,t){var e=r.datas,n=r.distX,a=r.distY,s=e.beforeMatrix,u=e.matrix,f=e.is3d,l=e.startDragBeforeDist,v=e.startDragDist,d=e.absoluteOrigin,h=f?4:3;return xt(Ir(t?s:u,Yt(t?l:v,[n,a]),h),d)}function Sw(r,t,e,n,a,s){return n===void 0&&(n=t),a===void 0&&(a=e),s===void 0&&(s=[0,0]),r?r.map(function(u,f){var l=la(u),v=l.value,d=l.unit,h=f?a:n,p=f?e:t;if(u==="%"||isNaN(v)){var m=h?s[f]/h:0;return p*m}else if(d!=="%")return v;return p*v/100}):s}function wp(r){var t=[];return r[1]>=0&&(r[0]>=0&&t.push(3),r[0]<=0&&t.push(2)),r[1]<=0&&(r[0]>=0&&t.push(1),r[0]<=0&&t.push(0)),t}function bw(r,t){return wp(t).map(function(e){return r[e]})}function Mu(r,t){var e=(t+1)/2;return[To(r[0][0],r[1][0],e,1-e),To(r[0][1],r[1][1],e,1-e)]}function wr(r,t){var e=Mu([r[0],r[1]],t[0]),n=Mu([r[2],r[3]],t[0]);return Mu([e,n],t[1])}function ww(r,t,e,n,a,s){var u=Nn(t,e,n,a),f=wr(u,s),l=r[0]-f[0],v=r[1]-f[1];return[l,v]}function xa(r,t,e,n){return Jt(r,ta(t,n,e),n)}function Ew(r,t,e,n){var a=r.transformOrigin,s=r.offsetMatrix,u=r.is3d,f=u?4:3,l;if(Vr(e)){var v=t.beforeTransform,d=t.afterTransform;n?l=Se(aa(e),4,f):l=Se(Jt(Jt(v,aa([e]),4),d,4),4,f)}else l=e;return xa(s,l,a,f)}function Cw(r,t){var e=r.transformOrigin,n=r.offsetMatrix,a=r.is3d,s=r.targetMatrix,u=r.targetAllTransform,f=a?4:3;return xa(n,Jt(u||s,Df(t,f),f),e,f)}function Zo(r,t){var e=Si(t);return{setTransform:function(n,a){a===void 0&&(a=-1),e.startTransforms=_r(n)?n:ln(n),tf(r,t,a)},setTransformIndex:function(n){tf(r,t,n)}}}function Jo(r,t,e){var n=Si(t),a=n.startTransforms;tf(r,t,qe(a,function(s){return s.indexOf("".concat(e,"("))===0}))}function tf(r,t,e){var n=Si(t),a=t.datas;if(a.transformIndex=e,e!==-1){var s=n.startTransforms[e];if(s){var u=r.state,f=vi([s],{"x%":function(l){return l/100*u.offsetWidth},"y%":function(l){return l/100*u.offsetHeight}});a.startValue=f[0].functionValue}}}function Af(r,t){var e=Si(r);e.nextTransforms=ln(t)}function Si(r){return r.originalDatas.beforeRenderable}function Bo(r){var t=r.originalDatas.beforeRenderable;return t.nextTransforms}function go(r){return(Bo(r)||[]).join(" ")}function mo(r){return Si(r).nextStyle}function Ep(r,t,e,n,a){Af(a,t);var s=Gr.drag(r,_a(a,r.state,e,n,!1)),u=s?s.transform:t;return B(B({transform:t,drag:s},Fr({transform:u},a)),{afterTransform:u})}function Pf(r,t,e,n,a,s){var u=Ew(r.state,a,t,s),f=Ow(r,e,n,u);return f}function Cp(r,t,e,n,a,s,u){var f=Pf(r,t,e,a,s,u),l=r.state,v=l.left,d=l.top,h=r.props.groupable,p=h?v:0,m=h?d:0,_=xt(n,f);return xt(_,[p,m])}function Dw(r,t,e,n,a,s,u){var f=Cp(r,t,e,n,a,s,u);return f}function Mw(r,t,e){return[t?-1+r[0]/(t/2):0,e?-1+r[1]/(e/2):0]}function Ow(r,t,e,n){n===void 0&&(n=r.state.allMatrix);var a=r.state,s=a.width,u=a.height,f=a.is3d,l=f?4:3,v=[s/2*(1+t[0])+e[0],u/2*(1+t[1])+e[1]];return or(n,v,l)}function Rw(r,t,e){var n=e.fixedDirection,a=e.fixedPosition,s=e.fixedOffset;return Cp(r,"rotate(".concat(t,"deg)"),n,a,s,e)}function Tw(r,t,e,n,a,s){var u=r.props.groupable,f=r.state,l=f.transformOrigin,v=f.offsetMatrix,d=f.is3d,h=f.width,p=f.height,m=f.left,_=f.top,x=s.fixedDirection,y=s.nextTargetMatrix||f.targetMatrix,S=d?4:3,w=Sw(a,t,e,h,p,l),C=u?m:0,M=u?_:0,R=xa(v,y,w,S),O=ww(n,R,t,e,S,x);return xt(O,[C,M])}function Iw(r,t){return wr(ve(r.state),t)}function Aw(r,t){var e=r.targetGesto,n=r.controlGesto,a;return e!=null&&e.isFlag()&&(a=e.getEventData()[t]),!a&&(n!=null&&n.isFlag())&&(a=n.getEventData()[t]),a||{}}function Pw(r){if(r&&r.getRootNode){var t=r.getRootNode();if(t.nodeType===11)return t}}function Bw(r){var t=r("scale"),e=r("rotate"),n=r("translate"),a=[];return n&&n!=="0px"&&n!=="none"&&a.push("translate(".concat(n.split(/\s+/).join(","),")")),e&&e!=="1"&&e!=="none"&&a.push("rotate(".concat(e,")")),t&&t!=="1"&&t!=="none"&&a.push("scale(".concat(t.split(/\s+/).join(","),")")),a}function Dp(r,t,e){for(var n=r,a=[],s=xf(r)||pn(r),u=!e&&r===t||r===s,f=u,l=!1,v=3,d,h,p,m=!1,_=sa(t,t,!0).offsetParent,x=1;n&&!f;){f=u;var y=qr(n),S=y("position"),w=Zp(n),C=S==="fixed",M=Bw(y),R=bb(IE(w)),O=void 0,T=!1,I=!1,P=0,G=0,H=0,W=0,L={hasTransform:!1,fixedContainer:null};C&&(m=!0,L=zE(n),_=L.fixedContainer);var Y=R.length;!l&&(Y===16||M.length)&&(l=!0,v=4,sf(a),p&&(p=Se(p,3,4))),l&&Y===9&&(R=Se(R,3,4));var X=GE(n,r),j=X.tagName,tt=X.hasOffset,U=X.isSVG,nt=X.origin,et=X.targetOrigin,$=X.offset,st=F($,2),lt=st[0],ot=st[1];j==="svg"&&!n.ownerSVGElement&&p&&(a.push({type:"target",target:n,matrix:FE(n,v)}),a.push({type:"offset",target:n,matrix:nr(v)}));var ut=parseFloat(y("zoom"))||1;if(C)O=L.fixedContainer,T=!0;else{var it=sa(n,t,!1,!0,y),vt=it.offsetZoom;if(O=it.offsetParent,T=it.isEnd,I=it.isStatic,x*=vt,(it.isCustomElement||vt!==1)&&I)lt-=O.offsetLeft,ot-=O.offsetTop;else if(vw||cw){var ht=it.parentSlotElement;if(ht){for(var Et=O,Ft=0,at=0;Et&&Pw(Et);)Ft+=Et.offsetLeft,at+=Et.offsetTop,Et=Et.offsetParent;lt-=Ft,ot-=at}}}if(pp&&!dw&&tt&&!U&&I&&(S==="relative"||S==="static")&&(lt-=O.offsetLeft,ot-=O.offsetTop,u=u||T),C)tt&&L.hasTransform&&(H=O.clientLeft,W=O.clientTop);else if(tt&&_!==O&&(P=O.clientLeft,G=O.clientTop),tt&&O===s){var pt=Jp(n,!1);lt+=pt[0],ot+=pt[1]}if(a.push({type:"target",target:n,matrix:ta(R,v,nt)}),M.length&&(a.push({type:"offset",target:n,matrix:nr(v)}),a.push({type:"target",target:n,matrix:ta(aa(M),v,nt)})),tt){var Ht=n===r,mt=Ht?0:n.scrollLeft,wt=Ht?0:n.scrollTop;a.push({type:"offset",target:n,matrix:zn([lt-mt+P-H,ot-wt+G-W],v)})}else a.push({type:"offset",target:n,origin:nt});if(ut!==1&&a.push({type:"zoom",target:n,matrix:ta(Df([ut,ut],v),v,[0,0])}),p||(p=R),d||(d=nt),h||(h=et),f||C)break;n=O,u=T,(!e||n===s)&&(f=u)}return p||(p=nr(v)),d||(d=[0,0]),h||(h=[0,0]),{zoom:x,offsetContainer:_,matrixes:a,targetMatrix:p,transformOrigin:d,targetOrigin:h,is3d:l,hasFixed:m}}var Rn=null,Tn=null,oi=null;function pi(r){r?(window.Map&&(Rn=new Map,Tn=new Map),oi=[]):(Rn=null,oi=null,Tn=null)}function Gw(r){var t=Tn==null?void 0:Tn.get(r);if(t)return t;var e=ra(r,!0);return Tn&&Tn.set(r,e),e}function zw(r,t){if(oi){var e=$r(oi,function(a){return a[0][0]==r&&a[0][1]==t});if(e)return e[1]}var n=Dp(r,t,!0);return oi&&oi.push([[r,t],n]),n}function qr(r){var t=Rn==null?void 0:Rn.get(r);if(!t){var e=fn(r).getComputedStyle(r);if(!Rn)return function(s){return e[s]};t={style:e,cached:{}},Rn.set(r,t)}var n=t.cached,a=t.style;return function(s){return s in n||(n[s]=a[s]),n[s]}}function xe(r,t,e){var n=e.originalDatas;n.groupable=n.groupable||{};var a=n.groupable;a.childDatas=a.childDatas||[];var s=a.childDatas;return r.moveables.map(function(u,f){return s[f]=s[f]||{},s[f][t]=s[f][t]||{},B(B({},e),{isRequestChild:!0,datas:s[f][t],originalDatas:s[f]})})}function Ou(r,t,e,n,a,s,u){var f=!!e.match(/Start$/g),l=!!e.match(/End$/g),v=a.isPinch,d=a.datas,h=xe(r,t.name,a),p=r.moveables,m=[],_=h.map(function(x,y){var S=p[y],w=S.state,C=w.gestos,M=x;if(f)M=new di(u).dragStart(n,x),m.push(M);else{if(C[u]||(C[u]=d.childGestos[y]),!C[u])return;M=_a(x,w,n,v,s,u),m.push(M)}var R=t[e](S,B(B({},M),{parentFlag:!0}));return l&&(C[u]=null),R});return f&&(d.childGestos=p.map(function(x){return x.state.gestos[u]})),{eventParams:_,childEvents:m}}function $e(r,t,e,n,a,s){a===void 0&&(a=function(d,h){return h});var u=!!e.match(/End$/g),f=xe(r,t.name,n),l=r.moveables,v=f.map(function(d,h){var p=l[h],m=d;m=a(p,d);var _=t[e](p,B(B({},m),{parentFlag:!0}));return _&&s&&s(p,d,_,h),u&&(p.state.gestos={}),_});return v}function Go(r,t,e,n){var a=e.fixedDirection,s=e.fixedPosition,u=n.datas.startPositions||ve(t.state),f=wr(u,a),l=F(Ir(ha(-r.rotation/180*Math.PI,3),[f[0]-s[0],f[1]-s[1],1],3),2),v=l[0],d=l[1];return n.datas.originalX=v,n.datas.originalY=d,n}function Mp(r,t,e,n){var a=r.getState(),s=a.renderPoses,u=a.rotation,f=a.direction,l=Ln(r.props,t).zoom,v=ji(u/Math.PI*180),d={},h=r.renderState;h.renderDirectionMap||(h.renderDirectionMap={});var p=h.renderDirectionMap;e.forEach(function(_){var x=_.dir;d[x]=!0});var m=zr(f);return e.map(function(_){var x=_.data,y=_.classNames,S=_.dir,w=If[S];if(!w||!d[S])return null;p[S]=!0;var C=(Ct(v,15)+m*_p[S]+720)%180,M={};return Ue(x).forEach(function(R){M["data-".concat(R)]=x[R]}),n.createElement("div",B({className:_t.apply(void 0,rt(["control","direction",S,t],F(y),!1)),"data-rotation":C,"data-direction":S},M,{key:"direction-".concat(S),style:ko.apply(void 0,rt([u,l],F(w.map(function(R){return s[R]})),!1))}))})}function Op(r,t,e,n){var a=Ln(r.props,e),s=a.renderDirections,u=s===void 0?t:s,f=a.displayAroundControls;if(!u)return[];var l=u===!0?Rf:u;return rt(rt([],F(f?Ap(r,n,e,l):[]),!1),F(Mp(r,e,l.map(function(v){return{data:{},classNames:[],dir:v}}),n)),!1)}function oa(r,t,e,n,a,s){for(var u=[],f=6;f<arguments.length;f++)u[f-6]=arguments[f];var l=hr(e,n),v=t?Ct(l/Math.PI*180,15)%180:-1;return r.createElement("div",{key:"line-".concat(s),className:_t.apply(void 0,rt(["line","direction",t?"edge":"",t],F(u),!1)),"data-rotation":v,"data-line-key":s,"data-direction":t,style:Ki(e,n,a,l)})}function Rp(r,t,e,n,a){var s=e===!0?aw:e;return s.map(function(u,f){var l=F(If[u],2),v=l[0],d=l[1];if(d!=null)return oa(r,u,n[v],n[d],a,"".concat(t,"Edge").concat(f),t)}).filter(Boolean)}function Tp(r){return function(t,e){var n=Ln(t.props,r).edge;return n&&(n===!0||n.length)?rt(rt([],F(Rp(e,r,n,t.getState().renderPoses,t.props.zoom)),!1),F(Fw(t,r,e)),!1):Ip(t,r,e)}}function Ip(r,t,e){return Op(r,Rf,t,e)}function Fw(r,t,e){return Op(r,["nw","ne","sw","se"],t,e)}function Ap(r,t,e,n){var a=r.renderState;a.renderDirectionMap||(a.renderDirectionMap={});var s=r.getState(),u=s.renderPoses,f=s.rotation,l=s.direction,v=a.renderDirectionMap,d=r.props.zoom,h=zr(l),p=f/Math.PI*180;return(n||Ue(v)).map(function(m){var _=If[m];if(!_)return null;var x=(Ct(p,15)+h*_p[m]+720)%180,y=["around-control"];return e&&y.push("direction",e),t.createElement("div",{className:_t.apply(void 0,rt([],F(y),!1)),"data-rotation":x,"data-direction":m,key:"direction-around-".concat(m),style:ko.apply(void 0,rt([f,d],F(_.map(function(S){return u[S]})),!1))})})}function Bf(r,t,e){var n=r||{},a=n.position,s=a===void 0?"client":a,u=n.left,f=u===void 0?-1/0:u,l=n.top,v=l===void 0?-1/0:l,d=n.right,h=d===void 0?1/0:d,p=n.bottom,m=p===void 0?1/0:p,_={position:s,left:f,top:v,right:h,bottom:m};return{vertical:Hv(_,t,!0),horizontal:Hv(_,e,!1)}}function Qo(r,t){var e=r.state,n=e.containerClientRect,a=n.clientHeight,s=n.clientWidth,u=n.clientLeft,f=n.clientTop,l=e.snapOffset,v=l.left,d=l.top,h=l.right,p=l.bottom,m=t||r.props.bounds||{},_=m.position||"client",x=_==="css",y=m.left,S=y===void 0?-1/0:y,w=m.top,C=w===void 0?-1/0:w,M=m.right,R=M===void 0?x?-1/0:1/0:M,O=m.bottom,T=O===void 0?x?-1/0:1/0:O;return x&&(R=s+h-v-R,T=a+p-d-T),{left:S+v-u,right:R+v-u,top:C+d-f,bottom:T+d-f}}function Lw(r,t,e){var n=Qo(r),a=n.left,s=n.top,u=n.right,f=n.bottom,l=F(e,2),v=l[0],d=l[1],h=F(xt(e,t),2),p=h[0],m=h[1];J(p)<Lr&&(p=0),J(m)<Lr&&(m=0);var _=m>0,x=p>0,y={isBound:!1,offset:0,pos:0},S={isBound:!1,offset:0,pos:0};if(p===0&&m===0)return{vertical:y,horizontal:S};if(p===0)_?f<d&&(S.pos=f,S.offset=d-f):s>d&&(S.pos=s,S.offset=d-s);else if(m===0)x?u<v&&(y.pos=u,y.offset=v-u):a>v&&(y.pos=a,y.offset=v-a);else{var w=m/p,C=e[1]-w*v,M=0,R=0,O=!1;x&&u<=v?(M=w*u+C,R=u,O=!0):!x&&v<=a&&(M=w*a+C,R=a,O=!0),O&&(M<s||M>f)&&(O=!1),O||(_&&f<=d?(M=f,R=(M-C)/w,O=!0):!_&&d<=s&&(M=s,R=(M-C)/w,O=!0)),O&&(y.isBound=!0,y.pos=R,y.offset=v-R,S.isBound=!0,S.pos=M,S.offset=d-M)}return{vertical:y,horizontal:S}}function Hv(r,t,e){var n=r[e?"left":"top"],a=r[e?"right":"bottom"],s=Math.min.apply(Math,rt([],F(t),!1)),u=Math.max.apply(Math,rt([],F(t),!1)),f=[];return n+1>s&&f.push({direction:"start",isBound:!0,offset:s-n,pos:n}),a-1<u&&f.push({direction:"end",isBound:!0,offset:u-a,pos:a}),f.length||f.push({isBound:!1,offset:0,pos:0}),f.sort(function(l,v){return J(v.offset)-J(l.offset)})}function Yv(r,t,e){var n=e?r.map(function(a){return pa(a,e)}):r;return n.some(function(a){return a[0]<t.left&&J(a[0]-t.left)>.1||a[0]>t.right&&J(a[0]-t.right)>.1||a[1]<t.top&&J(a[1]-t.top)>.1||a[1]>t.bottom&&J(a[1]-t.bottom)>.1})}function kw(r,t,e){var n=ce(r),a=Math.sqrt(n*n-t*t)||0;return[a,-a].sort(function(s,u){return J(s-r[e?0:1])-J(u-r[e?0:1])}).map(function(s){return hr([0,0],e?[s,t]:[t,s])})}function Nw(r,t,e,n,a){if(!r.props.bounds)return[];var s=a*Math.PI/180,u=Qo(r),f=u.left,l=u.top,v=u.right,d=u.bottom,h=f-n[0],p=v-n[0],m=l-n[1],_=d-n[1],x={left:h,top:m,right:p,bottom:_};if(!Yv(e,x,0))return[];var y=[];return[[h,0],[p,0],[m,1],[_,1]].forEach(function(S){var w=F(S,2),C=w[0],M=w[1];e.forEach(function(R){var O=hr([0,0],R);y.push.apply(y,rt([],F(kw(R,C,M).map(function(T){return s+T-O}).filter(function(T){return!Yv(t,x,T)}).map(function(T){return Ct(T*180/Math.PI,Lr)})),!1))})}),y}var Ww=["left","right","center"],Hw=["top","bottom","middle"],Xv={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},cn={start:"left",end:"right",center:"center"},vn={start:"top",end:"bottom",center:"middle"};function si(){return{left:!1,top:!1,right:!1,bottom:!1}}function bi(r,t){var e=r.props,n=e.snappable,a=e.bounds,s=e.innerBounds,u=e.verticalGuidelines,f=e.horizontalGuidelines,l=e.snapGridWidth,v=e.snapGridHeight,d=r.state,h=d.guidelines,p=d.enableSnap;return!n||!p||t&&n!==!0&&n.indexOf(t)<0?!1:!!(l||v||a||s||h&&h.length||u&&u.length||f&&f.length)}function Gf(r){return r===!1?{}:r===!0||!r?{left:!0,right:!0,top:!0,bottom:!0}:r}function Yw(r,t){var e=Gf(r),n={};for(var a in e)a in t&&e[a]&&(n[a]=t[a]);return n}function zf(r,t){var e=Yw(r,t),n=Hw.filter(function(s){return s in e}),a=Ww.filter(function(s){return s in e});return{horizontalNames:n,verticalNames:a,horizontal:n.map(function(s){return e[s]}),vertical:a.map(function(s){return e[s]})}}function Xw(r,t,e){var n=or(r,[t.clientLeft,t.clientTop],e);return[t.left+n[0],t.top+n[1]]}function Vw(r){var t=F(r,2),e=t[0],n=t[1],a=n[0]-e[0],s=n[1]-e[1];Math.abs(a)<mr&&(a=0),Math.abs(s)<mr&&(s=0);var u=0,f=0,l=0;return a?s?(u=-s/a,f=1,l=u*e[0]-e[1]):(f=1,l=-e[1]):(u=-1,l=e[0]),[u,f,l].map(function(v){return Ct(v,mr)})}var Pp="snapRotationThreshold",Bp="snapRotationDegrees",Gp="snapHorizontalThreshold",zp="snapVerticalThreshold";function jo(r,t,e,n,a,s,u){var f;n===void 0&&(n=[]),a===void 0&&(a=[]);var l=r.props,v=((f=r.state.snapThresholdInfo)===null||f===void 0?void 0:f.multiples)||[1,1],d=ad(u,l[Gp],5),h=ad(s,l[zp],5);return Fp(r.state.guidelines,t,e,n,a,d,h,v)}function Fp(r,t,e,n,a,s,u,f){return{vertical:$v(r,"vertical",t,u*f[0],n),horizontal:$v(r,"horizontal",e,s*f[1],a)}}function $w(r,t,e){var n=F(e,2),a=n[0],s=n[1],u=F(t,2),f=u[0],l=u[1],v=F(xt(e,t),2),d=v[0],h=v[1],p=h>0,m=d>0;d=No(d),h=No(h);var _={isSnap:!1,offset:0,pos:0},x={isSnap:!1,offset:0,pos:0};if(d===0&&h===0)return{vertical:_,horizontal:x};var y=jo(r,d?[a]:[],h?[s]:[],[],[],void 0,void 0),S=y.vertical,w=y.horizontal;S.posInfos.filter(function(j){var tt=j.pos;return m?tt>=f:tt<=f}),w.posInfos.filter(function(j){var tt=j.pos;return p?tt>=l:tt<=l}),S.isSnap=S.posInfos.length>0,w.isSnap=w.posInfos.length>0;var C=rf(S),M=C.isSnap,R=C.guideline,O=rf(w),T=O.isSnap,I=O.guideline,P=T?I.pos[1]:0,G=M?R.pos[0]:0;if(d===0)T&&(x.isSnap=!0,x.pos=I.pos[1],x.offset=s-x.pos);else if(h===0)M&&(_.isSnap=!0,_.pos=G,_.offset=a-G);else{var H=h/d,W=e[1]-H*a,L=0,Y=0,X=!1;M?(Y=G,L=H*Y+W,X=!0):T&&(L=P,Y=(L-W)/H,X=!0),X&&(_.isSnap=!0,_.pos=Y,_.offset=a-Y,x.isSnap=!0,x.pos=L,x.offset=s-L)}return{vertical:_,horizontal:x}}function sn(r){var t="";return r===-1||r==="top"||r==="left"?t="start":r===0||r==="center"||r==="middle"?t="center":(r===1||r==="right"||r==="bottom")&&(t="end"),t}function Vv(r,t,e,n){var a=zf(r.props.snapDirections,t),s=jo(r,a.vertical,a.horizontal,a.verticalNames.map(function(l){return sn(l)}),a.horizontalNames.map(function(l){return sn(l)}),e,n),u=sn(a.horizontalNames[s.horizontal.index]),f=sn(a.verticalNames[s.vertical.index]);return{vertical:B(B({},s.vertical),{direction:f}),horizontal:B(B({},s.horizontal),{direction:u})}}function rf(r){var t=r.isSnap;if(!t)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var e=r.posInfos[0],n=e.guidelineInfos[0],a=n.offset,s=n.dist,u=n.guideline;return{isSnap:t,offset:a,dist:s,pos:e.pos,guideline:u}}function $v(r,t,e,n,a){var s,u;if(a===void 0&&(a=[]),!r||!r.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var f=t==="vertical",l=f?0:1,v=e.map(function(h,p){var m=a[p]||"",_=r.map(function(x){var y=x.pos,S=h-y[l];return{offset:S,dist:J(S),guideline:x,direction:m}}).filter(function(x){var y=x.guideline,S=x.dist,w=y.type;return!(w!==t||S>n)}).sort(function(x,y){return x.dist-y.dist});return{pos:h,index:p,guidelineInfos:_,direction:m}}).filter(function(h){return h.guidelineInfos.length>0}).sort(function(h,p){return h.guidelineInfos[0].dist-p.guidelineInfos[0].dist}),d=v.length>0;return{isSnap:d,index:d?v[0].index:-1,direction:(u=(s=v[0])===null||s===void 0?void 0:s.direction)!==null&&u!==void 0?u:"",posInfos:v}}function qw(r,t,e,n,a){var s=[];e[0]&&e[1]?s=[e,[-e[0],e[1]],[e[0],-e[1]]]:!e[0]&&!e[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(p,m,_){var x=_[m+1]||_[0];s.push(p),s.push([(p[0]+x[0])/2,(p[1]+x[1])/2])}):r.props.keepRatio?s.push([-1,-1],[-1,1],[1,-1],[1,1],e):(s.push.apply(s,rt([],F(bw([[-1,-1],[1,-1],[-1,-1],[1,1]],e)),!1)),s.length>1&&s.push([(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]));var u=s.map(function(p){return wr(t,p)}),f=u.map(function(p){return p[0]}),l=u.map(function(p){return p[1]}),v=jo(r,f,l,s.map(function(p){return sn(p[0])}),s.map(function(p){return sn(p[1])}),n,a),d=sn(s.map(function(p){return p[0]})[v.vertical.index]),h=sn(s.map(function(p){return p[1]})[v.horizontal.index]);return{vertical:B(B({},v.vertical),{direction:d}),horizontal:B(B({},v.horizontal),{direction:h})}}function Lp(r,t){var e=J(r.offset),n=J(t.offset);return r.isBound&&t.isBound?n-e:r.isBound?-1:t.isBound?1:r.isSnap&&t.isSnap?n-e:r.isSnap?-1:t.isSnap||e<Lr?1:n<Lr?-1:e-n}function zo(r,t){return r.slice().sort(function(e,n){var a=e.sign[t],s=n.sign[t],u=e.offset[t],f=n.offset[t];if(a){if(!s)return-1}else return 1;return Lp({isBound:e.isBound,isSnap:e.isSnap,offset:u},{isBound:n.isBound,isSnap:n.isSnap,offset:f})})[0]}function Uw(r,t,e){var n=[];if(e)J(t[0])!==1||J(t[1])!==1?n.push([t,[-1,-1]],[t,[-1,1]],[t,[1,-1]],[t,[1,1]]):n.push([t,[r[0],-r[1]]],[t,[-r[0],r[1]]]),n.push([t,r]);else if(r[0]&&r[1]||!r[0]&&!r[1]){var a=r[0]?r:[1,1];[1,-1].forEach(function(u){[1,-1].forEach(function(f){var l=[u*a[0],f*a[1]];t[0]===l[0]&&t[1]===l[1]||n.push([t,l])})})}else if(r[0]){var s=J(t[0])===1?[1]:[1,-1];s.forEach(function(u){n.push([[t[0],-1],[u*r[0],-1]],[[t[0],0],[u*r[0],0]],[[t[0],1],[u*r[0],1]])})}else if(r[1]){var s=J(t[1])===1?[1]:[1,-1];s.forEach(function(f){n.push([[-1,t[1]],[-1,f*r[1]]],[[0,t[1]],[0,f*r[1]]],[[1,t[1]],[1,f*r[1]]])})}return n}function kp(r,t){var e=ku([t[0][0],t[1][0]]),n=ku([t[0][1],t[1][1]]);return{vertical:e<=r[0],horizontal:n<=r[1]}}function Ff(r,t){var e=F(t,2),n=e[0],a=e[1],s=a[0]-n[0],u=a[1]-n[1];J(s)<Lr&&(s=0),J(u)<Lr&&(u=0);var f,l;if(!s)f=n[0],l=r[0];else if(!u)f=n[1],l=r[1];else{var v=u/s;f=v*(r[0]-n[0])+n[1],l=r[1]}return f-l}function Np(r,t,e,n){return n===void 0&&(n=Lr),r.every(function(a){var s=Ff(a,t),u=s<=0;return u===e||J(s)<=n})}function qv(r,t,e,n,a){return a===void 0&&(a=0),n&&t-a<=r||!n&&r<=e+a?{isBound:!0,offset:n?t-r:e-r}:{isBound:!1,offset:0}}function Kw(r,t){var e=t.line,n=t.centerSign,a=t.verticalSign,s=t.horizontalSign,u=t.lineConstants,f=r.props.innerBounds;if(!f)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=f.left,v=f.top,d=f.width,h=f.height,p=[[l,v],[l,v+h]],m=[[l,v],[l+d,v]],_=[[l+d,v],[l+d,v+h]],x=[[l,v+h],[l+d,v+h]];if(Np([[l,v],[l+d,v],[l,v+h],[l+d,v+h]],e,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var y=un(e,u,m,a),S=un(e,u,x,a),w=un(e,u,p,s),C=un(e,u,_,s),M=y.isBound&&S.isBound,R=y.isBound||S.isBound,O=w.isBound&&C.isBound,T=w.isBound||C.isBound,I=hi(y.offset,S.offset),P=hi(w.offset,C.offset),G=[0,0],H=!1,W=!1;return J(P)<J(I)?(G=[I,0],H=R,W=M):(G=[0,P],H=T,W=O),{isAllBound:W,isVerticalBound:R,isHorizontalBound:T,isBound:H,offset:G}}function un(r,t,e,n,a,s){var u=F(t,2),f=u[0],l=u[1],v=r[0],d=e[0],h=e[1],p=No(h[1]-d[1]),m=No(h[0]-d[0]),_=l,x=f,y=-f/l;if(m){if(!p){if(s&&!_)return{isBound:!1,offset:0};if(x){var M=(d[1]-v[1])/y+v[0];return qv(M,d[0],h[0],n,a)}else{var w=d[1]-v[1],C=J(w)<=(a||0);return{isBound:C,offset:C?w:0}}}}else{if(s&&!x)return{isBound:!1,offset:0};if(_){var S=y*(d[0]-v[0])+v[1];return qv(S,d[1],h[1],n,a)}else{var w=d[0]-v[0],C=J(w)<=(a||0);return{isBound:C,offset:C?w:0}}}return{isBound:!1,offset:0}}function Wp(r,t,e){return t.map(function(n){var a=Kw(r,n),s=a.isBound,u=a.offset,f=a.isVerticalBound,l=a.isHorizontalBound,v=n.multiple,d=Te({datas:e,distX:u[0],distY:u[1]}).map(function(h,p){return h*(v[p]?2/v[p]:0)});return{sign:v,isBound:s,isVerticalBound:f,isHorizontalBound:l,isSnap:!1,offset:d}})}function Zw(r,t,e){var n,a=Lf(r,t,[0,0],!1).map(function(p){return B(B({},p),{multiple:p.multiple.map(function(m){return J(m)*2})})}),s=Wp(r,a,e),u=zo(s,0),f=zo(s,1),l=0,v=0,d=u.isVerticalBound||f.isVerticalBound,h=u.isHorizontalBound||f.isHorizontalBound;return(d||h)&&(n=F(yw({datas:e,distX:-u.offset[0],distY:-f.offset[1]}),2),l=n[0],v=n[1]),{vertical:{isBound:d,offset:l},horizontal:{isBound:h,offset:v}}}function Jw(r,t){var e=[],n=r[0],a=r[1];return n&&a?e.push([[0,a*2],r,[-n,a]],[[n*2,0],r,[n,-a]]):n?(e.push([[n*2,0],[n,1],[n,-1]]),t&&e.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):a?(e.push([[0,a*2],[1,a],[-1,a]]),t&&e.push([[-1,0],[-1,a],[-1,-a]],[[1,0],[1,a],[1,-a]])):e.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),e}function Lf(r,t,e,n){var a=r.state,s=a.allMatrix,u=a.is3d,f=Nn(s,100,100,u?4:3),l=wr(f,[0,0]);return Jw(e,n).map(function(v){var d=F(v,3),h=d[0],p=d[1],m=d[2],_=[wr(f,p),wr(f,m)],x=Vw(_),y=kp(l,_),S=y.vertical,w=y.horizontal,C=Ff(l,_)<=0;return{multiple:h,centerSign:C,verticalSign:S,horizontalSign:w,lineConstants:x,line:[wr(t,p),wr(t,m)]}})}function Uv(r,t,e,n){var a=n?r.map(function(s){return pa(s,n)}):r;return[[a[0],a[1]],[a[1],a[3]],[a[3],a[2]],[a[2],a[0]]].some(function(s){var u=Ff(e,s)<=0;return!Np(t,s,u)})}function Qw(r){var t=F(r,2),e=t[0],n=t[1],a=n[0]-e[0],s=n[1]-e[1];if(!a)return J(e[0]);if(!s)return J(e[1]);var u=s/a;return J((-u*e[0]+e[1])/Math.sqrt(Math.pow(u,2)+1))}function jw(r){var t=F(r,2),e=t[0],n=t[1],a=n[0]-e[0],s=n[1]-e[1];if(!a)return[e[0],0];if(!s)return[0,e[1]];var u=s/a,f=-u*e[0]+e[1];return[-f/(u+1/u),f/(u*u+1)]}function tE(r,t,e,n,a){var s=r.props.innerBounds,u=a*Math.PI/180;if(!s)return[];var f=s.left,l=s.top,v=s.width,d=s.height,h=f-n[0],p=f+v-n[0],m=l-n[1],_=l+d-n[1],x=[[h,m],[p,m],[h,_],[p,_]],y=wr(e,[0,0]);if(!Uv(e,x,y,0))return[];var S=[],w=x.map(function(C){return[ce(C),hr([0,0],C)]});return[[e[0],e[1]],[e[1],e[3]],[e[3],e[2]],[e[2],e[0]]].forEach(function(C){var M=hr([0,0],jw(C)),R=Qw(C);S.push.apply(S,rt([],F(w.filter(function(O){var T=F(O,1),I=T[0];return I&&R<=I}).map(function(O){var T=F(O,2),I=T[0],P=T[1],G=Math.acos(I?R/I:0),H=P+G,W=P-G;return[u+H-M,u+W-M]}).reduce(function(O,T){return O.push.apply(O,rt([],F(T),!1)),O},[]).filter(function(O){return!Uv(t,x,y,O)}).map(function(O){return Ct(O*180/Math.PI,Lr)})),!1))}),S}function rE(r){var t=r.props.innerBounds,e=si();if(!t)return{boundMap:e,vertical:[],horizontal:[]};var n=r.getRect(),a=n.pos1,s=n.pos2,u=n.pos3,f=n.pos4,l=[a,s,u,f],v=wr(l,[0,0]),d=t.left,h=t.top,p=t.width,m=t.height,_=[[d,h],[d,h+m]],x=[[d,h],[d+p,h]],y=[[d+p,h],[d+p,h+m]],S=[[d,h+m],[d+p,h+m]],w=Lf(r,l,[0,0],!1),C=[],M=[];return w.forEach(function(R){var O=R.line,T=R.lineConstants,I=kp(v,O),P=I.horizontal,G=I.vertical,H=un(O,T,x,G,1,!0),W=un(O,T,S,G,1,!0),L=un(O,T,_,P,1,!0),Y=un(O,T,y,P,1,!0);H.isBound&&!e.top&&(C.push(h),e.top=!0),W.isBound&&!e.bottom&&(C.push(h+m),e.bottom=!0),L.isBound&&!e.left&&(M.push(d),e.left=!0),Y.isBound&&!e.right&&(M.push(d+p),e.right=!0)}),{boundMap:e,horizontal:C,vertical:M}}function eE(r,t,e,n){var a=t[0]-r[0],s=t[1]-r[1];if(J(a)<mr&&(a=0),J(s)<mr&&(s=0),!a)return n?[0,0]:[0,e];if(!s)return n?[e,0]:[0,0];var u=s/a,f=r[1]-u*r[0];if(n){var l=u*(t[0]+e)+f;return[e,l-t[1]]}else{var v=(t[1]+e-f)/u;return[v-t[0],e]}}function ef(r,t,e,n,a){var s=eE(r,t,e,n);if(!s)return{isOutside:!1,offset:[0,0]};var u=Ve(r,t),f=Ve(s,r),l=Ve(s,t),v=f>u||l>u,d=F(Te({datas:a,distX:s[0],distY:s[1]}),2),h=d[0],p=d[1];return{offset:[h,p],isOutside:v}}function Fo(r,t){return r.isBound?r.offset:t.isSnap?rf(t).offset:0}function nE(r,t,e,n,a){var s=F(t,2),u=s[0],f=s[1],l=F(e,2),v=l[0],d=l[1],h=F(n,2),p=h[0],m=h[1],_=F(a,2),x=_[0],y=_[1],S=-x,w=-y;if(r&&u&&f){S=0,w=0;var C=[];if(v&&d?C.push([0,y],[x,0]):v?C.push([x,0]):d?C.push([0,y]):p&&m?C.push([0,y],[x,0]):p?C.push([x,0]):m&&C.push([0,y]),C.length){C.sort(function(T,I){return ce(xt([u,f],T))-ce(xt([u,f],I))});var M=C[0];if(M[0]&&J(u)>mr)S=-M[0],w=f*J(u+S)/J(u)-f;else if(M[1]&&J(f)>mr){var R=f;w=-M[1],S=u*J(f+w)/J(R)-u}if(r&&d&&v)if(J(S)>mr&&J(S)<J(x)){var O=J(x)/J(S);S*=O,w*=O}else if(J(w)>mr&&J(w)<J(y)){var O=J(y)/J(w);S*=O,w*=O}else S=hi(-x,S),w=hi(-y,w)}}else S=u||v?-x:0,w=f||d?-y:0;return[S,w]}function iE(r,t,e,n,a,s){if(!bi(r,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var u=Wf(s.absolutePoses,[t,e]),f=le(u),l=f.left,v=f.right,d=f.top,h=f.bottom,p={horizontal:u.map(function(Y){return Y[1]}),vertical:u.map(function(Y){return Y[0]})},m=Gf(r.props.snapDirections),_=zf(m,{left:l,right:v,top:d,bottom:h,center:(l+v)/2,middle:(d+h)/2}),x=ts(r,a,_,p),y=x.vertical,S=x.horizontal,w=Zw(r,u,s),C=w.vertical,M=w.horizontal,R=y.isSnap,O=S.isSnap,T=y.isBound||C.isBound,I=S.isBound||M.isBound,P=hi(y.offset,C.offset),G=hi(S.offset,M.offset),H=F(nE(n,[t,e],[T,I],[R,O],[P,G]),2),W=H[0],L=H[1];return[{isBound:T,isSnap:R,offset:W},{isBound:I,isSnap:O,offset:L}]}function ts(r,t,e,n){n===void 0&&(n=e);var a=Bf(Qo(r),n.vertical,n.horizontal),s=a.horizontal,u=a.vertical,f=t?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:jo(r,e.vertical,e.horizontal,void 0,void 0,void 0,void 0),l=f.horizontal,v=f.vertical,d=Fo(s[0],l),h=Fo(u[0],v),p=J(d),m=J(h);return{horizontal:{isBound:s[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:d,dist:p,bounds:s,snap:l},vertical:{isBound:u[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:h,dist:m,bounds:u,snap:v}}}function Kv(r,t,e,n,a,s,u){u===void 0&&(u=[1,1]);var f=Bf(t,e,n),l=f.horizontal,v=f.vertical,d=Fp(r,e,n,[],[],a,s,u),h=d.horizontal,p=d.vertical,m=Fo(l[0],h),_=Fo(v[0],p),x=J(m),y=J(_);return{horizontal:{isBound:l[0].isBound,isSnap:h.isSnap,snapIndex:h.index,offset:m,dist:x,bounds:l,snap:h},vertical:{isBound:v[0].isBound,isSnap:p.isSnap,snapIndex:p.index,offset:_,dist:y,bounds:v,snap:p}}}function aE(r,t,e,n){var a=hr(r,t)/Math.PI*180,s=e.vertical,u=s.isBound,f=s.isSnap,l=s.dist,v=e.horizontal,d=v.isBound,h=v.isSnap,p=v.dist,m=a%180,_=m<3||m>177,x=m>87&&m<93;return p<l&&(u||f&&!x&&(!n||!_))?"vertical":d||h&&!_&&(!n||!x)?"horizontal":""}function oE(r,t,e,n,a,s){return e.map(function(u){var f=F(u,2),l=f[0],v=f[1],d=wr(t,l),h=wr(t,v),p=n?sE(r,d,h,a):ts(r,a,{vertical:[h[0]],horizontal:[h[1]]}),m=p.horizontal,_=m.offset,x=m.isBound,y=m.isSnap,S=p.vertical,w=S.offset,C=S.isBound,M=S.isSnap,R=xt(v,l);if(!w&&!_)return{isBound:C||x,isSnap:M||y,sign:R,offset:[0,0]};var O=aE(d,h,p,n);if(!O)return{sign:R,isBound:!1,isSnap:!1,offset:[0,0]};var T=O==="vertical",I=[0,0];return!n&&J(v[0])===1&&J(v[1])===1&&l[0]!==v[0]&&l[1]!==v[1]?I=Te({datas:s,distX:-w,distY:-_}):I=ef(d,h,-(T?w:_),T,s).offset,I=I.map(function(P,G){return P*(R[G]?2/R[G]:0)}),{sign:R,isBound:T?C:x,isSnap:T?M:y,offset:I}})}function Zv(r,t){return r.isBound?r.offset:t.isSnap?t.offset:0}function sE(r,t,e,n){var a=Lw(r,t,e),s=a.horizontal,u=a.vertical,f=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:$w(r,t,e),l=f.horizontal,v=f.vertical,d=Zv(s,l),h=Zv(u,v),p=J(d),m=J(h);return{horizontal:{isBound:s.isBound,isSnap:l.isSnap,offset:d,dist:p},vertical:{isBound:u.isBound,isSnap:v.isSnap,offset:h,dist:m}}}function uE(r,t,e,n,a){var s=[-e[0],-e[1]],u=r.state,f=u.width,l=u.height,v=r.props.bounds,d=1/0,h=1/0;if(v){var p=[[e[0],-e[1]],[-e[0],e[1]]],m=v.left,_=m===void 0?-1/0:m,x=v.top,y=x===void 0?-1/0:x,S=v.right,w=S===void 0?1/0:S,C=v.bottom,M=C===void 0?1/0:C;p.forEach(function(R){var O=R[0]!==s[0],T=R[1]!==s[1],I=wr(t,R),P=hr(n,I)*360/Math.PI;if(T){var G=I.slice();(J(P-360)<2||J(P-180)<2)&&(G[1]=n[1]);var H=ef(n,G,(n[1]<I[1]?M:y)-I[1],!1,a),W=F(H.offset,2),L=W[1],Y=H.isOutside;isNaN(L)||(h=l+(Y?1:-1)*J(L))}if(O){var G=I.slice();(J(P-90)<2||J(P-270)<2)&&(G[0]=n[0]);var X=ef(n,G,(n[0]<I[0]?w:_)-I[0],!0,a),j=F(X.offset,1),tt=j[0],U=X.isOutside;isNaN(tt)||(d=f+(U?1:-1)*J(tt))}})}return{maxWidth:d,maxHeight:h}}var Gr={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(r,t){var e=r.props,n=e.hideThrottleDragRotateLine,a=e.throttleDragRotate,s=e.zoom,u=r.getState(),f=u.dragInfo,l=u.beforeOrigin;if(n||!a||!f)return[];var v=f.dist;if(!v[0]&&!v[1])return[];var d=ce(v),h=hr(v,[0,0]);return[t.createElement("div",{className:_t("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(d,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(h,"rad) scaleY(").concat(s,")")}})]},dragStart:function(r,t){var e=t.datas,n=t.parentEvent,a=t.parentGesto,s=r.state,u=s.gestos,f=s.style;if(u.draggable)return!1;u.draggable=a||r.targetGesto,e.datas={},e.left=parseFloat(f.left||"")||0,e.top=parseFloat(f.top||"")||0,e.bottom=parseFloat(f.bottom||"")||0,e.right=parseFloat(f.right||"")||0,e.startValue=[0,0],kn(r,t),Jo(r,t,"translate"),ME(r,e),e.prevDist=[0,0],e.prevBeforeDist=[0,0],e.isDrag=!1,e.deltaOffset=[0,0];var l=Ot(r,t,B({set:function(d){e.startValue=d}},Zo(r,t))),v=n||ct(r,"onDragStart",l);return v!==!1?(e.isDrag=!0,r.state.dragInfo={startRect:r.getRect(),dist:[0,0]}):(u.draggable=null,e.isPinch=!1),e.isDrag?l:!1},drag:function(r,t){if(t){Uo(r,t,"translate");var e=t.datas,n=t.parentEvent,a=t.parentFlag,s=t.isPinch,u=t.deltaOffset,f=t.useSnap,l=t.isRequest,v=t.isGroup,d=t.parentThrottleDrag,h=t.distX,p=t.distY,m=e.isDrag,_=e.prevDist,x=e.prevBeforeDist,y=e.startValue;if(m){u&&(h+=u[0],p+=u[1]);var S=r.props,w=S.parentMoveable,C=v?0:S.throttleDrag||d||0,M=n?0:S.throttleDragRotate||0,R=0,O=!1,T=!1,I=!1,P=!1;if(!n&&M>0&&(h||p)){var G=S.startDragRotate||0,H=Ct(G+hr([0,0],[h,p])*180/Math.PI,M)-G,W=p*Math.abs(Math.cos((H-90)/180*Math.PI)),L=h*Math.abs(Math.cos(H/180*Math.PI)),Y=ce([L,W]);R=H*Math.PI/180,h=Y*Math.cos(R),p=Y*Math.sin(R)}if(!s&&!n&&!a){var X=F(iE(r,h,p,M,!f&&l||u,e),2),j=X[0],tt=X[1];O=j.isSnap,T=j.isBound,I=tt.isSnap,P=tt.isBound;var U=j.offset,nt=tt.offset;h+=U,p+=nt}var et=Yt(bp({datas:e,distX:h,distY:p}),y),$=Yt(xw({datas:e,distX:h,distY:p}),y);Rv($,Lr),Rv(et,Lr),M||(!O&&!T&&($[0]=Ct($[0],C),et[0]=Ct(et[0],C)),!I&&!P&&($[1]=Ct($[1],C),et[1]=Ct(et[1],C)));var st=xt(et,y),lt=xt($,y),ot=xt(lt,_),ut=xt(st,x);e.prevDist=lt,e.prevBeforeDist=st,e.passDelta=ot,e.passDist=lt;var it=e.left+st[0],vt=e.top+st[1],ht=e.right-st[0],Et=e.bottom-st[1],Ft=Ko(e,"translate(".concat($[0],"px, ").concat($[1],"px)"),"translate(".concat(lt[0],"px, ").concat(lt[1],"px)"));if(Af(t,Ft),r.state.dragInfo.dist=n?[0,0]:lt,!(!n&&!w&&ot.every(function(wt){return!wt})&&ut.some(function(wt){return!wt}))){var at=r.state,pt=at.width,Ht=at.height,mt=Ot(r,t,B({transform:Ft,dist:lt,delta:ot,translate:$,beforeDist:st,beforeDelta:ut,beforeTranslate:et,left:it,top:vt,right:ht,bottom:Et,width:pt,height:Ht,isPinch:s},Fr({transform:Ft},t)));return!n&&ct(r,"onDrag",mt),mt}}}},dragAfter:function(r,t){var e=t.datas,n=e.deltaOffset;return n[0]||n[1]?(e.deltaOffset=[0,0],this.drag(r,B(B({},t),{deltaOffset:n}))):!1},dragEnd:function(r,t){var e=t.parentEvent,n=t.datas;if(r.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var a=te(r,t,{});return!e&&ct(r,"onDragEnd",a),a}},dragGroupStart:function(r,t){var e,n,a=t.datas,s=t.clientX,u=t.clientY,f=this.dragStart(r,t);if(!f)return!1;var l=Ou(r,this,"dragStart",[s||0,u||0],t,!1,"draggable"),v=l.childEvents,d=l.eventParams,h=B(B({},f),{targets:r.props.targets,events:d}),p=ct(r,"onDragGroupStart",h);a.isDrag=p!==!1;var m=(n=(e=v[0])===null||e===void 0?void 0:e.datas.startValue)!==null&&n!==void 0?n:[0,0];return a.throttleOffset=[m[0]%1,m[1]%1],a.isDrag?f:!1},dragGroup:function(r,t){var e=t.datas;if(e.isDrag){var n=this.drag(r,B(B({},t),{parentThrottleDrag:r.props.throttleDrag})),a=t.datas.passDelta,s=Ou(r,this,"drag",a,t,!1,"draggable").eventParams;if(n){var u=B({targets:r.props.targets,events:s},n);return ct(r,"onDragGroup",u),u}}},dragGroupEnd:function(r,t){var e=t.isDrag,n=t.datas;if(n.isDrag){this.dragEnd(r,t);var a=Ou(r,this,"dragEnd",[0,0],t,!1,"draggable").eventParams;return ct(r,"onDragGroupEnd",te(r,t,{targets:r.props.targets,events:a})),e}},request:function(r){var t={},e=r.getRect(),n=0,a=0,s=!1;return{isControl:!1,requestStart:function(u){return s=u.useSnap,{datas:t,useSnap:s}},request:function(u){return"x"in u?n=u.x-e.left:"deltaX"in u&&(n+=u.deltaX),"y"in u?a=u.y-e.top:"deltaY"in u&&(a+=u.deltaY),{datas:t,distX:n,distY:a,useSnap:s}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:s}}}},unset:function(r){r.state.gestos.draggable=null,r.state.dragInfo=null}};function Hp(r,t){var e=wr(r,t),n=[0,0];return{fixedPosition:e,fixedDirection:t,fixedOffset:n}}function fE(r,t){var e=r.allMatrix,n=r.is3d,a=r.width,s=r.height,u=n?4:3,f=[a/2*(1+t[0]),s/2*(1+t[1])],l=or(e,f,u),v=[0,0];return{fixedPosition:l,fixedDirection:t,fixedOffset:v}}function Yp(r,t){var e=r.allMatrix,n=r.is3d,a=r.width,s=r.height,u=n?4:3,f=Mw(t,a,s),l=or(e,t,u),v=[a?0:t[0],s?0:t[1]];return{fixedPosition:l,fixedDirection:f,fixedOffset:v}}var Jv=Xf("resizable"),nf={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:Tp("resizable"),dragControlCondition:Jv,viewClassName:Yf("resizable"),dragControlStart:function(r,t){var e,n=t.inputEvent,a=t.isPinch,s=t.isGroup,u=t.parentDirection,f=t.parentGesto,l=t.datas,v=t.parentFixedDirection,d=t.parentEvent,h=eh(u,a,n,l),p=r.state,m=p.target,_=p.width,x=p.height,y=p.gestos;if(!h||!m||y.resizable)return!1;y.resizable=f||r.controlGesto,!a&&kn(r,t),l.datas={},l.direction=h,l.startOffsetWidth=_,l.startOffsetHeight=x,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=p.inlineCSSWidth||p.cssWidth,l.startHeight=p.inlineCSSHeight||p.cssHeight,l.maxSize=[1/0,1/0],s||(l.minSize=[p.minOffsetWidth,p.minOffsetHeight],l.maxSize=[p.maxOffsetWidth,p.maxOffsetHeight]);var S=r.props.transformOrigin||"% %";l.transformOrigin=S&&Vr(S)?S.split(" "):S,l.startOffsetMatrix=p.offsetMatrix,l.startTransformOrigin=p.transformOrigin,l.isWidth=(e=t==null?void 0:t.parentIsWidth)!==null&&e!==void 0?e:!h[0]&&!h[1]||h[0]||!h[1];function w(P){l.ratio=P&&isFinite(P)?P:0}l.startPositions=ve(r.state);function C(P){var G=Hp(l.startPositions,P);l.fixedDirection=G.fixedDirection,l.fixedPosition=G.fixedPosition,l.fixedOffset=G.fixedOffset}function M(P){var G=Yp(r.state,P);l.fixedDirection=G.fixedDirection,l.fixedPosition=G.fixedPosition,l.fixedOffset=G.fixedOffset}function R(P){l.minSize=[Zt("".concat(P[0]),0)||0,Zt("".concat(P[1]),0)||0]}function O(P){var G=[P[0]||1/0,P[1]||1/0];(!ci(G[0])||isFinite(G[0]))&&(G[0]=Zt("".concat(G[0]),0)||1/0),(!ci(G[1])||isFinite(G[1]))&&(G[1]=Zt("".concat(G[1]),0)||1/0),l.maxSize=G}w(_/x),C(v||[-h[0],-h[1]]),l.setFixedDirection=C,l.setFixedPosition=M,l.setMin=R,l.setMax=O;var T=Ot(r,t,{direction:h,startRatio:l.ratio,set:function(P){var G=F(P,2),H=G[0],W=G[1];l.startWidth=H,l.startHeight=W},setMin:R,setMax:O,setRatio:w,setFixedDirection:C,setFixedPosition:M,setOrigin:function(P){l.transformOrigin=P},dragStart:Gr.dragStart(r,new di().dragStart([0,0],t))}),I=d||ct(r,"onResizeStart",T);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,I!==!1&&(l.isResize=!0,r.state.snapRenderInfo={request:t.isRequest,direction:h}),l.isResize?T:!1},dragControl:function(r,t){var e,n=t.datas,a=t.parentFlag,s=t.isPinch,u=t.parentKeepRatio,f=t.dragClient,l=t.parentDist,v=t.useSnap,d=t.isRequest,h=t.isGroup,p=t.parentEvent,m=t.resolveMatrix,_=n.isResize,x=n.transformOrigin,y=n.startWidth,S=n.startHeight,w=n.prevWidth,C=n.prevHeight,M=n.minSize,R=n.maxSize,O=n.ratio,T=n.startOffsetWidth,I=n.startOffsetHeight,P=n.isWidth;if(!_)return;if(m){var G=r.state.is3d,H=n.startOffsetMatrix,W=n.startTransformOrigin,L=G?4:3,Y=aa(Bo(t)),X=Math.sqrt(Y.length);L!==X&&(Y=Se(Y,X,L));var j=xa(H,Y,W,L),tt=Nn(j,T,I,L);n.startPositions=tt,n.nextTargetMatrix=Y,n.nextAllMatrix=j}var U=Ln(r.props,"resizable"),nt=U.resizeFormat,et=U.throttleResize,$=et===void 0?a?0:1:et,st=U.parentMoveable,lt=U.keepRatioFinally,ot=n.direction,ut=ot,it=0,vt=0;!ot[0]&&!ot[1]&&(ut=[1,1]);var ht=O&&(u??U.keepRatio)||!1;function Et(){var sr=n.fixedDirection,rr=fh(ut,ht,n,t);it=rr.distWidth,vt=rr.distHeight;var be=ut[0]-sr[0]||ht?Math.max(T+it,Lr):T,kr=ut[1]-sr[1]||ht?Math.max(I+vt,Lr):I;return ht&&T&&I&&(P?kr=be/O:be=kr*O),[be,kr]}var Ft=F(Et(),2),at=Ft[0],pt=Ft[1];p||(n.setFixedDirection(n.fixedDirection),ct(r,"onBeforeResize",Ot(r,t,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(sr){var rr;return n.setFixedDirection(sr),rr=F(Et(),2),at=rr[0],pt=rr[1],[at,pt]},setFixedPosition:function(sr){var rr;return n.setFixedPosition(sr),rr=F(Et(),2),at=rr[0],pt=rr[1],[at,pt]},boundingWidth:at,boundingHeight:pt,setSize:function(sr){var rr;rr=F(sr,2),at=rr[0],pt=rr[1]}},!0)));var Ht=f;f||(!a&&s?Ht=Iw(r,[0,0]):Ht=n.fixedPosition);var mt=[0,0];s||(mt=CE(r,at,pt,ot,Ht,!v&&d,n)),l&&(!l[0]&&(mt[0]=0),!l[1]&&(mt[1]=0));function wt(){var sr;nt&&(sr=F(nt([at,pt]),2),at=sr[0],pt=sr[1]),at=Ct(at,$),pt=Ct(pt,$)}if(ht){ut[0]&&ut[1]&&mt[0]&&mt[1]&&(J(mt[0])>J(mt[1])?mt[1]=0:mt[0]=0);var At=!mt[0]&&!mt[1];At&&wt(),ut[0]&&!ut[1]||mt[0]&&!mt[1]||At&&P?(at+=mt[0],pt=at/O):(!ut[0]&&ut[1]||!mt[0]&&mt[1]||At&&!P)&&(pt+=mt[1],at=pt*O)}else at+=mt[0],pt+=mt[1],at=Math.max(0,at),pt=Math.max(0,pt);e=F(Gd([at,pt],M,R,ht?O:!1),2),at=e[0],pt=e[1],wt(),ht&&(h||lt)&&(P?pt=at/O:at=pt*O),it=at-T,vt=pt-I;var Gt=[it-w,vt-C];n.prevWidth=it,n.prevHeight=vt;var Vt=Tw(r,at,pt,Ht,x,n);if(!(!st&&Gt.every(function(sr){return!sr})&&Vt.every(function(sr){return!sr}))){var Rt=Gr.drag(r,_a(t,r.state,Vt,!!s,!1,"draggable")),Lt=Rt.transform,$t=y+it,lr=S+vt,cr=Ot(r,t,B({width:$t,height:lr,offsetWidth:Math.round(at),offsetHeight:Math.round(pt),startRatio:O,boundingWidth:at,boundingHeight:pt,direction:ot,dist:[it,vt],delta:Gt,isPinch:!!s,drag:Rt},ih({style:{width:"".concat($t,"px"),height:"".concat(lr,"px")},transform:Lt},Rt,t)));return!p&&ct(r,"onResize",cr),cr}},dragControlAfter:function(r,t){var e=t.datas,n=e.isResize,a=e.startOffsetWidth,s=e.startOffsetHeight,u=e.prevWidth,f=e.prevHeight;if(!(!n||r.props.checkResizableError===!1)){var l=r.state,v=l.width,d=l.height,h=v-(a+u),p=d-(s+f),m=J(h)>3,_=J(p)>3;if(m&&(e.startWidth+=h,e.startOffsetWidth+=h,e.prevWidth+=h),_&&(e.startHeight+=p,e.startOffsetHeight+=p,e.prevHeight+=p),m||_)return this.dragControl(r,t)}},dragControlEnd:function(r,t){var e=t.datas,n=t.parentEvent;if(e.isResize){e.isResize=!1;var a=te(r,t,{});return!n&&ct(r,"onResizeEnd",a),a}},dragGroupControlCondition:Jv,dragGroupControlStart:function(r,t){var e=t.datas,n=this.dragControlStart(r,B(B({},t),{isGroup:!0}));if(!n)return!1;var a=xe(r,"resizable",t),s=e.startOffsetWidth,u=e.startOffsetHeight;function f(){var m=e.minSize;a.forEach(function(_){var x=_.datas,y=x.minSize,S=x.startOffsetWidth,w=x.startOffsetHeight,C=s*(S?y[0]/S:0),M=u*(w?y[1]/w:0);m[0]=Math.max(m[0],C),m[1]=Math.max(m[1],M)})}function l(){var m=e.maxSize;a.forEach(function(_){var x=_.datas,y=x.maxSize,S=x.startOffsetWidth,w=x.startOffsetHeight,C=s*(S?y[0]/S:0),M=u*(w?y[1]/w:0);m[0]=Math.min(m[0],C),m[1]=Math.min(m[1],M)})}var v=$e(r,this,"dragControlStart",t,function(m,_){return Go(r,m,e,_)});f(),l();var d=function(m){n.setFixedDirection(m),v.forEach(function(_,x){_.setFixedDirection(m),Go(r,_.moveable,e,a[x])})};e.setFixedDirection=d;var h=B(B({},n),{targets:r.props.targets,events:v.map(function(m){return B(B({},m),{setMin:function(_){m.setMin(_),f()},setMax:function(_){m.setMax(_),l()}})}),setFixedDirection:d,setMin:function(m){n.setMin(m),f()},setMax:function(m){n.setMax(m),l()}}),p=ct(r,"onResizeGroupStart",h);return e.isResize=p!==!1,e.isResize?n:!1},dragGroupControl:function(r,t){var e=t.datas;if(e.isResize){var n=Ln(r.props,"resizable");es(r,"onBeforeResize",function(m){ct(r,"onBeforeResizeGroup",Ot(r,t,B(B({},m),{targets:n.targets}),!0))});var a=this.dragControl(r,B(B({},t),{isGroup:!0}));if(a){var s=a.boundingWidth,u=a.boundingHeight,f=a.dist,l=n.keepRatio,v=[s/(s-f[0]),u/(u-f[1])],d=e.fixedPosition,h=$e(r,this,"dragControl",t,function(m,_){var x=F(Ir(ha(r.rotation/180*Math.PI,3),[_.datas.originalX*v[0],_.datas.originalY*v[1],1],3),2),y=x[0],S=x[1];return B(B({},_),{parentDist:null,parentScale:v,dragClient:Yt(d,[y,S]),parentKeepRatio:l})}),p=B({targets:n.targets,events:h},a);return ct(r,"onResizeGroup",p),p}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(n.isResize){this.dragControlEnd(r,t);var a=$e(r,this,"dragControlEnd",t),s=te(r,t,{targets:r.props.targets,events:a});return ct(r,"onResizeGroupEnd",s),e}},request:function(r){var t={},e=0,n=0,a=!1,s=r.getRect();return{isControl:!0,requestStart:function(u){var f;return a=u.useSnap,{datas:t,parentDirection:u.direction||[1,1],parentIsWidth:(f=u==null?void 0:u.horizontal)!==null&&f!==void 0?f:!0,useSnap:a}},request:function(u){return"offsetWidth"in u?e=u.offsetWidth-s.offsetWidth:"deltaWidth"in u&&(e+=u.deltaWidth),"offsetHeight"in u?n=u.offsetHeight-s.offsetHeight:"deltaHeight"in u&&(n+=u.deltaHeight),{datas:t,parentDist:[e,n],parentKeepRatio:u.keepRatio,useSnap:a}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:a}}}},unset:function(r){r.state.gestos.resizable=null}};function Ru(r,t,e,n,a){var s=r.props.groupable,u=r.state,f=u.is3d?4:3,l=t.origin,v=or(r.state.rootMatrix,xt([l[0],l[1]],s?[0,0]:[u.left,u.top]),f),d=Yt([a.left,a.top],v);t.startAbsoluteOrigin=d,t.prevDeg=hr(d,[e,n])/Math.PI*180,t.defaultDeg=t.prevDeg,t.prevSnapDeg=0,t.loop=0,t.startDist=Ve(d,[e,n])}function Mo(r,t,e){var n=e.defaultDeg,a=e.prevDeg,s=a%360,u=Math.floor(a/360);s<0&&(s+=360),s>r&&s>270&&r<90?++u:s<r&&s<90&&r>270&&--u;var f=t*(u*360+r-n);return e.prevDeg=n+f,f}function Tu(r,t,e,n){return Mo(hr(n.startAbsoluteOrigin,[r,t])/Math.PI*180,e,n)}function Iu(r,t,e,n,a,s){var u=r.props.throttleRotate,f=u===void 0?0:u,l=e.prevSnapDeg,v=0,d=!1;if(s){var h=EE(r,t,n,a+n);d=h.isSnap,v=a+h.dist}d||(v=Ct(a+n,f));var p=v-a;return e.prevSnapDeg=p,[p-l,p,v]}function Xp(r,t,e){var n=F(t,4),a=n[0],s=n[1],u=n[2],f=n[3];if(r==="none")return[];if(_r(r))return r.map(function(y){return Xp(y,[a,s,u,f],e)[0]});var l=F((r||"top").split("-"),2),v=l[0],d=l[1],h=[a,s];v==="left"?h=[u,a]:v==="right"?h=[s,f]:v==="bottom"&&(h=[f,u]);var p=[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2],m=th(h,e);if(d){var _=d==="top"||d==="left",x=v==="bottom"||v==="left";p=h[_&&!x||!_&&x?0:1]}return[[p,m]]}function af(r,t){if(t.isRequest)return t.requestAble==="rotatable";var e=t.inputEvent.target;if(br(e,_t("rotation-control"))||r.props.rotateAroundControls&&br(e,_t("around-control"))||br(e,_t("control"))&&br(e,_t("rotatable")))return!0;var n=r.props.rotationTarget;return n?Vf(n,!0).some(function(a){return a?e===a||e.contains(a):!1}):!1}var lE=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,cE={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[lE],viewClassName:function(r){return r.isDragging("rotatable")?_t("view-rotation-dragging"):""},render:function(r,t){var e=Ln(r.props,"rotatable"),n=e.rotatable,a=e.rotationPosition,s=e.zoom,u=e.renderDirections,f=e.rotateAroundControls,l=e.resolveAblesWithRotatable,v=r.getState(),d=v.renderPoses,h=v.direction;if(!n)return null;var p=Xp(a,d,h),m=[];if(p.forEach(function(S,w){var C=F(S,2),M=C[0],R=C[1];m.push(t.createElement("div",{key:"rotation".concat(w),className:_t("rotation"),style:{transform:"translate(-50%) translate(".concat(M[0],"px, ").concat(M[1],"px) rotate(").concat(R,"rad)")}},t.createElement("div",{className:_t("line rotation-line"),style:{transform:"scaleX(".concat(s,")")}}),t.createElement("div",{className:_t("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(s,")")}})))}),u){var _=Ue(l||{}),x={};_.forEach(function(S){l[S].forEach(function(w){x[w]=S})});var y=[];_r(u)&&(y=u.map(function(S){var w=x[S];return{data:w?{resolve:w}:{},classNames:w?["move"]:[],dir:S}})),m.push.apply(m,rt([],F(Mp(r,"rotatable",y,t)),!1))}return f&&m.push.apply(m,rt([],F(Ap(r,t)),!1)),m},dragControlCondition:af,dragControlStart:function(r,t){var e,n,a=t.datas,s=t.clientX,u=t.clientY,f=t.parentRotate,l=t.parentFlag,v=t.isPinch,d=t.isRequest,h=r.state,p=h.target,m=h.left,_=h.top,x=h.direction,y=h.beforeDirection,S=h.targetTransform,w=h.moveableClientRect,C=h.offsetMatrix,M=h.targetMatrix,R=h.allMatrix,O=h.width,T=h.height;if(!d&&!p)return!1;var I=r.getRect();a.rect=I,a.transform=S,a.left=m,a.top=_;var P=function(ut){var it=Yp(r.state,ut);a.fixedDirection=it.fixedDirection,a.fixedOffset=it.fixedOffset,a.fixedPosition=it.fixedPosition,$&&$.setFixedPosition(ut)},G=function(ut){var it=fE(r.state,ut);a.fixedDirection=it.fixedDirection,a.fixedOffset=it.fixedOffset,a.fixedPosition=it.fixedPosition,$&&$.setFixedDirection(ut)},H=s,W=u;if(d||v||l){var L=f||0;a.beforeInfo={origin:I.beforeOrigin,prevDeg:L,defaultDeg:L,prevSnapDeg:0,startDist:0},a.afterInfo=B(B({},a.beforeInfo),{origin:I.origin}),a.absoluteInfo=B(B({},a.beforeInfo),{origin:I.origin,startValue:L})}else{var Y=(n=t.inputEvent)===null||n===void 0?void 0:n.target;if(Y){var X=Y.getAttribute("data-direction")||"",j=mw[X];if(j){a.isControl=!0,a.isAroundControl=br(Y,_t("around-control")),a.controlDirection=j;var tt=Y.getAttribute("data-resolve");tt&&(a.resolveAble=tt);var U=NE(h.rootMatrix,h.renderPoses,w);e=F(wr(U,j),2),H=e[0],W=e[1]}}a.beforeInfo={origin:I.beforeOrigin},a.afterInfo={origin:I.origin},a.absoluteInfo={origin:I.origin,startValue:I.rotation};var nt=P;P=function(ut){var it=h.is3d?4:3,vt=F(Yt(op(M,it),ut),2),ht=vt[0],Et=vt[1],Ft=Ir(C,Gn([ht,Et],it)),at=Ir(R,Gn([ut[0],ut[1]],it));nt(ut);var pt=h.posDelta;a.beforeInfo.origin=xt(Ft,pt),a.afterInfo.origin=xt(at,pt),a.absoluteInfo.origin=xt(at,pt),Ru(r,a.beforeInfo,H,W,w),Ru(r,a.afterInfo,H,W,w),Ru(r,a.absoluteInfo,H,W,w)},G=function(ut){var it=wr([[0,0],[O,0],[0,T],[O,T]],ut);P(it)}}a.startClientX=H,a.startClientY=W,a.direction=x,a.beforeDirection=y,a.startValue=0,a.datas={},Jo(r,t,"rotate");var et=!1,$=!1;if(a.isControl&&a.resolveAble){var st=a.resolveAble;st==="resizable"&&($=nf.dragControlStart(r,B(B({},new di("resizable").dragStart([0,0],t)),{parentPosition:a.controlPosition,parentFixedPosition:a.fixedPosition})))}$||(et=Gr.dragStart(r,new di().dragStart([0,0],t))),P(WE(r));var lt=Ot(r,t,B(B({set:function(ut){a.startValue=ut*Math.PI/180},setFixedDirection:G,setFixedPosition:P},Zo(r,t)),{dragStart:et,resizeStart:$})),ot=ct(r,"onRotateStart",lt);return a.isRotate=ot!==!1,h.snapRenderInfo={request:t.isRequest},a.isRotate?lt:!1},dragControl:function(r,t){var e,n,a,s=t.datas,u=t.clientDistX,f=t.clientDistY,l=t.parentRotate,v=t.parentFlag,d=t.isPinch,h=t.groupDelta,p=t.resolveMatrix,m=s.beforeDirection,_=s.beforeInfo,x=s.afterInfo,y=s.absoluteInfo,S=s.isRotate,w=s.startValue,C=s.rect,M=s.startClientX,R=s.startClientY;if(S){Uo(r,t,"rotate");var O=_w(t),T=m*O,I=r.props.parentMoveable,P=0,G,H,W=0,L,Y,X=0,j,tt,U=180/Math.PI*w,nt=y.startValue,et=!1,$=M+u,st=R+f;if(!v&&"parentDist"in t){var lt=t.parentDist;G=lt,L=lt,j=lt}else d||v?(G=Mo(l,m,_),L=Mo(l,T,x),j=Mo(l,T,y)):(G=Tu($,st,m,_),L=Tu($,st,T,x),j=Tu($,st,T,y),et=!0);if(H=U+G,Y=U+L,tt=nt+j,ct(r,"onBeforeRotate",Ot(r,t,{beforeRotation:H,rotation:Y,absoluteRotation:tt,setRotation:function(Ht){L=Ht-U,G=L,j=L}},!0)),e=F(Iu(r,C,_,G,U,et),3),P=e[0],G=e[1],H=e[2],n=F(Iu(r,C,x,L,U,et),3),W=n[0],L=n[1],Y=n[2],a=F(Iu(r,C,y,j,nt,et),3),X=a[0],j=a[1],tt=a[2],!(!X&&!W&&!P&&!I&&!p)){var ot=Ko(s,"rotate(".concat(Y,"deg)"),"rotate(".concat(L,"deg)"));p&&(s.fixedPosition=Pf(r,s.targetAllTransform,s.fixedDirection,s.fixedOffset,s));var ut=Rw(r,L,s),it=xt(Yt(h||[0,0],ut),s.prevInverseDist||[0,0]);s.prevInverseDist=ut,s.requestValue=null;var vt=Ep(r,ot,it,d,t),ht=vt,Et=Ve([$,st],y.startAbsoluteOrigin)-y.startDist,Ft=void 0;if(s.resolveAble==="resizable"){var at=nf.dragControl(r,B(B({},_a(t,r.state,[t.deltaX,t.deltaY],!!d,!1,"resizable")),{resolveMatrix:!0,parentDistance:Et}));at&&(Ft=at,ht=ih(ht,at,t))}var pt=Ot(r,t,B(B({delta:W,dist:L,rotate:Y,rotation:Y,beforeDist:G,beforeDelta:P,beforeRotate:H,beforeRotation:H,absoluteDist:j,absoluteDelta:X,absoluteRotate:tt,absoluteRotation:tt,isPinch:!!d,resize:Ft},vt),ht));return ct(r,"onRotate",pt),pt}}},dragControlEnd:function(r,t){var e=t.datas;if(e.isRotate){e.isRotate=!1;var n=te(r,t,{});return ct(r,"onRotateEnd",n),n}},dragGroupControlCondition:af,dragGroupControlStart:function(r,t){var e=t.datas,n=r.state,a=n.left,s=n.top,u=n.beforeOrigin,f=this.dragControlStart(r,t);if(!f)return!1;f.set(e.beforeDirection*r.rotation);var l=$e(r,this,"dragControlStart",t,function(h,p){var m=h.state,_=m.left,x=m.top,y=m.beforeOrigin,S=Yt(xt([_,x],[a,s]),xt(y,u));return p.datas.startGroupClient=S,p.datas.groupClient=S,B(B({},p),{parentRotate:0})}),v=B(B({},f),{targets:r.props.targets,events:l}),d=ct(r,"onRotateGroupStart",v);return e.isRotate=d!==!1,e.isRotate?f:!1},dragGroupControl:function(r,t){var e=t.datas;if(e.isRotate){es(r,"onBeforeRotate",function(v){ct(r,"onBeforeRotateGroup",Ot(r,t,B(B({},v),{targets:r.props.targets}),!0))});var n=this.dragControl(r,t);if(n){var a=e.beforeDirection,s=n.beforeDist,u=s/180*Math.PI,f=$e(r,this,"dragControl",t,function(v,d){var h=d.datas.startGroupClient,p=F(d.datas.groupClient,2),m=p[0],_=p[1],x=F(pa(h,u*a),2),y=x[0],S=x[1],w=[y-m,S-_];return d.datas.groupClient=[y,S],B(B({},d),{parentRotate:s,groupDelta:w})});r.rotation=a*n.beforeRotation;var l=B({targets:r.props.targets,events:f,set:function(v){r.rotation=v},setGroupRotation:function(v){r.rotation=v}},n);return ct(r,"onRotateGroup",l),l}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(n.isRotate){this.dragControlEnd(r,t);var a=$e(r,this,"dragControlEnd",t),s=te(r,t,{targets:r.props.targets,events:a});return ct(r,"onRotateGroupEnd",s),e}},request:function(r){var t={},e=0,n=r.getRotation();return{isControl:!0,requestStart:function(){return{datas:t}},request:function(a){return"deltaRotate"in a?e+=a.deltaRotate:"rotate"in a&&(e=a.rotate-n),{datas:t,parentDist:e}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function vE(r,t){var e,n=r.direction,a=r.classNames,s=r.size,u=r.pos,f=r.zoom,l=r.key,v=n==="horizontal",d=v?"Y":"X";return t.createElement("div",{key:l,className:a.join(" "),style:(e={},e[v?"width":"height"]="".concat(s),e.transform="translate(".concat(u[0],", ").concat(u[1],") translate").concat(d,"(-50%) scale").concat(d,"(").concat(f,")"),e)})}function kf(r,t){return vE(B(B({},r),{classNames:rt([_t("line","guideline",r.direction)],F(r.classNames),!1).filter(function(e){return e}),size:r.size||"".concat(r.sizeValue,"px"),pos:r.pos||r.posValue.map(function(e){return"".concat(Ct(e,.1),"px")})}),t)}function Qv(r,t,e,n,a,s,u,f){var l=r.props.zoom;return e.map(function(v,d){var h=v.type,p=v.pos,m=[0,0];return m[u]=n,m[u?0:1]=-a+p,kf({key:"".concat(t,"TargetGuideline").concat(d),classNames:[_t("target","bold",h)],posValue:m,sizeValue:s,zoom:l,direction:t},f)})}function jv(r,t,e,n,a,s){var u=r.props,f=u.zoom,l=u.isDisplayInnerSnapDigit,v=t==="horizontal"?cn:vn,d=a[v.start],h=a[v.end];return e.filter(function(p){var m=p.hide,_=p.elementRect;if(m)return!1;if(l&&_){var x=_.rect;if(x[v.start]<=d&&h<=x[v.end])return!1}return!0}).map(function(p,m){var _=p.pos,x=p.size,y=p.element,S=p.className,w=[-n[0]+_[0],-n[1]+_[1]];return kf({key:"".concat(t,"-default-guideline-").concat(m),classNames:y?[_t("bold"),S]:[_t("normal"),S],direction:t,posValue:w,sizeValue:x,zoom:f},s)})}function Ui(r,t,e,n,a,s,u,f){var l,v=r.props,d=v.snapDigit,h=d===void 0?0:d,p=v.isDisplaySnapDigit,m=p===void 0?!0:p,_=v.snapDistFormat,x=_===void 0?function(R,O){return R}:_,y=v.zoom,S=t==="horizontal"?"X":"Y",w=t==="vertical"?"height":"width",C=Math.abs(a),M=m?parseFloat(C.toFixed(h)):0;return f.createElement("div",{key:"".concat(t,"-").concat(e,"-guideline-").concat(n),className:_t("guideline-group",t),style:(l={left:"".concat(s[0],"px"),top:"".concat(s[1],"px")},l[w]="".concat(C,"px"),l)},kf({direction:t,classNames:[_t(e),u],size:"100%",posValue:[0,0],sizeValue:C,zoom:y},f),f.createElement("div",{className:_t("size-value","gap"),style:{transform:"translate".concat(S,"(-50%) scale(").concat(y,")")}},M>0?x(M,t):""))}function dE(r,t,e,n){var a=r==="vertical"?0:1,s=r==="vertical"?1:0,u=a?cn:vn,f=e[u.start],l=e[u.end];return ah(t,function(v){return v.pos[a]}).map(function(v){var d=[],h=[],p=[];return v.forEach(function(m){var _,x,y=m.element,S=m.elementRect.rect;if(S[u.end]<f)d.push(m);else if(l<S[u.start])h.push(m);else if(S[u.start]<=f&&l<=S[u.end]&&n){var w=m.pos,C={element:y,rect:B(B({},S),(_={},_[u.end]=S[u.start],_))},M={element:y,rect:B(B({},S),(x={},x[u.start]=S[u.end],x))},R=[0,0],O=[0,0];R[a]=w[a],R[s]=w[s],O[a]=w[a],O[s]=w[s]+m.size,d.push({type:r,pos:R,size:0,elementRect:C,direction:"",elementDirection:"end"}),h.push({type:r,pos:O,size:0,elementRect:M,direction:"",elementDirection:"start"})}}),d.sort(function(m,_){return _.pos[s]-m.pos[s]}),h.sort(function(m,_){return m.pos[s]-_.pos[s]}),{total:v,start:d,end:h,inner:p}})}function pE(r,t,e,n,a){var s=r.props.isDisplayInnerSnapDigit,u=[];return["vertical","horizontal"].forEach(function(f){var l=t.filter(function(y){return y.type===f}),v=f==="vertical"?1:0,d=v?0:1,h=dE(f,l,n,s),p=v?vn:cn,m=v?cn:vn,_=n[p.start],x=n[p.end];h.forEach(function(y){var S=y.total,w=y.start,C=y.end,M=y.inner,R=e[d]+S[0].pos[d]-n[m.start],O=n;w.forEach(function(T){var I=T.elementRect.rect,P=O[p.start]-I[p.end];if(P>0){var G=[0,0];G[v]=e[v]+O[p.start]-_-P,G[d]=R,u.push(Ui(r,f,"dashed",u.length,P,G,T.className,a))}O=I}),O=n,C.forEach(function(T){var I=T.elementRect.rect,P=I[p.start]-O[p.end];if(P>0){var G=[0,0];G[v]=e[v]+O[p.end]-_,G[d]=R,u.push(Ui(r,f,"dashed",u.length,P,G,T.className,a))}O=I}),M.forEach(function(T){var I=T.elementRect.rect,P=_-I[p.start],G=I[p.end]-x,H=[0,0],W=[0,0];H[v]=e[v]-P,H[d]=R,W[v]=e[v]+x-_,W[d]=R,u.push(Ui(r,f,"dashed",u.length,P,H,T.className,a)),u.push(Ui(r,f,"dashed",u.length,G,W,T.className,a))})})}),u}function hE(r,t,e,n,a){var s=[];return["horizontal","vertical"].forEach(function(u){var f=t.filter(function(y){return y.type===u}).slice(0,1),l=u==="vertical"?0:1,v=l?0:1,d=l?vn:cn,h=l?cn:vn,p=n[d.start],m=n[d.end],_=n[h.start],x=n[h.end];f.forEach(function(y){var S=y.gap,w=y.gapRects,C=Math.max.apply(Math,rt([_],F(w.map(function(O){var T=O.rect;return T[h.start]})),!1)),M=Math.min.apply(Math,rt([x],F(w.map(function(O){var T=O.rect;return T[h.end]})),!1)),R=(C+M)/2;C===M||R===(_+x)/2||w.forEach(function(O){var T=O.rect,I=O.className,P=[e[0],e[1]];if(T[d.end]<p)P[l]+=T[d.end]-p;else if(m<T[d.start])P[l]+=T[d.start]-p-S;else return;P[v]+=R-_,s.push(Ui(r,l?"vertical":"horizontal","gap",s.length,S,P,I,a))})})}),s}function of(r){var t,e,n=r.state,a=n.containerClientRect,s=n.hasFixed,u=a.overflow,f=a.scrollHeight,l=a.scrollWidth,v=a.clientHeight,d=a.clientWidth,h=a.clientLeft,p=a.clientTop,m=r.props,_=m.snapGap,x=_===void 0?!0:_,y=m.verticalGuidelines,S=m.horizontalGuidelines,w=m.snapThreshold,C=w===void 0?5:w,M=m.maxSnapElementGuidelineDistance,R=M===void 0?1/0:M,O=m.isDisplayGridGuidelines,T=le(ve(r.state)),I=T.top,P=T.left,G=T.bottom,H=T.right,W={top:I,left:P,bottom:G,right:H,center:(P+H)/2,middle:(I+G)/2},L=xE(r),Y=rt([],F(L),!1),X=((e=(t=n.snapThresholdInfo)===null||t===void 0?void 0:t.multiples)!==null&&e!==void 0?e:[1,1]).map(function(nt){return nt*C});x&&Y.push.apply(Y,rt([],F(gE(r,W,X)),!1));var j=B({},n.snapOffset||{left:0,top:0,bottom:0,right:0});if(Y.push.apply(Y,rt([],F(_E(r,u?l:d,u?f:v,h,p,j,O)),!1)),s){var tt=a.left,U=a.top;j.left+=tt,j.top+=U,j.right+=tt,j.bottom+=U}return Y.push.apply(Y,rt([],F($p(S||!1,y||!1,u?l:d,u?f:v,h,p,j)),!1)),Y=Y.filter(function(nt){var et=nt.element,$=nt.elementRect,st=nt.type;if(!et||!$)return!0;var lt=$.rect;return Vp(W,lt,st,R)}),Y}function gE(r,t,e){var n=r.props,a=n.maxSnapElementGuidelineDistance,s=a===void 0?1/0:a,u=n.maxSnapElementGapDistance,f=u===void 0?1/0:u,l=r.state.elementRects,v=[];return[["vertical",cn,vn],["horizontal",vn,cn]].forEach(function(d){var h=F(d,3),p=h[0],m=h[1],_=h[2],x=t[m.start],y=t[m.end],S=t[m.center],w=t[_.start],C=t[_.end],M={left:e[0],top:e[1]};function R(I){var P=I.rect,G=M[m.start];return P[m.end]<x+G?x-P[m.end]:y-G<P[m.start]?P[m.start]-y:-1}var O=l.filter(function(I){var P=I.rect;return P[_.start]>C||P[_.end]<w?!1:R(I)>0}).sort(function(I,P){return R(I)-R(P)}),T=[];O.forEach(function(I){O.forEach(function(P){if(I!==P){var G=I.rect,H=P.rect,W=G[_.start],L=G[_.end],Y=H[_.start],X=H[_.end];W>X||Y>L||T.push([I,P])}})}),T.forEach(function(I){var P=F(I,2),G=P[0],H=P[1],W=G.rect,L=H.rect,Y=W[m.start],X=W[m.end],j=L[m.start],tt=L[m.end],U=M[m.start],nt=0,et=0,$=!1,st=!1,lt=!1;if(X<=x&&y<=j){if(st=!0,nt=(j-X-(y-x))/2,et=X+nt+(y-x)/2,J(et-S)>U)return}else if(X<j&&tt<x+U){if($=!0,nt=j-X,et=tt+nt,J(et-x)>U)return}else if(X<j&&y-U<Y){if(lt=!0,nt=j-X,et=Y-nt,J(et-y)>U)return}else return;nt&&Vp(t,L,p,s)&&(nt>f||v.push({type:p,pos:p==="vertical"?[et,0]:[0,et],element:H.element,size:0,className:H.className,isStart:$,isCenter:st,isEnd:lt,gap:nt,hide:!0,gapRects:[G,H],direction:"",elementDirection:""}))})}),v}function mE(r,t,e,n){var a,s,u=r.props,f=r.state,l=u.snapGridAll,v=u.snapGridWidth,d=v===void 0?0:v,h=u.snapGridHeight,p=h===void 0?0:h,m=f.snapRenderInfo,_=m&&(((a=m.direction)===null||a===void 0?void 0:a[0])||((s=m.direction)===null||s===void 0?void 0:s[1])),x=r.moveables;if(l&&x&&_&&(d||p)){if(f.snapThresholdInfo)return;f.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var y=r.getRect(),S=y.children,w=m.direction;if(S){var C=w.map(function(R,O){var T=O===0?{snapSize:d,posName:"left",sizeName:"width",clientOffset:n.left-t}:{snapSize:p,posName:"top",sizeName:"height",clientOffset:n.top-e},I=T.snapSize,P=T.posName,G=T.sizeName,H=T.clientOffset;if(!I)return{dir:R,multiple:1,snapSize:I,snapOffset:0};var W=y[G],L=y[P],Y=zd(S.map(function($){return[$[P]-L,$[G],W-$[G]-$[P]+L]})).filter(function($){return $}).sort(function($,st){return $-st}),X=Y[0],j=Y.map(function($){return Ct($/X,.1)*I}),tt=1,U=Ct(W/X,.1);for(tt=1;tt<=10&&!j.every(function($){return $*tt%1===0});++tt);var nt=(-R+1)/2,et=To(L-H,L-H+W,nt,1-nt);return{multiple:U*tt,dir:R,snapSize:I,snapOffset:Math.round(et/I)}}),M=C.map(function(R){return R.multiple||1});f.snapThresholdInfo.multiples=M,f.snapThresholdInfo.offset=C.map(function(R){return R.snapOffset}),C.forEach(function(R,O){R.snapSize})}}else f.snapThresholdInfo=null}function _E(r,t,e,n,a,s,u){n===void 0&&(n=0),a===void 0&&(a=0);var f=r.props,l=r.state,v=f.snapGridWidth,d=v===void 0?0:v,h=f.snapGridHeight,p=h===void 0?0:h,m=[],_=s.left,x=s.top,y=[0,0];mE(r,n,a,s);var S=l.snapThresholdInfo,w=d,C=p;if(S&&(d*=S.multiples[0]||1,p*=S.multiples[1]||1,y=S.offset),p){for(var M=function(O){m.push({type:"horizontal",pos:[_,Ct(y[1]*C+O-a+x,.1)],className:_t("grid-guideline"),size:t,hide:!u,direction:"",grid:!0})},R=0;R<=e*2;R+=p)M(R);for(var R=-p;R>=-e;R-=p)M(R)}if(d){for(var M=function(T){m.push({type:"vertical",pos:[Ct(y[0]*w+T-n+_,.1),x],className:_t("grid-guideline"),size:e,hide:!u,direction:"",grid:!0})},R=0;R<=t*2;R+=d)M(R);for(var R=-d;R>=-t;R-=d)M(R)}return m}function Vp(r,t,e,n){return e==="horizontal"?J(r.right-t.left)<=n||J(r.left-t.right)<=n||r.left<=t.right&&t.left<=r.right:e==="vertical"?J(r.bottom-t.top)<=n||J(r.top-t.bottom)<=n||r.top<=t.bottom&&t.top<=r.bottom:!0}function xE(r){var t=r.state,e=r.props.elementGuidelines,n=e===void 0?[]:e;if(!n.length)return t.elementRects=[],[];var a=(t.elementRects||[]).filter(function(p){return!p.refresh}),s=n.map(function(p){return ye(p)&&"element"in p?B(B({},p),{element:Oe(p.element,!0)}):{element:Oe(p,!0)}}).filter(function(p){return p.element}),u=Rb(a.map(function(p){return p.element}),s.map(function(p){return p.element})),f=u.maintained,l=u.added,v=[];f.forEach(function(p){var m=F(p,2),_=m[0],x=m[1];v[x]=a[_]}),yE(r,l.map(function(p){return s[p]})).map(function(p,m){v[l[m]]=p}),t.elementRects=v;var d=Gf(r.props.elementSnapDirections),h=[];return v.forEach(function(p){var m=p.element,_=p.top,x=_===void 0?d.top:_,y=p.left,S=y===void 0?d.left:y,w=p.right,C=w===void 0?d.right:w,M=p.bottom,R=M===void 0?d.bottom:M,O=p.center,T=O===void 0?d.center:O,I=p.middle,P=I===void 0?d.middle:I,G=p.className,H=p.rect,W=zf({top:x,right:C,left:S,bottom:R,center:T,middle:P},H),L=W.horizontal,Y=W.vertical,X=W.horizontalNames,j=W.verticalNames,tt=H.top,U=H.left,nt=H.right-U,et=H.bottom-tt,$=[nt,et];Y.forEach(function(st,lt){h.push({type:"vertical",element:m,pos:[Ct(st,.1),tt],size:et,sizes:$,className:G,elementRect:p,elementDirection:Xv[j[lt]]||j[lt],direction:""})}),L.forEach(function(st,lt){h.push({type:"horizontal",element:m,pos:[U,Ct(st,.1)],size:nt,sizes:$,className:G,elementRect:p,elementDirection:Xv[X[lt]]||X[lt],direction:""})})}),h}function td(r,t){return r?r.map(function(e){var n=ye(e)?e:{pos:e},a=n.pos;return ci(a)?n:B(B({},n),{pos:Zt(a,t)})}):[]}function $p(r,t,e,n,a,s,u){a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u={left:0,top:0,right:0,bottom:0});var f=[],l=u.left,v=u.top,d=u.bottom,h=u.right,p=e+h-l,m=n+d-v;return td(r,m).forEach(function(_){f.push({type:"horizontal",pos:[l,Ct(_.pos-s+v,.1)],size:p,className:_.className,direction:""})}),td(t,p).forEach(function(_){f.push({type:"vertical",pos:[Ct(_.pos-a+l,.1),v],size:m,className:_.className,direction:""})}),f}function yE(r,t){if(!t.length)return[];var e=r.props.groupable,n=r.state,a=n.containerClientRect,s=n.rootMatrix,u=n.is3d,f=n.offsetDelta,l=u?4:3,v=F(Xw(s,a,l),2),d=v[0],h=v[1],p=e?0:f[0],m=e?0:f[1];return t.map(function(_){var x=_.element.getBoundingClientRect(),y=x.left-d-p,S=x.top-h-m,w=S+x.height,C=y+x.width,M=F(gi(s,[y,S],l),2),R=M[0],O=M[1],T=F(gi(s,[C,w],l),2),I=T[0],P=T[1];return B(B({},_),{rect:{left:R,right:I,top:O,bottom:P,center:(R+I)/2,middle:(O+P)/2}})})}function _o(r){var t=r.state,e=t.container,n=r.props.snapContainer||e;if(t.snapContainer===n&&t.guidelines&&t.guidelines.length)return!1;var a=t.containerClientRect,s={left:0,top:0,bottom:0,right:0};if(e!==n){var u=Oe(n,!0);if(u){var f=ra(u),l=od(t,[f.left-a.left,f.top-a.top]),v=od(t,[f.right-a.right,f.bottom-a.bottom]);s.left=Ct(l[0],1e-5),s.top=Ct(l[1],1e-5),s.right=Ct(v[0],1e-5),s.bottom=Ct(v[1],1e-5)}}return t.snapContainer=n,t.snapOffset=s,t.guidelines=of(r),t.enableSnap=!0,!0}function qp(r,t,e,n,a,s){var u=Nn(r,t,e,s?4:3),f=wr(u,n);return Wf(u,xt(a,f))}function rd(r){return r?r/J(r):0}function SE(r,t,e,n,a,s){var u=s.fixedDirection,f=Uw(e,u,n),l=Lf(r,t,e,n),v=rt(rt([],F(oE(r,t,f,n,a,s)),!1),F(Wp(r,l,s)),!1),d=zo(v,0),h=zo(v,1);return{width:{isBound:d.isBound,offset:d.offset[0]},height:{isBound:h.isBound,offset:h.offset[1]}}}function bE(r,t,e,n,a,s,u,f,l){var v=wr(t,u),d=ts(r,f,{vertical:[v[0]],horizontal:[v[1]]}),h=d.horizontal.offset,p=d.vertical.offset;if(Ct(p,Qu)||Ct(h,Qu)){var m=F(Te({datas:l,distX:-p,distY:-h}),2),_=m[0],x=m[1],y=Math.min(a||1/0,e+u[0]*_),S=Math.min(s||1/0,n+u[1]*x);return[y-e,S-n]}return[0,0]}function Up(r,t,e,n,a,s,u,f){for(var l=ve(r.state),v=r.props.keepRatio,d=0,h=0,p=0;p<2;++p){var m=t(d,h),_=SE(r,m,a,v,u,f),x=_.width,y=_.height,S=x.isBound,w=y.isBound,C=x.offset,M=y.offset;if(p===1&&(S||(C=0),w||(M=0)),p===0&&u&&!S&&!w)return[0,0];if(v){var R=J(C)*(e?1/e:1),O=J(M)*(n?1/n:1),T=S&&w?R<O:w||!S&&R<O;T?C=e*M/n:M=n*C/e}d+=C,h+=M}if(!v&&a[0]&&a[1]){var I=uE(r,l,a,s,f),P=I.maxWidth,G=I.maxHeight,H=F(bE(r,t(d,h).map(function(Y){return Y.map(function(X){return Ct(X,Qu)})}),e+d,n+h,P,G,a,u,f),2),C=H[0],M=H[1];d+=C,h+=M}return[d,h]}function ji(r){return r<0&&(r=r%360+360),r%=360,r}function wE(r,t){t=ji(t);var e=Math.floor(r/360),n=e*360+360-t,a=e*360+t;return J(r-n)<J(r-a)?n:a}function Au(r,t){r=ji(r),t=ji(t);var e=ji(r-t);return Math.min(e,360-e)}function EE(r,t,e,n){var a,s=r.props,u=(a=s[Pp])!==null&&a!==void 0?a:5,f=s[Bp];if(bi(r,"rotatable")){var l=t.pos1,v=t.pos2,d=t.pos3,h=t.pos4,p=t.origin,m=e*Math.PI/180,_=[l,v,d,h].map(function(M){return xt(M,p)}),x=_.map(function(M){return pa(M,m)}),y=rt(rt([],F(Nw(r,_,x,p,e)),!1),F(tE(r,_,x,p,e)),!1);y.sort(function(M,R){return J(M-e)-J(R-e)});var S=y.length>0;if(S)return{isSnap:S,dist:S?y[0]:e}}if(f!=null&&f.length&&u){var w=f.slice().sort(function(M,R){return Au(M,n)-Au(R,n)}),C=w[0];if(Au(C,n)<=u)return{isSnap:!0,dist:e+wE(n,C)-n}}return{isSnap:!1,dist:e}}function CE(r,t,e,n,a,s,u){if(!bi(r,"resizable"))return[0,0];var f=u.fixedDirection,l=u.nextAllMatrix,v=r.state,d=v.allMatrix,h=v.is3d;return Up(r,function(p,m){return qp(l||d,t+p,e+m,f,a,h)},t,e,n,a,s,u)}function DE(r,t,e,n,a){if(!bi(r,"scalable"))return[0,0];var s=a.startOffsetWidth,u=a.startOffsetHeight,f=a.fixedPosition,l=a.fixedDirection,v=a.is3d,d=Up(r,function(h,p){return qp(Cw(a,Yt(t,[h/s,p/u])),s,u,l,f,v)},s,u,e,f,n,a);return[d[0]/s,d[1]/u]}function ME(r,t){t.absolutePoses=ve(r.state)}function ed(r){var t=[];return r.forEach(function(e){e.guidelineInfos.forEach(function(n){var a=n.guideline;$r(t,function(s){return s.guideline===a})||(a.direction="",t.push({guideline:a,posInfo:e}))})}),t.map(function(e){var n=e.guideline,a=e.posInfo;return B(B({},n),{direction:a.direction})})}function nd(r,t,e,n,a,s){var u=Bf(Qo(r,s),t,e),f=u.vertical,l=u.horizontal,v=si();f.forEach(function(_){_.isBound&&(_.direction==="start"&&(v.left=!0),_.direction==="end"&&(v.right=!0),n.push({type:"bounds",pos:_.pos}))}),l.forEach(function(_){_.isBound&&(_.direction==="start"&&(v.top=!0),_.direction==="end"&&(v.bottom=!0),a.push({type:"bounds",pos:_.pos}))});var d=rE(r),h=d.boundMap,p=d.vertical,m=d.horizontal;return p.forEach(function(_){qe(n,function(x){var y=x.type,S=x.pos;return y==="bounds"&&S===_})>=0||n.push({type:"bounds",pos:_})}),m.forEach(function(_){qe(a,function(x){var y=x.type,S=x.pos;return y==="bounds"&&S===_})>=0||a.push({type:"bounds",pos:_})}),{boundMap:v,innerBoundMap:h}}var OE=Xf("",["resizable","scalable"]),RE={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",Pp,Bp,Gp,zp,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(r,t){var e=r.state,n=e.top,a=e.left,s=e.pos1,u=e.pos2,f=e.pos3,l=e.pos4,v=e.snapRenderInfo,d=r.props.snapRenderThreshold,h=d===void 0?1:d;if(!v||!v.render||!bi(r,""))return fi(r,"boundMap",si(),function(ot){return JSON.stringify(ot)}),fi(r,"innerBoundMap",si(),function(ot){return JSON.stringify(ot)}),[];e.guidelines=of(r);var p=Math.min(s[0],u[0],f[0],l[0]),m=Math.min(s[1],u[1],f[1],l[1]),_=v.externalPoses||[],x=ve(r.state),y=[],S=[],w=[],C=[],M=[],R=le(x),O=R.width,T=R.height,I=R.top,P=R.left,G=R.bottom,H=R.right,W={left:P,right:H,top:I,bottom:G,center:(P+H)/2,middle:(I+G)/2},L=_.length>0,Y=L?le(_):{};if(!v.request){if(v.direction&&M.push(qw(r,x,v.direction,h,h)),v.snap){var X=le(x);v.center&&(X.middle=(X.top+X.bottom)/2,X.center=(X.left+X.right)/2),M.push(Vv(r,X,h,h))}L&&(v.center&&(Y.middle=(Y.top+Y.bottom)/2,Y.center=(Y.left+Y.right)/2),M.push(Vv(r,Y,h,h))),M.forEach(function(ot){var ut=ot.vertical.posInfos,it=ot.horizontal.posInfos;y.push.apply(y,rt([],F(ut.filter(function(vt){var ht=vt.guidelineInfos;return ht.some(function(Et){var Ft=Et.guideline;return!Ft.hide})}).map(function(vt){return{type:"snap",pos:vt.pos}})),!1)),S.push.apply(S,rt([],F(it.filter(function(vt){var ht=vt.guidelineInfos;return ht.some(function(Et){var Ft=Et.guideline;return!Ft.hide})}).map(function(vt){return{type:"snap",pos:vt.pos}})),!1)),w.push.apply(w,rt([],F(ed(ut)),!1)),C.push.apply(C,rt([],F(ed(it)),!1))})}var j=nd(r,[P,H],[I,G],y,S),tt=j.boundMap,U=j.innerBoundMap;L&&nd(r,[Y.left,Y.right],[Y.top,Y.bottom],y,S,v.externalBounds);var nt=rt(rt([],F(w),!1),F(C),!1),et=nt.filter(function(ot){return ot.element&&!ot.gapRects}),$=nt.filter(function(ot){return ot.gapRects}).sort(function(ot,ut){return ot.gap-ut.gap});ct(r,"onSnap",{guidelines:nt.filter(function(ot){var ut=ot.element;return!ut}),elements:et,gaps:$},!0);var st=fi(r,"boundMap",tt,function(ot){return JSON.stringify(ot)},si()),lt=fi(r,"innerBoundMap",U,function(ot){return JSON.stringify(ot)},si());return(tt===st||U===lt)&&ct(r,"onBound",{bounds:tt,innerBounds:U},!0),rt(rt(rt(rt(rt(rt([],F(pE(r,et,[p,m],W,t)),!1),F(hE(r,$,[p,m],W,t)),!1),F(jv(r,"horizontal",C,[a,n],W,t)),!1),F(jv(r,"vertical",w,[a,n],W,t)),!1),F(Qv(r,"horizontal",S,p,n,O,0,t)),!1),F(Qv(r,"vertical",y,m,a,T,1,t)),!1)},dragStart:function(r,t){r.state.snapRenderInfo={request:t.isRequest,snap:!0,center:!0},_o(r)},drag:function(r){var t=r.state;_o(r)||(t.guidelines=of(r)),t.snapRenderInfo&&(t.snapRenderInfo.render=!0)},pinchStart:function(r){this.unset(r)},dragEnd:function(r){this.unset(r)},dragControlCondition:function(r,t){if(OE(r,t)||af(r,t))return!0;if(!t.isRequest&&t.inputEvent)return br(t.inputEvent.target,_t("snap-control"))},dragControlStart:function(r){r.state.snapRenderInfo=null,_o(r)},dragControl:function(r){this.drag(r)},dragControlEnd:function(r){this.unset(r)},dragGroupStart:function(r,t){this.dragStart(r,t)},dragGroup:function(r){this.drag(r)},dragGroupEnd:function(r){this.unset(r)},dragGroupControlStart:function(r){r.state.snapRenderInfo=null,_o(r)},dragGroupControl:function(r){this.drag(r)},dragGroupControlEnd:function(r){this.unset(r)},unset:function(r){var t=r.state;t.enableSnap=!1,t.guidelines=[],t.snapRenderInfo=null,t.elementRects=[]}};function TE(r,t){return[r[0]*t[0],r[1]*t[1]]}function _t(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return wS.apply(void 0,rt([Tf],F(r),!1))}function Kp(r){r()}function IE(r){return!r||r==="none"?[1,0,0,1,0,0]:ye(r)?r:aa(r)}function ta(r,t,e){return Ao(t,zn(e,t),r,zn(e.map(function(n){return-n}),t))}function AE(r,t,e){if(t==="%"){var n=Nf(r.ownerSVGElement);return n[e?"width":"height"]/100}return 1}function PE(r){var t=BE(Hf(r,":before"));return t.map(function(e,n){var a=la(e),s=a.value,u=a.unit;return s*AE(r,u,n===0)})}function Lo(r){return r?r.split(" "):["0","0"]}function BE(r){return Lo(r.transformOrigin)}function Zp(r){var t=qr(r),e=t("transform");if(e&&e!=="none")return e;if("transform"in r){var n=r.transform,a=n.baseVal;if(!a)return"";var s=a.length;if(!s)return"";for(var u=[],f=function(v){var d=a[v].matrix;u.push("matrix(".concat(["a","b","c","d","e","f"].map(function(h){return d[h]}).join(", "),")"))},l=0;l<s;++l)f(l);return u.join(" ")}return""}function sa(r,t,e,n,a){var s,u,f=xf(r)||pn(r),l=!1,v,d;if(!r||e)v=r;else{var h=(s=r==null?void 0:r.assignedSlot)===null||s===void 0?void 0:s.parentElement,p=r.parentElement;h?(l=!0,d=p,v=h):v=p}for(var m=!1,_=r===t||v===t,x="relative",y=1,S=parseFloat(a==null?void 0:a("zoom"))||1,w=a==null?void 0:a("position");v&&v!==f;){t===v&&(_=!0);var C=qr(v),M=v.tagName.toLowerCase(),R=Zp(v),O=C("willChange"),T=parseFloat(C("zoom"))||1;if(x=C("position"),n&&T!==1){y=T;break}if(!e&&n&&S!==1&&w&&w!=="absolute"||M==="svg"||M==="foreignobject"||x!=="static"||R&&R!=="none"||O==="transform")break;var I=(u=r==null?void 0:r.assignedSlot)===null||u===void 0?void 0:u.parentNode,P=v.parentNode;I&&(l=!0,d=P);var G=P;if(G&&G.nodeType===11){v=G.host,m=!0,x=qr(v)("position");break}v=G,x="relative"}return{offsetZoom:y,hasSlot:l,parentSlotElement:d,isCustomElement:m,isStatic:x==="static",isEnd:_||!v||v===f,offsetParent:v||f}}function GE(r,t){var e,n=r.tagName.toLowerCase(),a=r.offsetLeft,s=r.offsetTop,u=qr(r),f=fa(a),l=!f,v,d;return!l&&(n!=="svg"||r.ownerSVGElement)?(v=hp?PE(r):Lo(u("transformOrigin")).map(function(h){return parseFloat(h)}),d=v.slice(),l=!0,n==="svg"?(a=0,s=0):(e=F(LE(r,v,r===t&&t.tagName.toLowerCase()==="g"),4),a=e[0],s=e[1],v[0]=e[2],v[1]=e[3])):(v=Lo(u("transformOrigin")).map(function(h){return parseFloat(h)}),d=v.slice()),{tagName:n,isSVG:f,hasOffset:l,offset:[a||0,s||0],origin:v,targetOrigin:d}}function Jp(r,t){var e=qr(r),n=qr(pn(r)),a=n("position");if(!t&&(!a||a==="static"))return[0,0];var s=parseInt(n("marginLeft"),10),u=parseInt(n("marginTop"),10);return e("position")==="absolute"&&((e("top")!=="auto"||e("bottom")!=="auto")&&(u=0),(e("left")!=="auto"||e("right")!=="auto")&&(s=0)),[s,u]}function sf(r){r.forEach(function(t){var e=t.matrix;e&&(t.matrix=Se(e,3,4))})}function zE(r){for(var t=r.parentElement,e=!1,n=pn(r);t;){var a=Hf(t).transform;if(a&&a!=="none"){e=!0;break}if(t===n)break;t=t.parentElement}return{fixedContainer:t||n,hasTransform:e}}function rs(r,t){return t===void 0&&(t=r.length>9),"".concat(t?"matrix3d":"matrix","(").concat(sp(r,!t).join(","),")")}function Nf(r){var t=r.clientWidth,e=r.clientHeight;if(!r)return{x:0,y:0,width:0,height:0,clientWidth:t,clientHeight:e};var n=r.viewBox,a=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:a.x,y:a.y,width:a.width||t,height:a.height||e,clientWidth:t,clientHeight:e}}function FE(r,t){var e,n=Nf(r),a=n.width,s=n.height,u=n.clientWidth,f=n.clientHeight,l=u/a,v=f/s,d=r.preserveAspectRatio.baseVal,h=d.align,p=d.meetOrSlice,m=[0,0],_=[l,v],x=[0,0];if(h!==1){var y=(h-2)%3,S=Math.floor((h-2)/3);m[0]=a*y/2,m[1]=s*S/2;var w=p===2?Math.max(v,l):Math.min(l,v);_[0]=w,_[1]=w,x[0]=(u-a)/2*y,x[1]=(f-s)/2*S}var C=Df(_,t);return e=F(x,2),C[t*(t-1)]=e[0],C[t*(t-1)+1]=e[1],ta(C,t,m)}function LE(r,t,e){var n=r.tagName.toLowerCase();if(!r.getBBox||!e&&n==="g")return[0,0,0,0];var a=qr(r),s=a("transform-box")==="fill-box",u=r.getBBox(),f=Nf(r.ownerSVGElement),l=u.x,v=u.y;n==="foreignobject"&&!l&&!v&&(l=parseFloat(r.getAttribute("x"))||0,v=parseFloat(r.getAttribute("y"))||0);var d=l-f.x,h=v-f.y,p=s?t[0]:t[0]-d,m=s?t[1]:t[1]-h;return[d,h,p,m]}function or(r,t,e){return Ir(r,Gn(t,e),e)}function Nn(r,t,e,n){return[[0,0],[t,0],[0,e],[t,e]].map(function(a){return or(r,a,n)})}function le(r){var t=r.map(function(v){return v[0]}),e=r.map(function(v){return v[1]}),n=Math.min.apply(Math,rt([],F(t),!1)),a=Math.min.apply(Math,rt([],F(e),!1)),s=Math.max.apply(Math,rt([],F(t),!1)),u=Math.max.apply(Math,rt([],F(e),!1)),f=s-n,l=u-a;return{left:n,top:a,right:s,bottom:u,width:f,height:l}}function id(r,t,e,n){var a=Nn(r,t,e,n);return le(a)}function kE(r,t,e,n,a){var s,u=r.target,f=r.origin,l=t.matrix,v=jp(u),d=v.offsetWidth,h=v.offsetHeight,p=e.getBoundingClientRect(),m=[0,0];e===pn(e)&&(m=Jp(u,!0));for(var _=u.getBoundingClientRect(),x=_.left-p.left+e.scrollLeft-(e.clientLeft||0)+m[0],y=_.top-p.top+e.scrollTop-(e.clientTop||0)+m[1],S=_.width,w=_.height,C=Ao(n,a,l),M=id(C,d,h,n),R=M.left,O=M.top,T=M.width,I=M.height,P=or(C,f,n),G=xt(P,[R,O]),H=[x+G[0]*S/T,y+G[1]*w/I],W=[0,0],L=0;++L<10;){var Y=Re(a,n);s=F(xt(or(Y,H,n),or(Y,P,n)),2),W[0]=s[0],W[1]=s[1];var X=Ao(n,a,zn(W,n),l),j=id(X,d,h,n),tt=j.left,U=j.top,nt=tt-x,et=U-y;if(J(nt)<2&&J(et)<2)break;H[0]-=nt,H[1]-=et}return W.map(function($){return Math.round($)})}function NE(r,t,e){var n=r.length===16,a=n?4:3,s=t.map(function(l){return or(r,l,a)}),u=e.left,f=e.top;return s.map(function(l){return[l[0]+u,l[1]+f]})}function ce(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Qp(r,t){return ce([t[0]-r[0],t[1]-r[1]])}function Ki(r,t,e,n){e===void 0&&(e=1),n===void 0&&(n=hr(r,t));var a=Qp(r,t);return{transform:"translateY(-50%) translate(".concat(r[0],"px, ").concat(r[1],"px) rotate(").concat(n,"rad) scaleY(").concat(e,")"),width:"".concat(a,"px")}}function ko(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=e.length,s=e.reduce(function(f,l){return f+l[0]},0)/a,u=e.reduce(function(f,l){return f+l[1]},0)/a;return{transform:"translateZ(0px) translate(".concat(s,"px, ").concat(u,"px) rotate(").concat(r,"rad) scale(").concat(t,")")}}function Ln(r,t){var e=r[t];return ye(e)?B(B({},r),e):r}function jp(r){var t=r&&!fa(r.offsetWidth),e=0,n=0,a=0,s=0,u=0,f=0,l=0,v=0,d=0,h=0,p=0,m=0,_=1/0,x=1/0,y=1/0,S=1/0,w=0,C=0,M=!1;if(r)if(!t&&r.ownerSVGElement){var R=r.getBBox();M=!0,e=R.width,n=R.height,u=e,f=n,l=e,v=n,a=e,s=n}else{var O=qr(r),T=r.style,I=O("boxSizing")==="border-box",P=parseFloat(O("borderLeftWidth"))||0,G=parseFloat(O("borderRightWidth"))||0,H=parseFloat(O("borderTopWidth"))||0,W=parseFloat(O("borderBottomWidth"))||0,L=parseFloat(O("paddingLeft"))||0,Y=parseFloat(O("paddingRight"))||0,X=parseFloat(O("paddingTop"))||0,j=parseFloat(O("paddingBottom"))||0,tt=L+Y,U=X+j,nt=P+G,et=H+W,$=tt+nt,st=U+et,lt=O("position"),ot=0,ut=0;if("clientLeft"in r){var it=null;if(lt==="absolute"){var vt=sa(r,pn(r));it=vt.offsetParent}else it=r.parentElement;if(it){var ht=qr(it);ot=parseFloat(ht("width")),ut=parseFloat(ht("height"))}}d=Math.max(tt,Zt(O("minWidth"),ot)||0),h=Math.max(U,Zt(O("minHeight"),ut)||0),_=Zt(O("maxWidth"),ot),x=Zt(O("maxHeight"),ut),isNaN(_)&&(_=1/0),isNaN(x)&&(x=1/0),w=Zt(T.width,0)||0,C=Zt(T.height,0)||0,u=parseFloat(O("width"))||0,f=parseFloat(O("height"))||0,l=J(u-w)<1?Lu(d,w||u,_):u,v=J(f-C)<1?Lu(h,C||f,x):f,e=l,n=v,a=l,s=v,I?(y=_,S=x,p=d,m=h,l=e-$,v=n-st):(y=_+$,S=x+st,p=d+$,m=h+st,e=l+$,n=v+st),a=l+tt,s=v+U}return{svg:M,offsetWidth:e,offsetHeight:n,clientWidth:a,clientHeight:s,contentWidth:l,contentHeight:v,inlineCSSWidth:w,inlineCSSHeight:C,cssWidth:u,cssHeight:f,minWidth:d,minHeight:h,maxWidth:_,maxHeight:x,minOffsetWidth:p,minOffsetHeight:m,maxOffsetWidth:y,maxOffsetHeight:S}}function th(r,t){return hr(t>0?r[0]:r[1],t>0?r[1]:r[0])}function xo(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function rh(r,t){var e=r===pn(r)||r===xf(r),n={clientLeft:r.clientLeft,clientTop:r.clientTop,clientWidth:r.clientWidth,clientHeight:r.clientHeight,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight,overflow:!1};return e&&(n.clientHeight=Math.max(t.height,n.clientHeight),n.scrollHeight=Math.max(t.height,n.scrollHeight)),n.overflow=qr(r)("overflow")!=="visible",B(B({},t),n)}function Pu(r,t,e,n){var a=r.left,s=r.right,u=r.top,f=r.bottom,l=t.top,v=t.left,d={left:v+a,top:l+u,right:v+s,bottom:l+f,width:s-a,height:f-u};return e&&n?rh(e,d):d}function ra(r,t){var e=0,n=0,a=0,s=0;if(r){var u=r.getBoundingClientRect();e=u.left,n=u.top,a=u.width,s=u.height}var f={left:e,top:n,width:a,height:s,right:e+a,bottom:n+s};return r&&t?rh(r,f):f}function WE(r){var t=r.props,e=t.groupable,n=t.svgOrigin,a=r.getState(),s=a.offsetWidth,u=a.offsetHeight,f=a.svg,l=a.transformOrigin;return!e&&f&&n?$f(n,s,u):l}function eh(r,t,e,n){var a;if(r)a=r;else if(t)a=[0,0];else{var s=e.target;a=nh(s,n)}return a}function nh(r,t){if(r){var e=r.getAttribute("data-rotation")||"",n=r.getAttribute("data-direction");if(t.deg=e,!!n){var a=[0,0];return n.indexOf("w")>-1&&(a[0]=-1),n.indexOf("e")>-1&&(a[0]=1),n.indexOf("n")>-1&&(a[1]=-1),n.indexOf("s")>-1&&(a[1]=1),a}}}function Wf(r,t){return[Yt(t,r[0]),Yt(t,r[1]),Yt(t,r[2]),Yt(t,r[3])]}function ve(r){var t=r.left,e=r.top,n=r.pos1,a=r.pos2,s=r.pos3,u=r.pos4;return Wf([n,a,s,u],[t,e])}function uf(r,t){r[t?"controlAbles":"targetAbles"].forEach(function(e){e.unset&&e.unset(r)})}function ui(r,t){var e=t?"controlGesto":"targetGesto",n=r[e];(n==null?void 0:n.isIdle())===!1&&uf(r,t),n==null||n.unset(),r[e]=null}function Fr(r,t){if(t){var e=Si(t);e.nextStyle=B(B({},e.nextStyle),r)}return{style:r,cssText:Ue(r).map(function(n){return"".concat(Do(n,"-"),": ").concat(r[n],";")}).join("")}}function ih(r,t,e){var n=t.afterTransform||t.transform;return B(B({},Fr(B(B(B({},r.style),t.style),{transform:n}),e)),{afterTransform:n,transform:r.transform})}function Ot(r,t,e,n){var a=t.datas;a.datas||(a.datas={});var s=B(B({},e),{target:r.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:r,moveable:r,datas:a.datas,isRequest:t.isRequest,isRequestChild:t.isRequestChild,isFirstDrag:!!t.isFirstDrag,isTrusted:t.isTrusted!==!1,stopAble:function(){a.isEventStart=!1},stopDrag:function(){var u;(u=t.stop)===null||u===void 0||u.call(t)}});return a.isStartEvent?n||(a.lastEvent=s):a.isStartEvent=!0,s}function te(r,t,e){var n=t.datas,a="isDrag"in e?e.isDrag:t.isDrag;return n.datas||(n.datas={}),B(B({isDrag:a},e),{moveable:r,target:r.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:r,lastEvent:n.lastEvent,isDouble:t.isDouble,datas:n.datas,isFirstDrag:!!t.isFirstDrag})}function es(r,t,e){r._emitter.on(t,e)}function ct(r,t,e,n,a){return r.triggerEvent(t,e,n,a)}function Hf(r,t){return fn(r).getComputedStyle(r,t)}function yo(r,t,e){var n={},a={};return r.filter(function(s){var u=s.name;if(n[u]||!t.some(function(f){return s[f]}))return!1;if(!e&&s.ableGroup){if(a[s.ableGroup])return!1;a[s.ableGroup]=!0}return n[u]=!0,!0})}function ff(r,t){return r===t||r==null&&t==null}function ad(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=r.length-1,n=0;n<e;++n){var a=r[n];if(!fa(a))return a}return r[e]}function ah(r,t){var e=[],n=[];return r.forEach(function(a,s){var u=t(a,s,r),f=n.indexOf(u),l=e[f]||[];f===-1&&(n.push(u),e.push(l)),l.push(a)}),e}function HE(r,t){var e=[],n={};return r.forEach(function(a,s){var u=t(a,s,r),f=n[u];f||(f=[],n[u]=f,e.push(f)),f.push(a)}),e}function oh(r){return r.reduce(function(t,e){return t.concat(e)},[])}function hi(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.sort(function(e,n){return J(n)-J(e)}),r[0]}function gi(r,t,e){return Ir(Re(r,e),Gn(t,e),e)}function sh(r,t){var e,n=r.is3d,a=r.rootMatrix,s=n?4:3;return e=F(gi(a,[t.distX,t.distY],s),2),t.distX=e[0],t.distY=e[1],t}function fe(r,t,e,n){if(!e[0]&&!e[1])return t;var a=or(r,[rd(e[0]||1),0],n),s=or(r,[0,rd(e[1]||1)],n),u=or(r,[e[0]/ce(a),e[1]/ce(s)],n);return Yt(t,u)}function me(r,t,e){return e?"".concat(r/t*100,"%"):"".concat(r,"px")}function No(r){return J(r)<=Lr?0:r}function Yf(r){return function(t){if(!t.isDragging(r))return"";var e=Aw(t,r),n=e.deg;return n?_t("view-control-rotation".concat(n)):""}}function Xf(r,t){return t===void 0&&(t=[r]),function(e,n){if(n.isRequest)return t.some(function(s){return n.requestAble===s})?n.parentDirection:!1;var a=n.inputEvent.target;return br(a,_t("direction"))&&(!r||br(a,_t(r)))}}function YE(r,t,e){var n,a=vi(r,{"x%":function(R){return R/100*t.offsetWidth},"y%":function(R){return R/100*t.offsetHeight}}),s=r.slice(0,e<0?void 0:e),u=r.slice(0,e<0?void 0:e+1),f=r[e]||"",l=e<0?[]:r.slice(e),v=e<0?[]:r.slice(e+1),d=a.slice(0,e<0?void 0:e),h=a.slice(0,e<0?void 0:e+1),p=(n=a[e])!==null&&n!==void 0?n:vi([""])[0],m=e<0?[]:a.slice(e),_=e<0?[]:a.slice(e+1),x=p?[p]:[],y=ii(d),S=ii(h),w=ii(m),C=ii(_),M=Jt(y,w,4);return{transforms:r,beforeFunctionMatrix:y,beforeFunctionMatrix2:S,targetFunctionMatrix:ii(x),afterFunctionMatrix:w,afterFunctionMatrix2:C,allFunctionMatrix:M,beforeFunctions:d,beforeFunctions2:h,targetFunction:x[0],afterFunctions:m,afterFunctions2:_,beforeFunctionTexts:s,beforeFunctionTexts2:u,targetFunctionText:f,afterFunctionTexts:l,afterFunctionTexts2:v}}function XE(r){return!r||!ye(r)||xi(r)?!1:_r(r)||"length"in r}function Oe(r,t){return r?xi(r)?r:Vr(r)?t?document.querySelector(r):r:gf(r)?r():Nd(r)?r:"current"in r?r.current:r:null}function Vf(r,t){if(!r)return[];var e=XE(r)?[].slice.call(r):[r];return e.reduce(function(n,a){return Vr(a)&&t?rt(rt([],F(n),!1),F([].slice.call(document.querySelectorAll(a))),!1):(_r(a)?n.push(Vf(a,t)):n.push(Oe(a,t)),n)},[])}function VE(r,t,e){var n=hr(r,t)/Math.PI*180;return n=e>=0?n:180-n,n=n>=0?n:360+n,n}function od(r,t){var e=r.rootMatrix,n=r.is3d,a=n?4:3,s=Re(e,a);return n||(s=Se(s,3,4)),s[12]=0,s[13]=0,s[14]=0,Mb(s,t)}function uh(r,t,e,n,a){var s=F(r,2),u=s[0],f=s[1],l=0,v=0;if(a&&u&&f){var d=hr([0,0],t),h=hr([0,0],n),p=ce(t),m=Math.cos(d-h)*p;if(!n[0])v=m,l=v*e;else if(!n[1])l=m,v=l/e;else{var _=n[0]*u,x=n[1]*f,y=Math.atan2(_+t[0],x+t[1]),S=Math.atan2(_,x);y<0&&(y+=Math.PI*2),S<0&&(S+=Math.PI*2);var w=0;J(y-S)<Math.PI/2||J(y-S)>Math.PI/2*3||(S+=Math.PI),w=y-S,w>Math.PI*2?w-=Math.PI*2:w>Math.PI?w=2*Math.PI-w:w<-Math.PI&&(w=-2*Math.PI-w);var C=ce([_+t[0],x+t[1]])*Math.cos(w);l=C*Math.sin(S)-_,v=C*Math.cos(S)-x,n[0]<0&&(l*=-1),n[1]<0&&(v*=-1)}}else l=n[0]*t[0],v=n[1]*t[1];return[l,v]}function fh(r,t,e,n){var a,s=e.ratio,u=e.startOffsetWidth,f=e.startOffsetHeight,l=0,v=0,d=n.distX,h=n.distY,p=n.pinchScale,m=n.parentDistance,_=n.parentDist,x=n.parentScale,y=e.fixedDirection,S=[0,1].map(function(T){return J(r[T]-y[T])}),w=[0,1].map(function(T){var I=S[T];return I!==0&&(I=2/I),I});if(_)l=_[0],v=_[1],t&&(l?v||(v=l/s):l=v*s);else if(ci(p))l=(p-1)*u,v=(p-1)*f;else if(x)l=(x[0]-1)*u,v=(x[1]-1)*f;else if(m){var C=u*S[0],M=f*S[1],R=ce([C,M]);l=m/R*C*w[0],v=m/R*M*w[1]}else{var O=Te({datas:e,distX:d,distY:h});O=w.map(function(T,I){return O[I]*T}),a=F(uh([u,f],O,s,r,t),2),l=a[0],v=a[1]}return{distWidth:l,distHeight:v}}function lf(r,t){if(t){if(r==="left")return{x:"0%",y:"50%"};if(r==="top")return{x:"50%",y:"50%"};if(r==="center")return{x:"50%",y:"50%"};if(r==="right")return{x:"100%",y:"50%"};if(r==="bottom")return{x:"50%",y:"100%"};var e=F(r.split(" "),2),n=e[0],a=e[1],s=lf(n||""),u=lf(a||""),f=B(B({},s),u),l={x:"50%",y:"50%"};return f.x&&(l.x=f.x),f.y&&(l.y=f.y),f.value&&(f.x&&!f.y&&(l.y=f.value),!f.x&&f.y&&(l.x=f.value)),l}return r==="left"?{x:"0%"}:r==="right"?{x:"100%"}:r==="top"?{y:"0%"}:r==="bottom"?{y:"100%"}:r?r==="center"?{value:"50%"}:{value:r}:{}}function $f(r,t,e){var n=lf(r,!0),a=n.x,s=n.y;return[Zt(a,t)||0,Zt(s,e)||0]}function $E(r,t,e){var n=r.map(function(s){return xt(s,t)}),a=n.map(function(s){return pa(s,e)});return{prev:n,next:a,result:a.map(function(s){return Yt(s,t)})}}function lh(r,t){return r.length===t.length&&r.every(function(e,n){var a=t[n],s=_r(e),u=_r(a);return s&&u?lh(e,a):!s&&!u?e===a:!1})}function fi(r,t,e,n,a){var s=r._store,u=s[t];if(!(t in s))if(a!=null)s[t]=a,u=a;else return s[t]=e,e;return u===e||n(u)===n(e)?u:(s[t]=e,e)}function zr(r){return r>=0?1:-1}function J(r){return Math.abs(r)}function Bu(r,t){return NS(r).map(function(e){return t(e)})}function ch(r){return ci(r)?{top:r,left:r,right:r,bottom:r}:{left:r.left||0,top:r.top||0,right:r.right||0,bottom:r.bottom||0}}var qE=ma("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(r,t){var e=t.datas,n=t.targets,a=t.angle,s=t.originalDatas,u=r.props,f=u.pinchable,l=u.ables;if(!f)return!1;var v="onPinch".concat(n?"Group":"","Start"),d="drag".concat(n?"Group":"","ControlStart"),h=(f===!0?r.controlAbles:l.filter(function(x){return f.indexOf(x.name)>-1})).filter(function(x){return x.canPinch&&x[d]}),p=Ot(r,t,{});n&&(p.targets=n);var m=ct(r,v,p);e.isPinch=m!==!1,e.ables=h;var _=e.isPinch;return _?(h.forEach(function(x){if(s[x.name]=s[x.name]||{},!!x[d]){var y=B(B({},t),{datas:s[x.name],parentRotate:a,isPinch:!0});x[d](r,y)}}),r.state.snapRenderInfo={request:t.isRequest,direction:[0,0]},_):!1},pinch:function(r,t){var e=t.datas,n=t.scale,a=t.distance,s=t.originalDatas,u=t.inputEvent,f=t.targets,l=t.angle;if(e.isPinch){var v=a*(1-1/n),d=Ot(r,t,{});f&&(d.targets=f);var h="onPinch".concat(f?"Group":"");ct(r,h,d);var p=e.ables,m="drag".concat(f?"Group":"","Control");return p.forEach(function(_){_[m]&&_[m](r,B(B({},t),{datas:s[_.name],inputEvent:u,resolveMatrix:!0,pinchScale:n,parentDistance:v,parentRotate:l,isPinch:!0}))}),d}},pinchEnd:function(r,t){var e=t.datas,n=t.isPinch,a=t.inputEvent,s=t.targets,u=t.originalDatas;if(e.isPinch){var f="onPinch".concat(s?"Group":"","End"),l=te(r,t,{isDrag:n});s&&(l.targets=s),ct(r,f,l);var v=e.ables,d="drag".concat(s?"Group":"","ControlEnd");return v.forEach(function(h){h[d]&&h[d](r,B(B({},t),{isDrag:n,datas:u[h.name],inputEvent:a,isPinch:!0}))}),n}},pinchGroupStart:function(r,t){return this.pinchStart(r,B(B({},t),{targets:r.props.targets}))},pinchGroup:function(r,t){return this.pinch(r,B(B({},t),{targets:r.props.targets}))},pinchGroupEnd:function(r,t){return this.pinchEnd(r,B(B({},t),{targets:r.props.targets}))}}),sd=Xf("scalable"),UE={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:Tp("scalable"),dragControlCondition:sd,viewClassName:Yf("scalable"),dragControlStart:function(r,t){var e=t.datas,n=t.isPinch,a=t.inputEvent,s=t.parentDirection,u=eh(s,n,a,e),f=r.state,l=f.width,v=f.height,d=f.targetTransform,h=f.target,p=f.pos1,m=f.pos2,_=f.pos4;if(!u||!h)return!1;n||kn(r,t),e.datas={},e.transform=d,e.prevDist=[1,1],e.direction=u,e.startOffsetWidth=l,e.startOffsetHeight=v,e.startValue=[1,1];var x=!u[0]&&!u[1]||u[0]||!u[1];Jo(r,t,"scale"),e.isWidth=x;function y(O){e.ratio=O&&isFinite(O)?O:0}e.startPositions=ve(r.state);function S(O){var T=Hp(e.startPositions,O);e.fixedDirection=T.fixedDirection,e.fixedPosition=T.fixedPosition,e.fixedOffset=T.fixedOffset}e.setFixedDirection=S,y(Ve(p,m)/Ve(m,_)),S([-u[0],-u[1]]);var w=function(O){e.minScaleSize=O},C=function(O){e.maxScaleSize=O};w([-1/0,-1/0]),C([1/0,1/0]);var M=Ot(r,t,B(B({direction:u,set:function(O){e.startValue=O},setRatio:y,setFixedDirection:S,setMinScaleSize:w,setMaxScaleSize:C},Zo(r,t)),{dragStart:Gr.dragStart(r,new di().dragStart([0,0],t))})),R=ct(r,"onScaleStart",M);return e.startFixedDirection=e.fixedDirection,R!==!1&&(e.isScale=!0,r.state.snapRenderInfo={request:t.isRequest,direction:u}),e.isScale?M:!1},dragControl:function(r,t){Uo(r,t,"scale");var e=t.datas,n=t.parentKeepRatio,a=t.parentFlag,s=t.isPinch,u=t.dragClient,f=t.isRequest,l=t.useSnap,v=t.resolveMatrix,d=e.prevDist,h=e.direction,p=e.startOffsetWidth,m=e.startOffsetHeight,_=e.isScale,x=e.startValue,y=e.isWidth,S=e.ratio;if(!_)return!1;var w=r.props,C=w.throttleScale,M=w.parentMoveable,R=h;!h[0]&&!h[1]&&(R=[1,1]);var O=S&&(n??w.keepRatio)||!1,T=r.state,I=[x[0],x[1]];function P(){var at=fh(R,O,e,t),pt=at.distWidth,Ht=at.distHeight,mt=p?(p+pt)/p:1,wt=m?(m+Ht)/m:1;x[0]||(I[0]=pt/p),x[1]||(I[1]=Ht/m);var At=(R[0]||O?mt:1)*I[0],Gt=(R[1]||O?wt:1)*I[1];return At===0&&(At=zr(d[0])*ho),Gt===0&&(Gt=zr(d[1])*ho),[At,Gt]}var G=P();if(!s&&r.props.groupable){var H=T.snapRenderInfo||{},W=H.direction;_r(W)&&(W[0]||W[1])&&(T.snapRenderInfo={direction:h,request:t.isRequest})}ct(r,"onBeforeScale",Ot(r,t,{scale:G,setFixedDirection:function(at){return e.setFixedDirection(at),G=P(),G},startFixedDirection:e.startFixedDirection,setScale:function(at){G=at}},!0));var L=[G[0]/I[0],G[1]/I[1]],Y=u,X=[0,0],j=zr(L[0]*L[1]),tt=!u&&!a&&s;if(tt||v?Y=Pf(r,e.targetAllTransform,[0,0],[0,0],e):u||(Y=e.fixedPosition),s||(X=DE(r,L,h,!l&&f,e)),O){R[0]&&R[1]&&X[0]&&X[1]&&(Math.abs(X[0]*p)>Math.abs(X[1]*m)?X[1]=0:X[0]=0);var U=!X[0]&&!X[1];if(U&&(y?L[0]=Ct(L[0]*I[0],C)/I[0]:L[1]=Ct(L[1]*I[1],C)/I[1]),R[0]&&!R[1]||X[0]&&!X[1]||U&&y){L[0]+=X[0];var nt=p*L[0]*I[0]/S;L[1]=zr(j*L[0])*J(nt/m/I[1])}else if(!R[0]&&R[1]||!X[0]&&X[1]||U&&!y){L[1]+=X[1];var et=m*L[1]*I[1]*S;L[0]=zr(j*L[1])*J(et/p/I[0])}}else L[0]+=X[0],L[1]+=X[1],X[0]||(L[0]=Ct(L[0]*I[0],C)/I[0]),X[1]||(L[1]=Ct(L[1]*I[1],C)/I[1]);L[0]===0&&(L[0]=zr(d[0])*ho),L[1]===0&&(L[1]=zr(d[1])*ho),G=TE(L,[I[0],I[1]]);var $=[p,m],st=[p*G[0],m*G[1]];st=Gd(st,e.minScaleSize,e.maxScaleSize,O?S:!1),G=Bu(2,function(at){return $[at]?st[at]/$[at]:st[at]}),L=Bu(2,function(at){return G[at]/I[at]});var lt=Bu(2,function(at){return d[at]?L[at]/d[at]:L[at]}),ot="scale(".concat(L.join(", "),")"),ut="scale(".concat(G.join(", "),")"),it=Ko(e,ut,ot),vt=!x[0]||!x[1],ht=Dw(r,vt?ut:ot,e.fixedDirection,Y,e.fixedOffset,e,vt),Et=tt?ht:xt(ht,e.prevInverseDist||[0,0]);if(e.prevDist=L,e.prevInverseDist=ht,G[0]===d[0]&&G[1]===d[1]&&Et.every(function(at){return!at})&&!M&&!tt)return!1;var Ft=Ot(r,t,B({offsetWidth:p,offsetHeight:m,direction:h,scale:G,dist:L,delta:lt,isPinch:!!s},Ep(r,it,Et,s,t)));return ct(r,"onScale",Ft),Ft},dragControlEnd:function(r,t){var e=t.datas;if(!e.isScale)return!1;e.isScale=!1;var n=te(r,t,{});return ct(r,"onScaleEnd",n),n},dragGroupControlCondition:sd,dragGroupControlStart:function(r,t){var e=t.datas,n=this.dragControlStart(r,t);if(!n)return!1;var a=xe(r,"resizable",t);e.moveableScale=r.scale;var s=$e(r,this,"dragControlStart",t,function(v,d){return Go(r,v,e,d)}),u=function(v){n.setFixedDirection(v),s.forEach(function(d,h){d.setFixedDirection(v),Go(r,d.moveable,e,a[h])})};e.setFixedDirection=u;var f=B(B({},n),{targets:r.props.targets,events:s,setFixedDirection:u}),l=ct(r,"onScaleGroupStart",f);return e.isScale=l!==!1,e.isScale?f:!1},dragGroupControl:function(r,t){var e=t.datas;if(e.isScale){es(r,"onBeforeScale",function(d){ct(r,"onBeforeScaleGroup",Ot(r,t,B(B({},d),{targets:r.props.targets}),!0))});var n=this.dragControl(r,t);if(n){var a=n.dist,s=e.moveableScale;r.scale=[a[0]*s[0],a[1]*s[1]];var u=r.props.keepRatio,f=e.fixedPosition,l=$e(r,this,"dragControl",t,function(d,h){var p=F(Ir(ha(r.rotation/180*Math.PI,3),[h.datas.originalX*a[0],h.datas.originalY*a[1],1],3),2),m=p[0],_=p[1];return B(B({},h),{parentDist:null,parentScale:a,parentKeepRatio:u,dragClient:Yt(f,[m,_])})}),v=B({targets:r.props.targets,events:l},n);return ct(r,"onScaleGroup",v),v}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(n.isScale){this.dragControlEnd(r,t);var a=$e(r,this,"dragControlEnd",t),s=te(r,t,{targets:r.props.targets,events:a});return ct(r,"onScaleGroupEnd",s),e}},request:function(){var r={},t=0,e=0,n=!1;return{isControl:!0,requestStart:function(a){return n=a.useSnap,{datas:r,parentDirection:a.direction||[1,1],useSnap:n}},request:function(a){return t+=a.deltaWidth,e+=a.deltaHeight,{datas:r,parentDist:[t,e],parentKeepRatio:a.keepRatio,useSnap:n}},requestEnd:function(){return{datas:r,isDrag:!0,useSnap:n}}}}};function on(r,t){return r.map(function(e,n){return To(e,t[n],1,2)})}function ud(r,t,e){var n=hr(r,t),a=hr(r,e),s=a-n;return s>=0?s:s+2*Math.PI}function KE(r,t){var e=ud(r[0],r[1],r[2]),n=ud(t[0],t[1],t[2]),a=Math.PI;return!(e>=a&&n<=a||e<=a&&n>=a)}var ZE={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:Yf("warpable"),render:function(r,t){var e=r.props,n=e.resizable,a=e.scalable,s=e.warpable,u=e.zoom;if(n||a||!s)return[];var f=r.state,l=f.pos1,v=f.pos2,d=f.pos3,h=f.pos4,p=on(l,v),m=on(v,l),_=on(l,d),x=on(d,l),y=on(d,h),S=on(h,d),w=on(v,h),C=on(h,v);return rt([t.createElement("div",{className:_t("line"),key:"middeLine1",style:Ki(p,y,u)}),t.createElement("div",{className:_t("line"),key:"middeLine2",style:Ki(m,S,u)}),t.createElement("div",{className:_t("line"),key:"middeLine3",style:Ki(_,w,u)}),t.createElement("div",{className:_t("line"),key:"middeLine4",style:Ki(x,C,u)})],F(Ip(r,"warpable",t)),!1)},dragControlCondition:function(r,t){if(t.isRequest)return!1;var e=t.inputEvent.target;return br(e,_t("direction"))&&br(e,_t("warpable"))},dragControlStart:function(r,t){var e=t.datas,n=t.inputEvent,a=r.props.target,s=n.target,u=nh(s,e);if(!u||!a)return!1;var f=r.state,l=f.transformOrigin,v=f.is3d,d=f.targetTransform,h=f.targetMatrix,p=f.width,m=f.height,_=f.left,x=f.top;e.datas={},e.targetTransform=d,e.warpTargetMatrix=v?h:Se(h,3,4),e.targetInverseMatrix=ap(Re(e.warpTargetMatrix,4),3,4),e.direction=u,e.left=_,e.top=x,e.poses=[[0,0],[p,0],[0,m],[p,m]].map(function(w){return xt(w,l)}),e.nextPoses=e.poses.map(function(w){var C=F(w,2),M=C[0],R=C[1];return Ir(e.warpTargetMatrix,[M,R,0,1],4)}),e.startValue=nr(4),e.prevMatrix=nr(4),e.absolutePoses=ve(f),e.posIndexes=wp(u),kn(r,t),Jo(r,t,"matrix3d"),f.snapRenderInfo={request:t.isRequest,direction:u};var y=Ot(r,t,B({set:function(w){e.startValue=w}},Zo(r,t))),S=ct(r,"onWarpStart",y);return S!==!1&&(e.isWarp=!0),e.isWarp},dragControl:function(r,t){var e=t.datas,n=t.isRequest,a=t.distX,s=t.distY,u=e.targetInverseMatrix,f=e.prevMatrix,l=e.isWarp,v=e.startValue,d=e.poses,h=e.posIndexes,p=e.absolutePoses;if(!l)return!1;if(Uo(r,t,"matrix3d"),bi(r,"warpable")){var m=h.map(function(P){return p[P]});m.length>1&&m.push([(m[0][0]+m[1][0])/2,(m[0][1]+m[1][1])/2]);var _=ts(r,n,{horizontal:m.map(function(P){return P[1]+s}),vertical:m.map(function(P){return P[0]+a})}),x=_.horizontal,y=_.vertical;s-=x.offset,a-=y.offset}var S=Te({datas:e,distX:a,distY:s},!0),w=e.nextPoses.slice();if(h.forEach(function(P){w[P]=Yt(w[P],S)}),!gw.every(function(P){return KE(P.map(function(G){return d[G]}),P.map(function(G){return w[G]}))}))return!1;var C=Mf(d[0],d[2],d[1],d[3],w[0],w[2],w[1],w[3]);if(!C.length)return!1;var M=Jt(u,C,4),R=Sp(e,M,!0),O=Jt(Re(f,4),R,4);e.prevMatrix=R;var T=Jt(v,R,4),I=Ko(e,"matrix3d(".concat(T.join(", "),")"),"matrix3d(".concat(R.join(", "),")"));return Af(t,I),ct(r,"onWarp",Ot(r,t,B({delta:O,matrix:T,dist:R,multiply:Jt,transform:I},Fr({transform:I},t)))),!0},dragControlEnd:function(r,t){var e=t.datas,n=t.isDrag;return e.isWarp?(e.isWarp=!1,ct(r,"onWarpEnd",te(r,t,{})),n):!1}},JE=_t("area-pieces"),So=_t("area-piece"),vh=_t("avoid"),QE=_t("view-dragging");function Gu(r){var t=r.areaElement;if(t){var e=r.state,n=e.width,a=e.height;kd(t,vh),t.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(a,"px")}}function fd(r){return r.createElement("div",{key:"area_pieces",className:JE},r.createElement("div",{className:So}),r.createElement("div",{className:So}),r.createElement("div",{className:So}),r.createElement("div",{className:So}))}var dh={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(r,t){var e=r.props,n=e.target,a=e.dragArea,s=e.groupable,u=e.passDragArea,f=r.getState(),l=f.width,v=f.height,d=f.renderPoses,h=u?_t("area","pass"):_t("area");if(s)return[t.createElement("div",{key:"area",ref:Xe(r,"areaElement"),className:h}),fd(t)];if(!n||!a)return[];var p=Mf([0,0],[l,0],[0,v],[l,v],d[0],d[1],d[2],d[3]),m=p.length?rs(p,!0):"none";return[t.createElement("div",{key:"area",ref:Xe(r,"areaElement"),className:h,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(v,"px"),transformOrigin:"0 0",transform:m}}),fd(t)]},dragStart:function(r,t){var e=t.datas,n=t.clientX,a=t.clientY,s=t.inputEvent;if(!s)return!1;e.isDragArea=!1;var u=r.areaElement,f=r.state,l=f.moveableClientRect,v=f.renderPoses,d=f.rootMatrix,h=f.is3d,p=l.left,m=l.top,_=le(v),x=_.left,y=_.top,S=_.width,w=_.height,C=h?4:3,M=F(gi(d,[n-p,a-m],C),2),R=M[0],O=M[1];R-=x,O-=y;var T=[{left:x,top:y,width:S,height:O-10},{left:x,top:y,width:R-10,height:w},{left:x,top:y+O+10,width:S,height:w-O-10},{left:x+R+10,top:y,width:S-R-10,height:w}],I=[].slice.call(u.nextElementSibling.children);T.forEach(function(P,G){I[G].style.cssText="left: ".concat(P.left,"px;top: ").concat(P.top,"px; width: ").concat(P.width,"px; height: ").concat(P.height,"px;")}),Ld(u,vh),f.disableNativeEvent=!0},drag:function(r,t){var e=t.datas,n=t.inputEvent;if(this.enableNativeEvent(r),!n)return!1;e.isDragArea||(e.isDragArea=!0,Gu(r))},dragEnd:function(r,t){this.enableNativeEvent(r);var e=t.inputEvent,n=t.datas;if(!e)return!1;n.isDragArea||Gu(r)},dragGroupStart:function(r,t){return this.dragStart(r,t)},dragGroup:function(r,t){return this.drag(r,t)},dragGroupEnd:function(r,t){return this.dragEnd(r,t)},unset:function(r){Gu(r),r.state.disableNativeEvent=!1},enableNativeEvent:function(r){var t=r.state;t.disableNativeEvent&&Bd(function(){t.disableNativeEvent=!1})}},jE=ma("origin",{props:["origin","svgOrigin"],render:function(r,t){var e=r.props,n=e.zoom,a=e.svgOrigin,s=e.groupable,u=r.getState(),f=u.beforeOrigin,l=u.rotation,v=u.svg,d=u.allMatrix,h=u.is3d,p=u.left,m=u.top,_=u.offsetWidth,x=u.offsetHeight,y;if(!s&&v&&a){var S=F($f(a,_,x),2),w=S[0],C=S[1],M=h?4:3,R=or(d,[w,C],M);y=ko(l,n,xt(R,[p,m]))}else y=ko(l,n,f);return[t.createElement("div",{className:_t("control","origin"),style:y,key:"beforeOrigin"})]}});function tC(r){var t=r.scrollContainer;return[t.scrollLeft,t.scrollTop]}var rC={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(r,t){var e=r.props,n=e.scrollContainer,a=n===void 0?r.getContainer():n,s=e.scrollOptions,u=new Gb,f=Oe(a,!0);t.datas.dragScroll=u,r.state.dragScroll=u;var l=t.isControl?"controlGesto":"targetGesto",v=t.targets;u.on("scroll",function(d){var h=d.container,p=d.direction,m=Ot(r,t,{scrollContainer:h,direction:p}),_=v?"onScrollGroup":"onScroll";v&&(m.targets=v),ct(r,_,m)}).on("move",function(d){var h=d.offsetX,p=d.offsetY,m=d.inputEvent;r[l].scrollBy(h,p,m.inputEvent,!1)}).on("scrollDrag",function(d){var h=d.next;h(r[l].getCurrentEvent())}),u.dragStart(t,B({container:f},s))},checkScroll:function(r,t){var e=t.datas.dragScroll;if(e){var n=r.props,a=n.scrollContainer,s=a===void 0?r.getContainer():a,u=n.scrollThreshold,f=u===void 0?0:u,l=n.scrollThrottleTime,v=l===void 0?0:l,d=n.getScrollPosition,h=d===void 0?tC:d,p=n.scrollOptions;return e.drag(t,B({container:s,threshold:f,throttleTime:v,getScrollPosition:function(m){return h({scrollContainer:m.container,direction:m.direction})}},p)),!0}},drag:function(r,t){return this.checkScroll(r,t)},dragEnd:function(r,t){t.datas.dragScroll.dragEnd(),t.datas.dragScroll=null},dragControlStart:function(r,t){return this.dragStart(r,B(B({},t),{isControl:!0}))},dragControl:function(r,t){return this.drag(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupStart:function(r,t){return this.dragStart(r,B(B({},t),{targets:r.props.targets}))},dragGroup:function(r,t){return this.drag(r,B(B({},t),{targets:r.props.targets}))},dragGroupEnd:function(r,t){return this.dragEnd(r,B(B({},t),{targets:r.props.targets}))},dragGroupControlStart:function(r,t){return this.dragStart(r,B(B({},t),{targets:r.props.targets,isControl:!0}))},dragGroupControl:function(r,t){return this.drag(r,B(B({},t),{targets:r.props.targets}))},dragGroupControEnd:function(r,t){return this.dragEnd(r,B(B({},t),{targets:r.props.targets}))},unset:function(r){var t,e=r.state;(t=e.dragScroll)===null||t===void 0||t.dragEnd(),e.dragScroll=null}},ph={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},eC=ma("padding",{props:["padding"],render:function(r,t){var e=r.props;if(e.dragArea)return[];var n=ch(e.padding||{}),a=n.left,s=n.top,u=n.right,f=n.bottom,l=r.getState(),v=l.renderPoses,d=l.pos1,h=l.pos2,p=l.pos3,m=l.pos4,_=[d,h,p,m],x=[];return a>0&&x.push([0,2]),s>0&&x.push([0,1]),u>0&&x.push([1,3]),f>0&&x.push([2,3]),x.map(function(y,S){var w=F(y,2),C=w[0],M=w[1],R=_[C],O=_[M],T=v[C],I=v[M],P=Mf([0,0],[100,0],[0,100],[100,100],R,O,T,I);if(P.length)return t.createElement("div",{key:"padding".concat(S),className:_t("padding"),style:{transform:rs(P,!0)}})})}}),ld=["nw","ne","se","sw"];function bo(r,t){var e=r[0]+r[1],n=e>t?t/e:1;return r[0]*=n,r[1]=t-r[1]*n,r}var nC=[1,2,5,6],iC=[0,3,4,7],In=[1,-1,-1,1],An=[1,1,-1,-1];function qf(r,t,e,n,a,s,u,f){a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=e),f===void 0&&(f=n);var l=[],v=!1,d=r.filter(function(p){return!p.virtual}),h=d.map(function(p){var m=p.horizontal,_=p.vertical,x=p.pos;if(_&&!v&&(v=!0,l.push("/")),v){var y=Math.max(0,_===1?x[1]-s:f-x[1]);return l.push(me(y,n,t)),y}else{var y=Math.max(0,m===1?x[0]-a:u-x[0]);return l.push(me(y,e,t)),y}});return{radiusPoses:d,styles:l,raws:h}}function hh(r){for(var t=[0,0],e=[0,0],n=r.length,a=0;a<n;++a){var s=r[a];s.sub&&(s.horizontal&&(t[1]===0&&(t[0]=a),t[1]=a-t[0]+1,e[0]=a+1),s.vertical&&(e[1]===0&&(e[0]=a),e[1]=a-e[0]+1))}return{horizontalRange:t,verticalRange:e}}function gh(r,t,e,n,a,s,u){var f,l,v,d;s===void 0&&(s=[0,0]),u===void 0&&(u=!1);var h=r.indexOf("/"),p=(h>-1?r.slice(0,h):r).length,m=r.slice(0,p),_=r.slice(p+1),x=m.length,y=_.length,S=y>0,w=F(m,4),C=w[0],M=C===void 0?"0px":C,R=w[1],O=R===void 0?M:R,T=w[2],I=T===void 0?M:T,P=w[3],G=P===void 0?O:P,H=F(_,4),W=H[0],L=W===void 0?M:W,Y=H[1],X=Y===void 0?S?L:O:Y,j=H[2],tt=j===void 0?S?L:I:j,U=H[3],nt=U===void 0?S?X:G:U,et=[M,O,I,G].map(function(it){return Zt(it,t)}),$=[L,X,tt,nt].map(function(it){return Zt(it,e)}),st=et.slice(),lt=$.slice();f=F(bo([st[0],st[1]],t),2),st[0]=f[0],st[1]=f[1],l=F(bo([st[3],st[2]],t),2),st[3]=l[0],st[2]=l[1],v=F(bo([lt[0],lt[3]],e),2),lt[0]=v[0],lt[3]=v[1],d=F(bo([lt[1],lt[2]],e),2),lt[1]=d[0],lt[2]=d[1];var ot=u?st:st.slice(0,Math.max(s[0],x)),ut=u?lt:lt.slice(0,Math.max(s[1],y));return rt(rt([],F(ot.map(function(it,vt){var ht=ld[vt];return{virtual:vt>=x,horizontal:In[vt],vertical:0,pos:[n+it,a+(An[vt]===-1?e:0)],sub:!0,raw:et[vt],direction:ht}})),!1),F(ut.map(function(it,vt){var ht=ld[vt];return{virtual:vt>=y,horizontal:0,vertical:An[vt],pos:[n+(In[vt]===-1?t:0),a+it],sub:!0,raw:$[vt],direction:ht}})),!1)}function aC(r,t,e,n,a){a===void 0&&(a=t.length);var s=hh(r.slice(n)),u=s.horizontalRange,f=s.verticalRange,l=e-n,v=0;if(l===0)v=a;else if(l>0&&l<u[1])v=u[1]-l;else if(l>=f[0])v=f[0]+f[1]-l;else return;r.splice(e,v),t.splice(e,v)}function oC(r,t,e,n,a,s,u,f,l,v,d){v===void 0&&(v=0),d===void 0&&(d=0);var h=hh(r.slice(e)),p=h.horizontalRange,m=h.verticalRange;if(n>-1)for(var _=In[n]===1?s-v:f-s,x=p[1];x<=n;++x){var y=An[x]===1?d:l,S=0;if(n===x?S=s:x===0?S=v+_:In[x]===-1&&(S=f-(t[e][0]-v)),r.splice(e+x,0,{horizontal:In[x],vertical:0,pos:[S,y]}),t.splice(e+x,0,[S,y]),x===0)break}else if(a>-1){var w=An[a]===1?u-d:l-u;if(p[1]===0&&m[1]===0){var C=[v+w,d];r.push({horizontal:In[0],vertical:0,pos:C}),t.push(C)}for(var M=m[0],x=m[1];x<=a;++x){var S=In[x]===1?v:f,y=0;if(a===x?y=u:x===0?y=d+w:An[x]===1?y=t[e+M][1]:An[x]===-1&&(y=l-(t[e+M][1]-d)),r.push({horizontal:0,vertical:An[x],pos:[S,y]}),t.push([S,y]),x===0)break}}}function sC(r,t){t===void 0&&(t=r.map(function(a){return a.raw}));var e=r.map(function(a,s){return a.horizontal?t[s]:null}).filter(function(a){return a!=null}),n=r.map(function(a,s){return a.vertical?t[s]:null}).filter(function(a){return a!=null});return{horizontals:e,verticals:n}}var uC=[[0,-1,"n"],[1,0,"e"]],fC=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Uf(r,t,e){var n=r.props.clipRelative,a=r.state,s=a.width,u=a.height,f=t,l=f.type,v=f.poses,d=l==="rect",h=l==="circle";if(l==="polygon")return e.map(function(O){return"".concat(me(O[0],s,n)," ").concat(me(O[1],u,n))});if(d||l==="inset"){var p=e[1][1],m=e[3][0],_=e[7][0],x=e[5][1];if(d)return[p,m,x,_].map(function(O){return"".concat(O,"px")});var y=[p,s-m,u-x,_].map(function(O,T){return me(O,T%2?s:u,n)});if(e.length>8){var S=F(xt(e[4],e[0]),2),w=S[0],C=S[1];y.push.apply(y,rt(["round"],F(qf(v.slice(8).map(function(O,T){return B(B({},O),{pos:e[T]})}),n,w,C,_,p,m,x).styles),!1))}return y}else if(h||l==="ellipse"){var M=e[0],R=me(J(e[1][1]-M[1]),h?Math.sqrt((s*s+u*u)/2):u,n),y=h?[R]:[me(J(e[2][0]-M[0]),s,n),R];return y.push("at",me(M[0],s,n),me(M[1],u,n)),y}}function Wo(r,t,e,n){var a=[n,(n+t)/2,t],s=[r,(r+e)/2,e];return fC.map(function(u){var f=F(u,3),l=f[0],v=f[1],d=f[2],h=a[l+1],p=s[v+1];return{vertical:J(v),horizontal:J(l),direction:d,pos:[h,p]}})}function mh(r){var t=[1/0,-1/0],e=[1/0,-1/0];return r.forEach(function(n){var a=n.pos;t[0]=Math.min(t[0],a[0]),t[1]=Math.max(t[1],a[0]),e[0]=Math.min(e[0],a[1]),e[1]=Math.max(e[1],a[1])}),[J(t[1]-t[0]),J(e[1]-e[0])]}function cd(r,t,e,n,a){var s,u,f,l,v,d,h,p,m;if(r){var _=a;if(!_){var x=qr(r),y=x("clipPath");_=y!=="none"?y:x("clip")}if(!((!_||_==="none"||_==="auto")&&(_=n,!_))){var S=Pd(_),w=S.prefix,C=w===void 0?_:w,M=S.value,R=M===void 0?"":M,O=C==="circle",T=" ";if(C==="polygon"){var I=Pn(R||"0% 0%, 100% 0%, 100% 100%, 0% 100%");T=",";var P=I.map(function($t){var lr=F($t.split(" "),2),cr=lr[0],sr=lr[1];return{vertical:1,horizontal:1,pos:[Zt(cr,t),Zt(sr,e)]}}),G=Fn(P.map(function($t){return $t.pos}));return{type:C,clipText:_,poses:P,splitter:T,left:G.minX,right:G.maxX,top:G.minY,bottom:G.maxY}}else if(O||C==="ellipse"){var H="",W="",L=0,Y=0,I=ln(R);if(O){var X="";s=F(I,4),u=s[0],X=u===void 0?"50%":u,f=s[2],H=f===void 0?"50%":f,l=s[3],W=l===void 0?"50%":l,L=Zt(X,Math.sqrt((t*t+e*e)/2)),Y=L}else{var j="",tt="";v=F(I,5),d=v[0],j=d===void 0?"50%":d,h=v[1],tt=h===void 0?"50%":h,p=v[3],H=p===void 0?"50%":p,m=v[4],W=m===void 0?"50%":m,L=Zt(j,t),Y=Zt(tt,e)}var U=[Zt(H,t),Zt(W,e)],P=rt([{vertical:1,horizontal:1,pos:U,direction:"nesw"}],F(uC.slice(0,O?1:2).map(function(cr){return{vertical:J(cr[1]),horizontal:cr[0],direction:cr[2],sub:!0,pos:[U[0]+cr[0]*L,U[1]+cr[1]*Y]}})),!1);return{type:C,clipText:_,radiusX:L,radiusY:Y,left:U[0]-L,top:U[1]-Y,right:U[0]+L,bottom:U[1]+Y,poses:P,splitter:T}}else if(C==="inset"){var I=ln(R||"0 0 0 0"),nt=I.indexOf("round"),et=(nt>-1?I.slice(0,nt):I).length,$=I.slice(et+1),st=F(I.slice(0,et),4),lt=st[0],ot=st[1],ut=ot===void 0?lt:ot,it=st[2],vt=it===void 0?lt:it,ht=st[3],Et=ht===void 0?ut:ht,Ft=F([lt,vt].map(function(cr){return Zt(cr,e)}),2),at=Ft[0],pt=Ft[1],Ht=F([Et,ut].map(function(cr){return Zt(cr,t)}),2),mt=Ht[0],wt=Ht[1],At=t-wt,Gt=e-pt,Vt=gh($,At-mt,Gt-at,mt,at),P=rt(rt([],F(Wo(at,At,Gt,mt)),!1),F(Vt),!1);return{type:"inset",clipText:_,poses:P,top:at,left:mt,right:At,bottom:Gt,radius:$,splitter:T}}else if(C==="rect"){var I=Pn(R||"0px, ".concat(t,"px, ").concat(e,"px, 0px"));T=",";var Rt=F(I.map(function(be){var kr=la(be).value;return kr}),4),Lt=Rt[0],wt=Rt[1],pt=Rt[2],mt=Rt[3],P=Wo(Lt,wt,pt,mt);return{type:"rect",clipText:_,poses:P,top:Lt,right:wt,bottom:pt,left:mt,values:I,splitter:T}}}}}function lC(r,t,e,n,a){var s=r[t],u=s.direction,f=s.sub,l=r.map(function(){return[0,0]}),v=u?u.split(""):[];if(n&&t<8){var d=v.filter(function(L){return L==="w"||L==="e"}),h=v.filter(function(L){return L==="n"||L==="s"}),p=d[0],m=h[0];l[t]=e;var _=F(mh(r),2),x=_[0],y=_[1],S=x&&y?x/y:0;if(S&&a){var w=(t+4)%8,C=r[w].pos,M=[0,0];u.indexOf("w")>-1?M[0]=-1:u.indexOf("e")>-1&&(M[0]=1),u.indexOf("n")>-1?M[1]=-1:u.indexOf("s")>-1&&(M[1]=1);var R=uh([x,y],e,S,M,!0),O=x+R[0],T=y+R[1],I=C[1],P=C[1],G=C[0],H=C[0];M[0]===-1?G=H-O:M[0]===1?H=G+O:(G=G-O/2,H=H+O/2),M[1]===-1?I=P-T:(M[1]===1||(I=P-T/2),P=I+T);var W=Wo(I,H,P,G);r.forEach(function(L,Y){l[Y][0]=W[Y].pos[0]-L.pos[0],l[Y][1]=W[Y].pos[1]-L.pos[1]})}else r.forEach(function(L,Y){var X=L.direction;X&&(X.indexOf(p)>-1&&(l[Y][0]=e[0]),X.indexOf(m)>-1&&(l[Y][1]=e[1]))}),p&&(l[1][0]=e[0]/2,l[5][0]=e[0]/2),m&&(l[3][1]=e[1]/2,l[7][1]=e[1]/2)}else u&&!f?v.forEach(function(L){var Y=L==="n"||L==="s";r.forEach(function(X,j){var tt=X.direction,U=X.horizontal,nt=X.vertical;!tt||tt.indexOf(L)===-1||(l[j]=[Y||!U?0:e[0],!Y||!nt?0:e[1]])})}):l[t]=e;return l}function cC(r,t){var e=F(yp(r,t),2),n=e[0],a=e[1],s=t.datas,u=s.clipPath,f=s.clipIndex,l=u,v=l.type,d=l.poses,h=l.splitter,p=d.map(function(w){return w.pos});if(v==="polygon")p.splice(f,0,[n,a]);else if(v==="inset"){var m=nC.indexOf(f),_=iC.indexOf(f),x=d.length;if(oC(d,p,8,m,_,n,a,p[4][0],p[4][1],p[0][0],p[0][1]),x===d.length)return}else return;var y=Uf(r,u,p),S="".concat(v,"(").concat(y.join(h),")");ct(r,"onClip",Ot(r,t,B({clipEventType:"added",clipType:v,poses:p,clipStyles:y,clipStyle:S,distX:0,distY:0},Fr({clipPath:S},t))))}function vC(r,t){var e=t.datas,n=e.clipPath,a=e.clipIndex,s=n,u=s.type,f=s.poses,l=s.splitter,v=f.map(function(m){return m.pos}),d=v.length;if(u==="polygon")f.splice(a,1),v.splice(a,1);else if(u==="inset"){if(a<8||(aC(f,v,a,8,d),d===f.length))return}else return;var h=Uf(r,n,v),p="".concat(u,"(").concat(h.join(l),")");ct(r,"onClip",Ot(r,t,B({clipEventType:"removed",clipType:u,poses:v,clipStyles:h,clipStyle:p,distX:0,distY:0},Fr({clipPath:p},t))))}var dC={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(r,t){var e=r.props,n=e.customClipPath,a=e.defaultClipPath,s=e.clipArea,u=e.zoom,f=e.groupable,l=r.getState(),v=l.target,d=l.width,h=l.height,p=l.allMatrix,m=l.is3d,_=l.left,x=l.top,y=l.pos1,S=l.pos2,w=l.pos3,C=l.pos4,M=l.clipPathState,R=l.snapBoundInfos,O=l.rotation;if(!v||f)return[];var T=cd(v,d,h,a||"inset",M||n);if(!T)return[];var I=m?4:3,P=T.type,G=T.poses,H=G.map(function(wt){var At=or(p,wt.pos,I);return[At[0]-_,At[1]-x]}),W=[],L=[],Y=P==="rect",X=P==="inset",j=P==="polygon";if(Y||X||j){var tt=X?H.slice(0,8):H;L=tt.map(function(wt,At){var Gt=At===0?tt[tt.length-1]:tt[At-1],Vt=hr(Gt,wt),Rt=Qp(Gt,wt);return t.createElement("div",{key:"clipLine".concat(At),className:_t("line","clip-line","snap-control"),"data-clip-index":At,style:{width:"".concat(Rt,"px"),transform:"translate(".concat(Gt[0],"px, ").concat(Gt[1],"px) rotate(").concat(Vt,"rad) scaleY(").concat(u,")")}})})}if(W=H.map(function(wt,At){return t.createElement("div",{key:"clipControl".concat(At),className:_t("control","clip-control","snap-control"),"data-clip-index":At,style:{transform:"translate(".concat(wt[0],"px, ").concat(wt[1],"px) rotate(").concat(O,"rad) scale(").concat(u,")")}})}),X&&W.push.apply(W,rt([],F(H.slice(8).map(function(wt,At){return t.createElement("div",{key:"clipRadiusControl".concat(At),className:_t("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+At,style:{transform:"translate(".concat(wt[0],"px, ").concat(wt[1],"px) rotate(").concat(O,"rad) scale(").concat(u,")")}})})),!1)),P==="circle"||P==="ellipse"){var U=T.left,nt=T.top,et=T.radiusX,$=T.radiusY,st=F(xt(or(p,[U,nt],I),or(p,[0,0],I)),2),lt=st[0],ot=st[1],ut="none";if(!s){for(var it=Math.max(10,et/5,$/5),vt=[],ht=0;ht<=it;++ht){var Et=Math.PI*2/it*ht;vt.push([et+(et-u)*Math.cos(Et),$+($-u)*Math.sin(Et)])}vt.push([et,-2]),vt.push([-2,-2]),vt.push([-2,$*2+2]),vt.push([et*2+2,$*2+2]),vt.push([et*2+2,-2]),vt.push([et,-2]),ut="polygon(".concat(vt.map(function(wt){return"".concat(wt[0],"px ").concat(wt[1],"px")}).join(", "),")")}W.push(t.createElement("div",{key:"clipEllipse",className:_t("clip-ellipse","snap-control"),style:{width:"".concat(et*2,"px"),height:"".concat($*2,"px"),clipPath:ut,transform:"translate(".concat(-_+lt,"px, ").concat(-x+ot,"px) ").concat(rs(p))}}))}if(s){var Ft=le(rt([y,S,w,C],F(H),!1)),at=Ft.width,pt=Ft.height,Ht=Ft.left,mt=Ft.top;if(j||Y||X){var vt=X?H.slice(0,8):H;W.push(t.createElement("div",{key:"clipArea",className:_t("clip-area","snap-control"),style:{width:"".concat(at,"px"),height:"".concat(pt,"px"),transform:"translate(".concat(Ht,"px, ").concat(mt,"px)"),clipPath:"polygon(".concat(vt.map(function(At){return"".concat(At[0]-Ht,"px ").concat(At[1]-mt,"px")}).join(", "),")")}}))}}return R&&["vertical","horizontal"].forEach(function(wt){var At=R[wt],Gt=wt==="horizontal";At.isSnap&&L.push.apply(L,rt([],F(At.snap.posInfos.map(function(Vt,Rt){var Lt=Vt.pos,$t=xt(or(p,Gt?[0,Lt]:[Lt,0],I),[_,x]),lr=xt(or(p,Gt?[d,Lt]:[Lt,h],I),[_,x]);return oa(t,"",$t,lr,u,"clip".concat(wt,"snap").concat(Rt),"guideline")})),!1)),At.isBound&&L.push.apply(L,rt([],F(At.bounds.map(function(Vt,Rt){var Lt=Vt.pos,$t=xt(or(p,Gt?[0,Lt]:[Lt,0],I),[_,x]),lr=xt(or(p,Gt?[d,Lt]:[Lt,h],I),[_,x]);return oa(t,"",$t,lr,u,"clip".concat(wt,"bounds").concat(Rt),"guideline","bounds","bold")})),!1))}),rt(rt([],F(W),!1),F(L),!1)},dragControlCondition:function(r,t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(r,t){var e=r.props,n=e.dragWithClip,a=n===void 0?!0:n;return a?!1:this.dragControlStart(r,t)},drag:function(r,t){return this.dragControl(r,B(B({},t),{isDragTarget:!0}))},dragEnd:function(r,t){return this.dragControlEnd(r,t)},dragControlStart:function(r,t){var e=r.state,n=r.props,a=n.defaultClipPath,s=n.customClipPath,u=e.target,f=e.width,l=e.height,v=t.inputEvent?t.inputEvent.target:null,d=v&&v.getAttribute("class")||"",h=t.datas,p=cd(u,f,l,a||"inset",s);if(!p)return!1;var m=p.clipText,_=p.type,x=p.poses,y=ct(r,"onClipStart",Ot(r,t,{clipType:_,clipStyle:m,poses:x.map(function(S){return S.pos})}));return y===!1?(h.isClipStart=!1,!1):(h.isControl=d&&d.indexOf("clip-control")>-1,h.isLine=d.indexOf("clip-line")>-1,h.isArea=d.indexOf("clip-area")>-1||d.indexOf("clip-ellipse")>-1,h.clipIndex=v?parseInt(v.getAttribute("data-clip-index"),10):-1,h.clipPath=p,h.isClipStart=!0,e.clipPathState=m,kn(r,t),!0)},dragControl:function(r,t){var e,n,a,s=t.datas,u=t.originalDatas,f=t.isDragTarget;if(!s.isClipStart)return!1;var l=s,v=l.isControl,d=l.isLine,h=l.isArea,p=l.clipIndex,m=l.clipPath;if(!m)return!1;var _=Ln(r.props,"clippable"),x=_.keepRatio,y=0,S=0,w=u.draggable,C=Te(t);f&&w?(e=F(w.prevBeforeDist,2),y=e[0],S=e[1]):(n=F(C,2),y=n[0],S=n[1]);var M=[y,S],R=r.state,O=R.width,T=R.height,I=!h&&!v&&!d,P=m.type,G=m.poses,H=m.splitter,W=G.map(function(Kt){return Kt.pos});I&&(y=-y,S=-S);var L=!v||G[p].direction==="nesw",Y=P==="inset"||P==="rect",X=G.map(function(){return[0,0]});if(v&&!L){var j=G[p],tt=j.horizontal,U=j.vertical,nt=[y*J(tt),S*J(U)];X=lC(G,p,nt,Y,x)}else L&&(X=W.map(function(){return[y,S]}));var et=W.map(function(Kt,Er){return Yt(Kt,X[Er])}),$=rt([],F(et),!1);R.snapBoundInfos=null;var st=m.type==="circle",lt=m.type==="ellipse";if(st||lt){var ot=le(et),ut=J(ot.bottom-ot.top),it=J(lt?ot.right-ot.left:ut),vt=et[0][1]+ut,ht=et[0][0]-it,Et=et[0][0]+it;st&&($.push([Et,ot.bottom]),X.push([1,0])),$.push([ot.left,vt]),X.push([0,1]),$.push([ht,ot.bottom]),X.push([1,0])}var Ft=$p((_.clipHorizontalGuidelines||[]).map(function(Kt){return Zt("".concat(Kt),T)}),(_.clipVerticalGuidelines||[]).map(function(Kt){return Zt("".concat(Kt),O)}),O,T),at=[],pt=[];if(st||lt)at=[$[4][0],$[2][0]],pt=[$[1][1],$[3][1]];else if(Y){var Ht=[$[0],$[2],$[4],$[6]],mt=[X[0],X[2],X[4],X[6]];at=Ht.filter(function(Kt,Er){return mt[Er][0]}).map(function(Kt){return Kt[0]}),pt=Ht.filter(function(Kt,Er){return mt[Er][1]}).map(function(Kt){return Kt[1]})}else at=$.filter(function(Kt,Er){return X[Er][0]}).map(function(Kt){return Kt[0]}),pt=$.filter(function(Kt,Er){return X[Er][1]}).map(function(Kt){return Kt[1]});var wt=[0,0],At=Kv(Ft,_.clipTargetBounds&&{left:0,top:0,right:O,bottom:T},at,pt,5,5),Gt=At.horizontal,Vt=At.vertical,Rt=Gt.offset,Lt=Vt.offset;if(Gt.isBound&&(wt[1]+=Rt),Vt.isBound&&(wt[0]+=Lt),(lt||st)&&X[0][0]===0&&X[0][1]===0){var ot=le(et),$t=ot.bottom-ot.top,lr=lt?ot.right-ot.left:$t,cr=Vt.isBound?J(Lt):Vt.snapIndex===0?-Lt:Lt,sr=Gt.isBound?J(Rt):Gt.snapIndex===0?-Rt:Rt;lr-=cr,$t-=sr,st&&($t=Lp(Vt,Gt)>0?$t:lr,lr=$t);var rr=$[0];$[1][1]=rr[1]-$t,$[2][0]=rr[0]+lr,$[3][1]=rr[1]+$t,$[4][0]=rr[0]-lr}else if(Y&&x&&v){var be=F(mh(G),2),kr=be[0],Ie=be[1],Wn=kr&&Ie?kr/Ie:0,wi=G[p],Ke=wi.direction||"",hn=$[1][1],vt=$[5][1],ht=$[7][0],Et=$[3][0];J(Rt)<=J(Lt)?Rt=zr(Rt)*J(Lt)/Wn:Lt=zr(Lt)*J(Rt)*Wn,Ke.indexOf("w")>-1?ht-=Lt:Ke.indexOf("e")>-1?Et-=Lt:(ht+=Lt/2,Et-=Lt/2),Ke.indexOf("n")>-1?hn-=Rt:Ke.indexOf("s")>-1?vt-=Rt:(hn+=Rt/2,vt-=Rt/2);var Ei=Wo(hn,Et,vt,ht);$.forEach(function(Sa,us){var Ri;Ri=F(Ei[us].pos,2),Sa[0]=Ri[0],Sa[1]=Ri[1]})}else $.forEach(function(Kt,Er){var Oi=X[Er];Oi[0]&&(Kt[0]-=Lt),Oi[1]&&(Kt[1]-=Rt)});var Hn=Uf(r,m,et),gn="".concat(P,"(").concat(Hn.join(H),")");if(R.clipPathState=gn,st||lt)at=[$[4][0],$[2][0]],pt=[$[1][1],$[3][1]];else if(Y){var Ht=[$[0],$[2],$[4],$[6]];at=Ht.map(function(Er){return Er[0]}),pt=Ht.map(function(Er){return Er[1]})}else at=$.map(function(Kt){return Kt[0]}),pt=$.map(function(Kt){return Kt[1]});if(R.snapBoundInfos=Kv(Ft,_.clipTargetBounds&&{left:0,top:0,right:O,bottom:T},at,pt,1,1),w){var Ci=R.is3d,Di=R.allMatrix,ss=Ci?4:3,Mi=wt;f&&(Mi=[M[0]+wt[0]-C[0],M[1]+wt[1]-C[1]]),w.deltaOffset=Jt(Di,[Mi[0],Mi[1],0,0],ss)}return ct(r,"onClip",Ot(r,t,B({clipEventType:"changed",clipType:P,poses:et,clipStyle:gn,clipStyles:Hn,distX:y,distY:S},Fr((a={},a[P==="rect"?"clip":"clipPath"]=gn,a),t)))),!0},dragControlEnd:function(r,t){this.unset(r);var e=t.isDrag,n=t.datas,a=t.isDouble,s=n.isLine,u=n.isClipStart,f=n.isControl;return u?(ct(r,"onClipEnd",te(r,t,{})),a&&(f?vC(r,t):s&&cC(r,t)),a||e):!1},unset:function(r){r.state.clipPathState="",r.state.snapBoundInfos=null}},pC={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(r,t){return t.isRequest?t.requestAble==="originDraggable":br(t.inputEvent.target,_t("origin"))},dragControlStart:function(r,t){var e=t.datas;kn(r,t);var n=Ot(r,t,{dragStart:Gr.dragStart(r,new di().dragStart([0,0],t))}),a=ct(r,"onDragOriginStart",n);return e.startOrigin=r.state.transformOrigin,e.startTargetOrigin=r.state.targetOrigin,e.prevOrigin=[0,0],e.isDragOrigin=!0,a===!1?(e.isDragOrigin=!1,!1):n},dragControl:function(r,t){var e=t.datas,n=t.isPinch,a=t.isRequest;if(!e.isDragOrigin)return!1;var s=F(Te(t),2),u=s[0],f=s[1],l=r.state,v=l.width,d=l.height,h=l.offsetMatrix,p=l.targetMatrix,m=l.is3d,_=r.props.originRelative,x=_===void 0?!0:_,y=m?4:3,S=[u,f];if(a){var w=t.distOrigin;(w[0]||w[1])&&(S=w)}var C=Yt(e.startOrigin,S),M=Yt(e.startTargetOrigin,S),R=xt(S,e.prevOrigin),O=xa(h,p,C,y),T=r.getRect(),I=le(Nn(O,v,d,y)),P=[T.left-I.left,T.top-I.top];e.prevOrigin=S;var G=[me(M[0],v,x),me(M[1],d,x)].join(" "),H=Gr.drag(r,_a(t,r.state,P,!!n,!1)),W=Ot(r,t,B(B({width:v,height:d,origin:C,dist:S,delta:R,transformOrigin:G,drag:H},Fr({transformOrigin:G,transform:H.transform},t)),{afterTransform:H.transform}));return ct(r,"onDragOrigin",W),W},dragControlEnd:function(r,t){var e=t.datas;return e.isDragOrigin?(ct(r,"onDragOriginEnd",te(r,t,{})),!0):!1},dragGroupControlCondition:function(r,t){return this.dragControlCondition(r,t)},dragGroupControlStart:function(r,t){var e=this.dragControlStart(r,t);return!!e},dragGroupControl:function(r,t){var e=this.dragControl(r,t);return e?(r.transformOrigin=e.transformOrigin,!0):!1},request:function(r){var t={},e=r.getRect(),n=0,a=0,s=e.transformOrigin,u=[0,0];return{isControl:!0,requestStart:function(){return{datas:t}},request:function(f){return"deltaOrigin"in f?(u[0]+=f.deltaOrigin[0],u[1]+=f.deltaOrigin[1]):"origin"in f?(u[0]=f.origin[0]-s[0],u[1]=f.origin[1]-s[1]):("x"in f?n=f.x-e.left:"deltaX"in f&&(n+=f.deltaX),"y"in f?a=f.y-e.top:"deltaY"in f&&(a+=f.deltaY)),{datas:t,distX:n,distY:a,distOrigin:u}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function hC(r,t,e,n){var a=r.filter(function(l){var v=l.virtual,d=l.horizontal;return d&&!v}).length,s=r.filter(function(l){var v=l.virtual,d=l.vertical;return d&&!v}).length,u=-1;if(t===0&&(a===0?u=0:a===1&&(u=1)),t===2&&(a<=2?u=2:a<=3&&(u=3)),t===3&&(s===0?u=4:s<4&&(u=7)),t===1&&(s<=1?u=5:s<=2&&(u=6)),!(u===-1||!r[u].virtual)){var f=r[u];gC(r,u),u<4?f.pos[0]=e:f.pos[1]=n}}function gC(r,t){t<4?r.slice(0,t+1).forEach(function(e){e.virtual=!1}):(r[0].virtual&&(r[0].virtual=!1),r.slice(4,t+1).forEach(function(e){e.virtual=!1}))}function mC(r,t){t<4?r.slice(t,4).forEach(function(e){e.virtual=!0}):r.slice(t).forEach(function(e){e.virtual=!0})}function vd(r,t,e,n,a){n===void 0&&(n=[0,0]);var s=[];return!r||r==="0px"?s=[]:s=ln(r),gh(s,t,e,0,0,n,a)}function dd(r,t,e,n,a){var s=r.state,u=s.width,f=s.height,l=qf(a,r.props.roundRelative,u,f),v=l.raws,d=l.styles,h=l.radiusPoses,p=sC(h,v),m=p.horizontals,_=p.verticals,x=d.join(" ");s.borderRadiusState=x;var y=Ot(r,t,B({horizontals:m,verticals:_,borderRadius:x,width:u,height:f,delta:n,dist:e},Fr({borderRadius:x},t)));return ct(r,"onRound",y),y}function pd(r){var t,e,n=r.getState().style,a=n.borderRadius||"";if(!a&&r.props.groupable){var s=r.moveables[0],u=r.getTargets()[0];u&&((s==null?void 0:s.props.target)===u?(a=(e=(t=r.moveables[0])===null||t===void 0?void 0:t.state.style.borderRadius)!==null&&e!==void 0?e:"",n.borderRadius=a):(a=Hf(u).borderRadius,n.borderRadius=a))}return a}var _C={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(r){var t=r.props.roundClickable;return t===!0||t==="line"?_t("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(r,t){var e=r.getState(),n=e.target,a=e.width,s=e.height,u=e.allMatrix,f=e.is3d,l=e.left,v=e.top,d=e.borderRadiusState,h=r.props,p=h.minRoundControls,m=p===void 0?[0,0]:p,_=h.maxRoundControls,x=_===void 0?[4,4]:_,y=h.zoom,S=h.roundPadding,w=S===void 0?0:S,C=h.isDisplayShadowRoundControls,M=h.groupable;if(!n)return null;var R=d||pd(r),O=f?4:3,T=vd(R,a,s,m,!0);if(!T)return null;var I=0,P=0,G=M?[0,0]:[l,v];return T.map(function(H,W){var L=H.horizontal,Y=H.vertical,X=H.direction||"",j=rt([],F(H.pos),!1);P+=Math.abs(L),I+=Math.abs(Y),L&&X.indexOf("n")>-1&&(j[1]-=w),Y&&X.indexOf("w")>-1&&(j[0]-=w),L&&X.indexOf("s")>-1&&(j[1]+=w),Y&&X.indexOf("e")>-1&&(j[0]+=w);var tt=xt(or(u,j,O),G),U=C&&C!=="horizontal",nt=H.vertical?I<=x[1]&&(U||!H.virtual):P<=x[0]&&(C||!H.virtual);return t.createElement("div",{key:"borderRadiusControl".concat(W),className:_t("control","border-radius",H.vertical?"vertical":"",H.virtual?"virtual":""),"data-radius-index":W,style:{display:nt?"block":"none",transform:"translate(".concat(tt[0],"px, ").concat(tt[1],"px) scale(").concat(y,")")}})})},dragControlCondition:function(r,t){if(!t.inputEvent||t.isRequest)return!1;var e=t.inputEvent.target.getAttribute("class")||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(r,t){return this.dragControlCondition(r,t)},dragControlStart:function(r,t){var e=t.inputEvent,n=t.datas,a=e.target,s=a.getAttribute("class")||"",u=s.indexOf("border-radius")>-1,f=s.indexOf("moveable-line")>-1&&s.indexOf("moveable-direction")>-1,l=u?parseInt(a.getAttribute("data-radius-index"),10):-1,v=-1;if(f){var d=a.getAttribute("data-line-key")||"";d&&(v=parseInt(d.replace(/render-line-/g,""),10),isNaN(v)&&(v=-1))}if(!u&&!f)return!1;var h=Ot(r,t,{}),p=ct(r,"onRoundStart",h);if(p===!1)return!1;n.lineIndex=v,n.controlIndex=l,n.isControl=u,n.isLine=f,kn(r,t);var m=r.props,_=m.roundRelative,x=m.minRoundControls,y=x===void 0?[0,0]:x,S=r.state,w=S.width,C=S.height;n.isRound=!0,n.prevDist=[0,0];var M=pd(r),R=vd(M||"",w,C,y,!0)||[];return n.controlPoses=R,S.borderRadiusState=qf(R,_,w,C).styles.join(" "),h},dragControl:function(r,t){var e=t.datas,n=e.controlPoses;if(!e.isRound||!e.isControl||!n.length)return!1;var a=e.controlIndex,s=F(Te(t),2),u=s[0],f=s[1],l=[u,f],v=xt(l,e.prevDist),d=r.props.maxRoundControls,h=d===void 0?[4,4]:d,p=r.state,m=p.width,_=p.height,x=n[a],y=x.vertical,S=x.horizontal,w=n.map(function(M){var R=M.horizontal,O=M.vertical,T=[R*S*l[0],O*y*l[1]];if(R){if(h[0]===1)return T;if(h[0]<4&&R!==S)return T}else{if(h[1]===0)return T[1]=O*S*l[0]/m*_,T;if(y){if(h[1]===1)return T;if(h[1]<4&&O!==y)return T}}return[0,0]});w[a]=l;var C=n.map(function(M,R){return B(B({},M),{pos:Yt(M.pos,w[R])})});return a<4?C.slice(0,a+1).forEach(function(M){M.virtual=!1}):C.slice(4,a+1).forEach(function(M){M.virtual=!1}),e.prevDist=[u,f],dd(r,t,l,v,C)},dragControlEnd:function(r,t){var e=r.state;e.borderRadiusState="";var n=t.datas,a=t.isDouble;if(!n.isRound)return!1;var s=n.isControl,u=n.controlIndex,f=n.isLine,l=n.lineIndex,v=n.controlPoses,d=v.filter(function(S){var w=S.virtual;return w}).length,h=r.props.roundClickable,p=h===void 0?!0:h;if(a&&p){if(s&&(p===!0||p==="control"))mC(v,u);else if(f&&(p===!0||p==="line")){var m=F(yp(r,t),2),_=m[0],x=m[1];hC(v,l,_,x)}d!==v.filter(function(S){var w=S.virtual;return w}).length&&dd(r,t,[0,0],[0,0],v)}var y=te(r,t,{});return ct(r,"onRoundEnd",y),e.borderRadiusState="",y},dragGroupControlStart:function(r,t){var e=this.dragControlStart(r,t);if(!e)return!1;var n=r.moveables,a=r.props.targets,s=xe(r,"roundable",t),u=B({targets:r.props.targets,events:s.map(function(f,l){return B(B({},f),{target:a[l],moveable:n[l],currentTarget:n[l]})})},e);return ct(r,"onRoundGroupStart",u),e},dragGroupControl:function(r,t){var e=this.dragControl(r,t);if(!e)return!1;var n=r.moveables,a=r.props.targets,s=xe(r,"roundable",t),u=B({targets:r.props.targets,events:s.map(function(f,l){return B(B(B({},f),{target:a[l],moveable:n[l],currentTarget:n[l]}),Fr({borderRadius:e.borderRadius},f))})},e);return ct(r,"onRoundGroup",u),u},dragGroupControlEnd:function(r,t){var e=r.moveables,n=r.props.targets,a=xe(r,"roundable",t);es(r,"onRound",function(f){var l=B({targets:r.props.targets,events:a.map(function(v,d){return B(B(B({},v),{target:n[d],moveable:e[d],currentTarget:e[d]}),Fr({borderRadius:f.borderRadius},v))})},f);ct(r,"onRoundGroup",l)});var s=this.dragControlEnd(r,t);if(!s)return!1;var u=B({targets:r.props.targets,events:a.map(function(f,l){var v;return B(B({},f),{target:n[l],moveable:e[l],currentTarget:e[l],lastEvent:(v=f.datas)===null||v===void 0?void 0:v.lastEvent})})},s);return ct(r,"onRoundGroupEnd",u),u},unset:function(r){r.state.borderRadiusState=""}};function xC(r,t){var e=t?4:3,n=nr(e),a="matrix".concat(t?"3d":"","(").concat(n.join(","),")");return r===a||r==="matrix(1,0,0,1,0,0)"}var _h={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(r,t){var e=r.state,n=e.is3d,a=e.targetMatrix,s=e.inlineTransform,u=n?"matrix3d(".concat(a.join(","),")"):"matrix(".concat(sp(a,!0),")"),f=!s||s==="none"?u:s;t.datas.startTransforms=xC(f,n)?[]:ln(f)},resetStyle:function(r){var t=r.datas;t.nextStyle={},t.nextTransforms=r.datas.startTransforms,t.nextTransformAppendedIndexes=[]},fillDragStartParams:function(r,t){return Ot(r,t,{setTransform:function(e){t.datas.startTransforms=_r(e)?e:ln(e)},isPinch:!!t.isPinch})},fillDragParams:function(r,t){return Ot(r,t,{isPinch:!!t.isPinch})},dragStart:function(r,t){this.setTransform(r,t),this.resetStyle(t),ct(r,"onBeforeRenderStart",this.fillDragStartParams(r,t))},drag:function(r,t){t.datas.startTransforms||this.setTransform(r,t),this.resetStyle(t),ct(r,"onBeforeRender",Ot(r,t,{isPinch:!!t.isPinch}))},dragEnd:function(r,t){t.datas.startTransforms||(this.setTransform(r,t),this.resetStyle(t)),ct(r,"onBeforeRenderEnd",Ot(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(r,t){var e=this;this.dragStart(r,t);var n=xe(r,"beforeRenderable",t),a=r.moveables,s=n.map(function(u,f){var l=a[f];return e.setTransform(l,u),e.resetStyle(u),e.fillDragStartParams(l,u)});ct(r,"onBeforeRenderGroupStart",Ot(r,t,{isPinch:!!t.isPinch,targets:r.props.targets,setTransform:function(){},events:s}))},dragGroup:function(r,t){var e=this;this.drag(r,t);var n=xe(r,"beforeRenderable",t),a=r.moveables,s=n.map(function(u,f){var l=a[f];return e.resetStyle(u),e.fillDragParams(l,u)});ct(r,"onBeforeRenderGroup",Ot(r,t,{isPinch:!!t.isPinch,targets:r.props.targets,events:s}))},dragGroupEnd:function(r,t){this.dragEnd(r,t),ct(r,"onBeforeRenderGroupEnd",Ot(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:r.props.targets}))},dragControlStart:function(r,t){return this.dragStart(r,t)},dragControl:function(r,t){return this.drag(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupControlStart:function(r,t){return this.dragGroupStart(r,t)},dragGroupControl:function(r,t){return this.dragGroup(r,t)},dragGroupControlEnd:function(r,t){return this.dragGroupEnd(r,t)}},xh={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(r,t){ct(r,"onRenderStart",Ot(r,t,{isPinch:!!t.isPinch}))},drag:function(r,t){ct(r,"onRender",this.fillDragParams(r,t))},dragAfter:function(r,t){return this.drag(r,t)},dragEnd:function(r,t){ct(r,"onRenderEnd",this.fillDragEndParams(r,t))},dragGroupStart:function(r,t){ct(r,"onRenderGroupStart",Ot(r,t,{isPinch:!!t.isPinch,targets:r.props.targets}))},dragGroup:function(r,t){var e=this,n=xe(r,"beforeRenderable",t),a=r.moveables,s=n.map(function(u,f){var l=a[f];return e.fillDragParams(l,u)});ct(r,"onRenderGroup",Ot(r,t,B(B({isPinch:!!t.isPinch,targets:r.props.targets,transform:go(t),transformObject:{}},Fr(mo(t))),{events:s})))},dragGroupEnd:function(r,t){var e=this,n=xe(r,"beforeRenderable",t),a=r.moveables,s=n.map(function(u,f){var l=a[f];return e.fillDragEndParams(l,u)});ct(r,"onRenderGroupEnd",Ot(r,t,B({isPinch:!!t.isPinch,isDrag:t.isDrag,targets:r.props.targets,events:s,transformObject:{},transform:go(t)},Fr(mo(t)))))},dragControlStart:function(r,t){return this.dragStart(r,t)},dragControl:function(r,t){return this.drag(r,t)},dragControlAfter:function(r,t){return this.dragAfter(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupControlStart:function(r,t){return this.dragGroupStart(r,t)},dragGroupControl:function(r,t){return this.dragGroup(r,t)},dragGroupControlEnd:function(r,t){return this.dragGroupEnd(r,t)},fillDragParams:function(r,t){var e={};return vi(Bo(t)||[]).forEach(function(n){e[n.name]=n.functionValue}),Ot(r,t,B({isPinch:!!t.isPinch,transformObject:e,transform:go(t)},Fr(mo(t))))},fillDragEndParams:function(r,t){var e={};return vi(Bo(t)||[]).forEach(function(n){e[n.name]=n.functionValue}),Ot(r,t,B({isPinch:!!t.isPinch,isDrag:t.isDrag,transformObject:e,transform:go(t)},Fr(mo(t))))}};function ea(r,t,e,n,a,s,u){s.clientDistX=s.distX,s.clientDistY=s.distY;var f=a==="Start",l=a==="End",v=a==="After",d=r.state.target,h=s.isRequest,p=n.indexOf("Control")>-1;if(!d||f&&p&&!h&&r.areaElement===s.inputEvent.target)return!1;var m=rt([],F(t),!1);if(h){var _=s.requestAble;m.some(function(W){return W.name===_})||m.push.apply(m,rt([],F(r.props.ables.filter(function(W){return W.name===_})),!1))}if(!m.length||m.every(function(W){return W.dragRelation}))return!1;var x=s.inputEvent,y;l&&x&&(y=document.elementFromPoint(s.clientX,s.clientY)||x.target);var S=!1,w=function(){var W;S=!0,(W=s.stop)===null||W===void 0||W.call(s)},C=f&&(!r.targetGesto||!r.controlGesto||!r.targetGesto.isFlag()||!r.controlGesto.isFlag());C&&r.updateRect(a,!0,!1);var M=s.datas,R=p?"controlGesto":"targetGesto",O=r[R],T=function(W,L,Y){if(!(L in W)||O!==r[R])return!1;var X=W.name,j=M[X]||(M[X]={});if(f&&(j.isEventStart=!Y||!W[Y]||W[Y](r,s)),!j.isEventStart)return!1;var tt=W[L](r,B(B({},s),{stop:w,datas:j,originalDatas:M,inputTarget:y}));return r._emitter.off(),f&&tt===!1&&(j.isEventStart=!1),tt};C&&m.forEach(function(W){W.unset&&W.unset(r)}),T(_h,"drag".concat(n).concat(a));var I=0,P=0;e.forEach(function(W){if(S)return!1;var L="".concat(W).concat(n).concat(a),Y="".concat(W).concat(n,"Condition");a===""&&!h&&sh(r.state,s);var X=m.filter(function(U){return U[L]});X=X.filter(function(U,nt){return U.name&&X.indexOf(U)===nt});var j=X.filter(function(U){return T(U,L,Y)}),tt=j.length;S&&++I,tt&&++P,!S&&f&&X.length&&!tt&&(I+=X.filter(function(U){var nt=U.name,et=M[nt];return et.isEventStart?U.dragRelation!=="strong":!1}).length?1:0)}),(!v||P)&&T(xh,"drag".concat(n).concat(a));var G=O!==r[R]||I===e.length;if((l||S||G)&&(r.state.gestos={},r.moveables&&r.moveables.forEach(function(W){W.state.gestos={}}),m.forEach(function(W){W.unset&&W.unset(r)})),f&&!G&&!h&&P&&r.props.preventDefault&&(s==null||s.preventDefault()),r.isUnmounted||G)return!1;if(!f&&P&&!u||l){var H=r.props.flushSync||Kp;H(function(){r.updateRect(l?a:"",!0,!1),r.forceUpdate()})}return!f&&!l&&!v&&P&&!u&&ea(r,t,e,n,a+"After",s),!0}function Kf(r,t){return function(e,n){var a;n===void 0&&(n=e.inputEvent.target);var s=n,u=r.areaElement,f=r._dragTarget;return!f||!t&&(!((a=r.controlGesto)===null||a===void 0)&&a.isFlag())?!1:s===f||f.contains(s)||s===u||!r.isMoveableElement(s)&&!r.controlBox.contains(s)||br(s,"moveable-area")||br(s,"moveable-padding")||br(s,"moveable-edgeDraggable")}}function yh(r,t,e){var n=r.controlBox,a=[],s=r.props,u=s.dragArea,f=r.state.target,l=s.dragTarget;a.push(n),(!u||l)&&a.push(t),!u&&l&&f&&t!==f&&s.dragTargetSelf&&a.push(f);var v=Kf(r);return bh(r,a,"targetAbles",e,{dragStart:v,pinchStart:v})}function Sh(r,t){var e=r.controlBox,n=[];n.push(e);var a=Kf(r,!0),s=function(u,f){if(f===void 0&&(f=u.inputEvent.target),f===e)return!0;var l=a(u,f);return!l};return bh(r,n,"controlAbles",t,{dragStart:s,pinchStart:s})}function bh(r,t,e,n,a){a===void 0&&(a={});var s=e==="targetAbles",u=r.props,f=u.pinchOutside,l=u.pinchThreshold,v=u.preventClickEventOnDrag,d=u.preventClickDefault,h=u.checkInput,p=u.dragFocusedInput,m=u.preventDefault,_=m===void 0?!0:m,x=u.preventRightClick,y=x===void 0?!0:x,S=u.preventWheelClick,w=S===void 0?!0:S,C=u.dragContainer,M=Oe(C,!0),R={preventDefault:_,preventRightClick:y,preventWheelClick:w,container:M||fn(r.getControlBoxElement()),pinchThreshold:l,pinchOutside:f,preventClickEventOnDrag:s?v:!1,preventClickEventOnDragStart:s?d:!1,preventClickEventByCondition:s?null:function(I){return r.controlBox.contains(I.target)},checkInput:s?h:!1,dragFocusedInput:p},O=new qb(t,R),T=n==="Control";return["drag","pinch"].forEach(function(I){["Start","","End"].forEach(function(P){O.on("".concat(I).concat(P),function(G){var H,W=G.eventType,L=I==="drag"&&G.isPinch;if(a[W]&&!a[W](G)){G.stop();return}if(!L){var Y=I==="drag"?[I]:["drag",I],X=rt([],F(r[e]),!1),j=ea(r,X,Y,n,P,G);j?(r.props.stopPropagation||P==="Start"&&T)&&((H=G==null?void 0:G.inputEvent)===null||H===void 0||H.stopPropagation()):G.stop()}})})}),O}var yC=function(){function r(t,e,n){var a=this;this.target=t,this.moveable=e,this.eventName=n,this.ables=[],this._onEvent=function(s){var u=a.eventName,f=a.moveable;f.state.disableNativeEvent||a.ables.forEach(function(l){l[u](f,{inputEvent:s})})},t.addEventListener(n.toLowerCase(),this._onEvent)}return r.prototype.setAbles=function(t){this.ables=t},r.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},r}();function SC(r,t,e,n){var a;e===void 0&&(e=t);var s=Dp(r,t),u=s.matrixes,f=s.is3d,l=s.targetMatrix,v=s.transformOrigin,d=s.targetOrigin,h=s.offsetContainer,p=s.hasFixed,m=s.zoom,_=zw(h,e),x=_.matrixes,y=_.is3d,S=_.offsetContainer,w=_.zoom,C=n||y||f,M=C?4:3,R=r.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in r,O=l,T=nr(M),I=nr(M),P=nr(M),G=nr(M),H=u.length,W=x.map(function(nt){return B(B({},nt),{matrix:nt.matrix?rt([],F(nt.matrix),!1):void 0})}).reverse();u.reverse(),!f&&C&&(O=Se(O,3,4),sf(u)),!y&&C&&sf(W),W.forEach(function(nt){I=Jt(I,nt.matrix,M)});var L=e||pn(r),Y=((a=W[0])===null||a===void 0?void 0:a.target)||sa(L,L,!0).offsetParent,X=W.slice(1).reduce(function(nt,et){return Jt(nt,et.matrix,M)},nr(M));u.forEach(function(nt,et){if(H-2===et&&(P=T.slice()),H-1===et&&(G=T.slice()),!nt.matrix){var $=u[et+1],st=kE(nt,$,Y,M,Jt(X,T,M));nt.matrix=zn(st,M)}T=Jt(T,nt.matrix,M)});var j=!R&&f;O||(O=nr(j?4:3));var tt=rs(R&&O.length===16?Se(O,4,3):O,j),U=I;return I=ap(I,M,M),{hasZoom:m!==1||w!==1,hasFixed:p,matrixes:u,rootMatrix:I,originalRootMatrix:U,beforeMatrix:P,offsetMatrix:G,allMatrix:T,targetMatrix:O,targetTransform:tt,inlineTransform:r.style.transform,transformOrigin:v,targetOrigin:d,is3d:C,offsetContainer:h,offsetRootContainer:S}}function bC(r,t,e,n){e===void 0&&(e=t);var a=0,s=0,u=0,f={},l=jp(r);if(r&&(a=l.offsetWidth,s=l.offsetHeight),r){var v=SC(r,t,e,n),d=li(v.allMatrix,v.transformOrigin,a,s);f=B(B({},v),d);var h=li(v.allMatrix,[50,50],100,100);u=th([h.pos1,h.pos2],h.direction)}var p=n?4:3;return B(B(B({hasZoom:!1,width:a,height:s,rotation:u},l),{originalRootMatrix:nr(p),rootMatrix:nr(p),beforeMatrix:nr(p),offsetMatrix:nr(p),allMatrix:nr(p),targetMatrix:nr(p),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),f)}function cf(r,t,e,n,a,s){s===void 0&&(s=[]);var u=1,f=[0,0],l=xo(),v=xo(),d=xo(),h=xo(),p=[0,0],m={},_=bC(t,e,a,!0);if(t){var x=qr(t);s.forEach(function(W){m[W]=x(W)});var y=_.is3d?4:3,S=li(_.offsetMatrix,Yt(_.transformOrigin,op(_.targetMatrix,y)),_.width,_.height);u=S.direction,f=Yt(S.origin,[S.left-_.left,S.top-_.top]),h=ra(_.offsetRootContainer);var w=sa(n,n,!0).offsetParent||_.offsetRootContainer;if(_.hasZoom){var C=li(Jt(_.originalRootMatrix,_.allMatrix),_.transformOrigin,_.width,_.height),M=li(_.originalRootMatrix,Lo(qr(w)("transformOrigin")).map(function(W){return parseFloat(W)}),w.offsetWidth,w.offsetHeight);if(l=Pu(C,h),d=Pu(M,h,w,!0),r){var R=C.left,O=C.top;v=Pu({left:R,top:O,bottom:O,right:O},h)}}else{l=ra(t),d=Gw(w),r&&(v=ra(r));var T=d.left,I=d.top,P=d.clientLeft,G=d.clientTop,H=[l.left-T,l.top-I];p=xt(gi(_.rootMatrix,H,4),[P+_.left,G+_.top])}}return B({targetClientRect:l,containerClientRect:d,moveableClientRect:v,rootContainerClientRect:h,beforeDirection:u,beforeOrigin:f,originalBeforeOrigin:f,target:t,style:m,offsetDelta:p},_)}function hd(r){var t=r.pos1,e=r.pos2,n=r.pos3,a=r.pos4;if(!t||!e||!n||!a)return null;var s=Fn([t,e,n,a]),u=[s.minX,s.minY],f=xt(r.origin,u);return t=xt(t,u),e=xt(e,u),n=xt(n,u),a=xt(a,u),B(B({},r),{left:r.left,top:r.top,posDelta:u,pos1:t,pos2:e,pos3:n,pos4:a,origin:f,beforeOrigin:f,isPersisted:!0})}var mi=function(r){ga(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.state=B({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},cf(null)),e.renderState={},e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isMoveableMounted=!1,e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e._emitter=new qo,e._prevOriginalDragTarget=null,e._originalDragTarget=null,e._prevDragTarget=null,e._dragTarget=null,e._prevPropTarget=null,e._propTarget=null,e._prevDragArea=!1,e._isPropTargetChanged=!1,e._hasFirstTarget=!1,e._reiszeObserver=null,e._observerId=0,e._mutationObserver=null,e._rootContainer=null,e._viewContainer=null,e._viewClassNames=[],e._store={},e.checkUpdateRect=function(){if(!e.isDragging()){var n=e.props.parentMoveable;if(n){n.checkUpdateRect();return}zS(e._observerId),e._observerId=Bd(function(){e.isDragging()||e.updateRect()})}},e._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},e}return t.prototype.render=function(){var e=this.props,n=this.getState(),a=e.parentPosition,s=e.className,u=e.target,f=e.zoom,l=e.cspNonce,v=e.translateZ,d=e.cssStyled,h=e.groupable,p=e.linePadding,m=e.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var _=F(a||[0,0],2),x=_[0],y=_[1],S=n.left,w=n.top,C=n.target,M=n.direction,R=n.hasFixed,O=n.offsetDelta,T=e.targets,I=this.isDragging(),P={};this.getEnabledAbles().forEach(function(X){P["data-able-".concat(X.name.toLowerCase())]=!0});var G=this._getAbleClassName(),H=T&&T.length&&(C||h)||u||!this._hasFirstTarget&&this.state.isPersisted,W=this.controlBox||this.props.firstRenderState||this.props.persistData,L=[S-x,w-y];!h&&e.useAccuratePosition&&(L[0]+=O[0],L[1]+=O[1]);var Y={position:R?"fixed":"absolute",display:H?"block":"none",visibility:W?"visible":"hidden",transform:"translate3d(".concat(L[0],"px, ").concat(L[1],"px, ").concat(v,")"),"--zoom":f,"--zoompx":"".concat(f,"px")};return p&&(Y["--moveable-line-padding"]=p),m&&(Y["--moveable-control-padding"]=m),_e(d,B({cspNonce:l,ref:Xe(this,"controlBox"),className:"".concat(_t("control-box",M===-1?"reverse":"",I?"dragging":"")," ").concat(G," ").concat(s)},P,{onClick:this._onPreventClick,style:Y}),this.renderAbles(),this._renderLines())},t.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var e=this.props,n=e.parentMoveable,a=e.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!a&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},t.prototype.componentDidUpdate=function(e){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(e)},t.prototype.componentWillUnmount=function(){var e,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(e=this._reiszeObserver)===null||e===void 0||e.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var a=this._viewContainer;a&&this._changeAbleViewClassNames([]),ui(this,!1),ui(this,!0);var s=this.events;for(var u in s){var f=s[u];f&&f.destroy()}},t.prototype.getTargets=function(){var e=this.props.target;return e?[e]:[]},t.prototype.getAble=function(e){var n=this.props.ables||[];return $r(n,function(a){return a.name===e})},t.prototype.getContainer=function(){var e=this.props,n=e.parentMoveable,a=e.wrapperMoveable,s=e.container;return s||a&&a.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},t.prototype.getControlBoxElement=function(){return this.controlBox},t.prototype.getDragElement=function(){return this._dragTarget},t.prototype.isMoveableElement=function(e){var n;return e&&(((n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"class"))||"").indexOf(Tf)>-1},t.prototype.dragStart=function(e,n){n===void 0&&(n=e.target);var a=this.targetGesto,s=this.controlGesto;return a&&Kf(this)({inputEvent:e},n)?a.isFlag()||a.triggerDragStart(e):s&&this.isMoveableElement(n)&&(s.isFlag()||s.triggerDragStart(e)),this},t.prototype.hitTest=function(e){var n=this.state,a=n.target,s=n.pos1,u=n.pos2,f=n.pos3,l=n.pos4,v=n.targetClientRect;if(!a)return 0;var d;if(xi(e)){var h=e.getBoundingClientRect();d={left:h.left,top:h.top,width:h.width,height:h.height}}else d=B({width:0,height:0},e);var p=d.left,m=d.top,_=d.width,x=d.height,y=Lv([s,u,l,f],v),S=Wb(y,[[p,m],[p+_,m],[p+_,m+x],[p,m+x]]),w=lp(y);return!S||!w?0:Math.min(100,S/w*100)},t.prototype.isInside=function(e,n){var a=this.state,s=a.target,u=a.pos1,f=a.pos2,l=a.pos3,v=a.pos4,d=a.targetClientRect;return s?qu([e,n],Lv([u,f,v,l],d)):!1},t.prototype.updateRect=function(e,n,a){a===void 0&&(a=!0);var s=this.props,u=!s.parentPosition&&!s.wrapperMoveable;u&&pi(!0);var f=s.parentMoveable,l=this.state,v=l.target||s.target,d=this.getContainer(),h=f?f._rootContainer:this._rootContainer,p=cf(this.controlBox,v,d,d,h||d,this._getRequestStyles());if(!v&&this._hasFirstTarget&&s.persistData){var m=hd(s.persistData);for(var _ in m)p[_]=m[_]}u&&pi(),this.updateState(p,f?!1:a)},t.prototype.isDragging=function(e){var n,a,s=this.targetGesto,u=this.controlGesto;if(s!=null&&s.isFlag()){if(!e)return!0;var f=s.getEventData();return!!(!((n=f[e])===null||n===void 0)&&n.isEventStart)}if(u!=null&&u.isFlag()){if(!e)return!0;var f=u.getEventData();return!!(!((a=f[e])===null||a===void 0)&&a.isEventStart)}return!1},t.prototype.updateTarget=function(e){this.updateRect(e,!0)},t.prototype.getRect=function(){var e=this.state,n=ve(this.state),a=F(n,4),s=a[0],u=a[1],f=a[2],l=a[3],v=le(n),d=e.width,h=e.height,p=v.width,m=v.height,_=v.left,x=v.top,y=[e.left,e.top],S=Yt(y,e.origin),w=Yt(y,e.beforeOrigin),C=e.transformOrigin;return{width:p,height:m,left:_,top:x,pos1:s,pos2:u,pos3:f,pos4:l,offsetWidth:d,offsetHeight:h,beforeOrigin:w,origin:S,transformOrigin:C,rotation:this.getRotation()}},t.prototype.getManager=function(){return this},t.prototype.stopDrag=function(e){if(!e||e==="target"){var n=this.targetGesto;(n==null?void 0:n.isIdle())===!1&&uf(this,!1),n==null||n.stop()}if(!e||e==="control"){var n=this.controlGesto;(n==null?void 0:n.isIdle())===!1&&uf(this,!0),n==null||n.stop()}},t.prototype.getRotation=function(){var e=this.state,n=e.pos1,a=e.pos2,s=e.direction;return VE(n,a,s)},t.prototype.request=function(e,n,a){n===void 0&&(n={});var s=this,u=s.props,f=u.parentMoveable||u.wrapperMoveable||s,l=f.props.ables,v=u.groupable,d=$r(l,function(S){return S.name===e});if(this.isDragging()||!d||!d.request)return{request:function(){return this},requestEnd:function(){return this}};var h=d.request(s),p=a||n.isInstant,m=h.isControl?"controlAbles":"targetAbles",_="".concat(v?"Group":"").concat(h.isControl?"Control":""),x=rt([],F(f[m]),!1),y={request:function(S){return ea(s,x,["drag"],_,"",B(B({},h.request(S)),{requestAble:e,isRequest:!0}),p),y},requestEnd:function(){return ea(s,x,["drag"],_,"End",B(B({},h.requestEnd()),{requestAble:e,isRequest:!0}),p),y}};return ea(s,x,["drag"],_,"Start",B(B({},h.requestStart(n)),{requestAble:e,isRequest:!0}),p),p?y.request(n).requestEnd():y},t.prototype.getMoveables=function(){return[this]},t.prototype.destroy=function(){this.componentWillUnmount()},t.prototype.updateRenderPoses=function(){var e=this.getState(),n=this.props,a=n.padding,s=e.originalBeforeOrigin,u=e.transformOrigin,f=e.allMatrix,l=e.is3d,v=e.pos1,d=e.pos2,h=e.pos3,p=e.pos4,m=e.left,_=e.top,x=e.isPersisted,y=n.zoom||1;if(!a&&y<=1){e.renderPoses=[v,d,h,p],e.renderLines=[[v,d],[d,p],[p,h],[h,v]];return}var S=ch(a||{}),w=S.left,C=S.top,M=S.bottom,R=S.right,O=l?4:3,T=[];x?T=u:this.controlBox&&n.groupable?T=s:T=Yt(s,[m,_]);var I=Ao(O,zn(T.map(function(Y){return-Y}),O),f,zn(u,O)),P=fe(I,v,[-w,-C],O),G=fe(I,d,[R,-C],O),H=fe(I,h,[-w,M],O),W=fe(I,p,[R,M],O);if(e.renderPoses=[P,G,H,W],e.renderLines=[[P,G],[G,W],[W,H],[H,P]],y){var L=y/2;e.renderLines=[[fe(I,v,[-w-L,-C],O),fe(I,d,[R+L,-C],O)],[fe(I,d,[R,-C-L],O),fe(I,p,[R,M+L],O)],[fe(I,p,[R+L,M],O),fe(I,h,[-w-L,M],O)],[fe(I,h,[-w,M+L],O),fe(I,v,[-w,-C-L],O)]]}},t.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var e=this.props,n=e.target,a=e.container,s=e.parentMoveable,u=this.state,f=u.target,l=u.container;if(!(!f&&!n)){this.updateAbles();var v=!ff(f,n),d=v||!ff(l,a);if(d){var h=a||this.controlBox;h&&this.unsetAbles(),this.updateState({target:n,container:a}),!s&&h&&this.updateRect("End",!1,!1),this._isPropTargetChanged=v}}},t.prototype.waitToChangeTarget=function(){return new Promise(function(){})},t.prototype.triggerEvent=function(e,n){var a=this.props;if(this._emitter.trigger(e,n),a.parentMoveable&&n.isRequest&&!n.isRequestChild)return a.parentMoveable.triggerEvent(e,n,!0);var s=a[e];return s&&s(n)},t.prototype.useCSS=function(e,n){var a=this.props.customStyledMap,s=e+n;return a[s]||(a[s]=dp(e,n)),a[s]},t.prototype.getState=function(){var e,n=this.props;(n.target||!((e=n.targets)===null||e===void 0)&&e.length)&&(this._hasFirstTarget=!0);var a=this.controlBox,s=n.persistData,u=n.firstRenderState;if(u&&!a)return u;if(!this._hasFirstTarget&&s){var f=hd(s);if(f)return this.updateState(f,!1),this.state}return this.state.isPersisted=!1,this.state},t.prototype.updateSelectors=function(){},t.prototype.unsetAbles=function(){var e=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(e)})},t.prototype.updateAbles=function(e,n){e===void 0&&(e=this.props.ables),n===void 0&&(n="");var a=this.props,s=a.triggerAblesSimultaneously,u=this.getEnabledAbles(e),f="drag".concat(n,"Start"),l="pinch".concat(n,"Start"),v="drag".concat(n,"ControlStart"),d=yo(u,[f,l],s),h=yo(u,[v],s);this.enabledAbles=u,this.targetAbles=d,this.controlAbles=h},t.prototype.updateState=function(e,n){if(n){if(this.isUnmounted)return;this.setState(e)}else{var a=this.state;for(var s in e)a[s]=e[s]}},t.prototype.getEnabledAbles=function(e){e===void 0&&(e=this.props.ables);var n=this.props;return e.filter(function(a){return a&&(a.always&&n[a.name]!==!1||n[a.name])})},t.prototype.renderAbles=function(){var e=this,n=this.props,a=n.triggerAblesSimultaneously,s={createElement:_e};return this.renderState={},HE(oh(yo(this.getEnabledAbles(),["render"],a).map(function(u){var f=u.render;return f(e,s)||[]})).filter(function(u){return u}),function(u){var f=u.key;return f}).map(function(u){return u[0]})},t.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},t.prototype._getRequestStyles=function(){var e=this.getEnabledAbles().reduce(function(n,a){var s,u,f=(u=(s=a.requestStyle)===null||s===void 0?void 0:s.call(a))!==null&&u!==void 0?u:[];return rt(rt([],F(n),!1),F(f),!1)},rt([],F(this.props.requestStyles||[]),!1));return e},t.prototype._updateObserver=function(e){this._updateResizeObserver(e),this._updateMutationObserver(e)},t.prototype._updateEvents=function(){var e=this.targetAbles.length,n=this.controlAbles.length,a=this._dragTarget,s=!e&&this.targetGesto||this._isTargetChanged(!0);s&&(ui(this,!1),this.updateState({gestos:{}})),n||ui(this,!0),a&&e&&!this.targetGesto&&(this.targetGesto=yh(this,a,"")),!this.controlGesto&&n&&(this.controlGesto=Sh(this,"Control"))},t.prototype._updateTargets=function(){var e=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=e.dragArea,this._propTarget=e.target,this._originalDragTarget=e.dragTarget||e.target,this._dragTarget=Oe(this._originalDragTarget,!0)},t.prototype._renderLines=function(){var e=this.props,n=e,a=n.zoom,s=n.hideDefaultLines,u=n.hideChildMoveableDefaultLines,f=n.parentMoveable;if(s||f&&u)return[];var l=this.getState(),v={createElement:_e};return l.renderLines.map(function(d,h){return oa(v,"",d[0],d[1],a,"render-line-".concat(h))})},t.prototype._isTargetChanged=function(e){var n=this.props,a=n.dragTarget||n.target,s=this._prevOriginalDragTarget,u=this._prevDragArea,f=n.dragArea,l=!f&&s!==a,v=(e||f)&&u!==f;return l||v||this._prevPropTarget!=this._propTarget},t.prototype._updateNativeEvents=function(){var e=this,n=this.props,a=n.dragArea?this.areaElement:this.state.target,s=this.events,u=Ue(s);if(this._isTargetChanged())for(var f in s){var l=s[f];l&&l.destroy(),s[f]=null}if(a){var v=this.enabledAbles;u.forEach(function(d){var h=yo(v,[d]),p=h.length>0,m=s[d];if(!p){m&&(m.destroy(),s[d]=null);return}m||(m=new yC(a,e,d),s[d]=m),m.setAbles(h)})}},t.prototype._checkUpdateRootContainer=function(){var e=this.props.rootContainer;!this._rootContainer&&e&&(this._rootContainer=Oe(e,!0))},t.prototype._checkUpdateViewContainer=function(){var e=this.props.viewContainer;!this._viewContainer&&e&&(this._viewContainer=Oe(e,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(rt(rt([],F(this._getAbleViewClassNames()),!1),[this.isDragging()?QE:""],!1))},t.prototype._changeAbleViewClassNames=function(e){var n=this._viewContainer,a=ah(e.filter(Boolean),function(v){return v}).map(function(v){var d=F(v,1),h=d[0];return h}),s=this._viewClassNames,u=ca(s,a),f=u.removed,l=u.added;f.forEach(function(v){kd(n,s[v])}),l.forEach(function(v){Ld(n,a[v])}),this._viewClassNames=a},t.prototype._getAbleViewClassNames=function(){var e=this;return(this.getEnabledAbles().map(function(n){var a;return((a=n.viewClassName)===null||a===void 0?void 0:a.call(n,e))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},t.prototype._getAbleClassName=function(e){var n=this;e===void 0&&(e="");var a=this.getEnabledAbles(),s=this.targetGesto,u=this.controlGesto,f=s!=null&&s.isFlag()?s.getEventData():{},l=u!=null&&u.isFlag()?u.getEventData():{};return a.map(function(v){var d,h,p,m=v.name,_=((d=v.className)===null||d===void 0?void 0:d.call(v,n))||"";return(!((h=f[m])===null||h===void 0)&&h.isEventStart||!((p=l[m])===null||p===void 0)&&p.isEventStart)&&(_+=" ".concat(_t("".concat(m).concat(e,"-dragging")))),_.trim()}).filter(Boolean).join(" ")},t.prototype._updateResizeObserver=function(e){var n,a=this.props,s=a.target,u=fn(this.getControlBoxElement());if(!u.ResizeObserver||!s||!a.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(e.target===s&&this._reiszeObserver)){var f=new u.ResizeObserver(this.checkUpdateRect);f.observe(s,{box:"border-box"}),this._reiszeObserver=f}},t.prototype._updateMutationObserver=function(e){var n=this,a,s=this.props,u=s.target,f=fn(this.getControlBoxElement());if(!f.MutationObserver||!u||!s.useMutationObserver){(a=this._mutationObserver)===null||a===void 0||a.disconnect();return}if(!(e.target===u&&this._mutationObserver)){var l=new f.MutationObserver(function(v){var d,h;try{for(var p=iw(v),m=p.next();!m.done;m=p.next()){var _=m.value;_.type==="attributes"&&_.attributeName==="style"&&n.checkUpdateRect()}}catch(x){d={error:x}}finally{try{m&&!m.done&&(h=p.return)&&h.call(p)}finally{if(d)throw d.error}}});l.observe(u,{attributes:!0}),this._mutationObserver=l}},t.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Kp,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},t}($d),Zf={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(r,t){var e,n=r.props,a=n.targets||[],s=r.getState(),u=s.left,f=s.top,l=s.isPersisted,v=n.zoom||1,d=r.renderGroupRects,h=((e=n.persistData)===null||e===void 0?void 0:e.children)||[];l?a=h.map(function(){return null}):h=[];var p=fi(r,"parentPosition",[u,f],function(_){return _.join(",")}),m=fi(r,"requestStyles",r.getRequestChildStyles(),function(_){return _.join(",")});return r.moveables=r.moveables.slice(0,a.length),rt(rt([],F(a.map(function(_,x){return t.createElement(mi,{key:"moveable"+x,ref:Td(r,"moveables",x),target:_,origin:!1,requestStyles:m,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:r,parentPosition:[u,f],persistData:h[x],zoom:v})})),!1),F(oh(d.map(function(_,x){var y=_.pos1,S=_.pos2,w=_.pos3,C=_.pos4,M=[y,S,w,C];return[[0,1],[1,3],[3,2],[2,0]].map(function(R,O){var T=F(R,2),I=T[0],P=T[1];return oa(t,"",xt(M[I],p),xt(M[P],p),v,"group-rect-".concat(x,"-").concat(O))})}))),!1)}},wC=ma("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(r,t){t.datas.inputTarget=t.inputEvent&&t.inputEvent.target},dragEnd:function(r,t){var e=r.props.target,n=t.inputEvent,a=t.inputTarget,s=r.isMoveableElement(a),u=!s&&r.controlBox.contains(a);if(!(!n||!a||t.isDrag||r.isMoveableElement(a)||u)){var f=e.contains(a);ct(r,"onClick",Ot(r,t,{isDouble:t.isDouble,inputTarget:a,isTarget:e===a,moveableTarget:r.props.target,containsTarget:f}))}},dragGroupEnd:function(r,t){var e=t.inputEvent,n=t.inputTarget;if(!(!e||!n||t.isDrag||r.isMoveableElement(n)||t.datas.inputTarget===n)){var a=r.props.targets,s=a.indexOf(n),u=s>-1,f=!1;s===-1&&(s=qe(a,function(l){return l.contains(n)}),f=s>-1),ct(r,"onClickGroup",Ot(r,t,{isDouble:t.isDouble,targets:a,inputTarget:n,targetIndex:s,isTarget:u,containsTarget:f,moveableTarget:a[s]}))}},dragControlEnd:function(r,t){this.dragEnd(r,t)},dragGroupControlEnd:function(r,t){this.dragEnd(r,t)}});function ni(r){var t=r.originalDatas.draggable;return t||(r.originalDatas.draggable={},t=r.originalDatas.draggable),B(B({},r),{datas:t})}var EC=ma("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(r,t){var e=r.props,n=e.edgeDraggable;return n?Rp(t,"edgeDraggable",n,r.getState().renderPoses,e.zoom):[]},dragCondition:function(r,t){var e,n=r.props,a=(e=t.inputEvent)===null||e===void 0?void 0:e.target;return!n.edgeDraggable||!a?!1:!n.draggable&&br(a,_t("direction"))&&br(a,_t("edge"))&&br(a,_t("edgeDraggable"))},dragStart:function(r,t){return Gr.dragStart(r,ni(t))},drag:function(r,t){return Gr.drag(r,ni(t))},dragEnd:function(r,t){return Gr.dragEnd(r,ni(t))},dragGroupCondition:function(r,t){var e,n=r.props,a=(e=t.inputEvent)===null||e===void 0?void 0:e.target;return!n.edgeDraggable||!a?!1:!n.draggable&&br(a,_t("direction"))&&br(a,_t("line"))},dragGroupStart:function(r,t){return Gr.dragGroupStart(r,ni(t))},dragGroup:function(r,t){return Gr.dragGroup(r,ni(t))},dragGroupEnd:function(r,t){return Gr.dragGroupEnd(r,ni(t))},unset:function(r){return Gr.unset(r)}}),wh={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},Jf=[_h,ph,RE,qE,Gr,EC,nf,UE,ZE,cE,rC,eC,jE,pC,dC,_C,Zf,wh,wC,dh,xh],CC=Jf.reduce(function(r,t){return(t.events||[]).forEach(function(e){Fd(r,e)}),r},[]),DC=Jf.reduce(function(r,t){return(t.props||[]).forEach(function(e){Fd(r,e)}),r},[]);function gd(r,t){var e=F(r,3),n=e[0],a=e[1],s=e[2];return(n*t[0]+a*t[1]+s)/Math.sqrt(n*n+a*a)}function wo(r,t){var e=F(r,2),n=e[0],a=e[1];return-n*t[0]-a*t[1]}function md(r,t){return Math.max.apply(Math,rt([],F(r.map(function(e){var n=F(e,4),a=n[0],s=n[1],u=n[2],f=n[3];return Math.max(a[t],s[t],u[t],f[t])})),!1))}function _d(r,t){return Math.min.apply(Math,rt([],F(r.map(function(e){var n=F(e,4),a=n[0],s=n[1],u=n[2],f=n[3];return Math.min(a[t],s[t],u[t],f[t])})),!1))}function MC(r,t){var e,n,a,s=[0,0],u=[0,0],f=[0,0],l=[0,0],v=0,d=0;if(!r.length)return{pos1:s,pos2:u,pos3:f,pos4:l,minX:0,minY:0,maxX:0,maxY:0,width:v,height:d,rotation:t};var h=Ct(t,Lr);if(h%90){var p=h/180*Math.PI,m=Math.tan(p),_=-1/m,x=[ju,Wv],y=[[0,0],[0,0]],S=[ju,Wv],w=[[0,0],[0,0]];r.forEach(function(lt){lt.forEach(function(ot){var ut=gd([-m,1,0],ot),it=gd([-_,1,0],ot);x[0]>ut&&(y[0]=ot,x[0]=ut),x[1]<ut&&(y[1]=ot,x[1]=ut),S[0]>it&&(w[0]=ot,S[0]=it),S[1]<it&&(w[1]=ot,S[1]=it)})});var C=F(y,2),M=C[0],R=C[1],O=F(w,2),T=O[0],I=O[1],P=[-m,1,wo([-m,1],M)],G=[-m,1,wo([-m,1],R)],H=[-_,1,wo([-_,1],T)],W=[-_,1,wo([-_,1],I)];e=F([[P,H],[P,W],[G,H],[G,W]].map(function(lt){var ot=F(lt,2),ut=ot[0],it=ot[1];return Of(ut,it)[0]}),4),s=e[0],u=e[1],f=e[2],l=e[3],v=S[1]-S[0],d=x[1]-x[0]}else{var L=_d(r,0),Y=_d(r,1),X=md(r,0),j=md(r,1);if(s=[L,Y],u=[X,Y],f=[L,j],l=[X,j],v=X-L,d=j-Y,h%180){var tt=[f,s,l,u];n=F(tt,4),s=n[0],u=n[1],f=n[2],l=n[3],v=j-Y,d=X-L}}if(h%360>180){var tt=[l,f,u,s];a=F(tt,4),s=a[0],u=a[1],f=a[2],l=a[3]}var U=Fn([s,u,f,l]),nt=U.minX,et=U.minY,$=U.maxX,st=U.maxY;return{pos1:s,pos2:u,pos3:f,pos4:l,width:v,height:d,minX:nt,minY:et,maxX:$,maxY:st,rotation:t}}function Eh(r,t){var e=t.map(function(n){if(_r(n)){var a=Eh(r,n),s=a.length;return s>1?a:s===1?a[0]:null}else{var u=$r(r,function(f){var l=f.manager;return l.props.target===n});return u?(u.finded=!0,u.manager):null}}).filter(Boolean);return e.length===1&&_r(e[0])?e[0]:e}var OC=function(r){ga(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.differ=new fp,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}return t.prototype.componentDidMount=function(){r.prototype.componentDidMount.call(this)},t.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},t.prototype.getTargets=function(){return this.props.targets},t.prototype.updateRect=function(e,n,a){var s;a===void 0&&(a=!0);var u=this.state;if(!this.controlBox||u.isPersisted)return;pi(!0),this.moveables.forEach(function(ht){ht.updateRect(e,!1,!1)});var f=this.props,l=this.moveables,v=u.target||f.target,d=l.map(function(ht){return{finded:!1,manager:ht}}),h=this.props.targetGroups||[],p=Eh(d,h),m=f.useDefaultGroupRotate;p.push.apply(p,rt([],F(d.filter(function(ht){var Et=ht.finded;return!Et}).map(function(ht){var Et=ht.manager;return Et})),!1));var _=[],x=!n||e!==""&&f.updateGroup,y=f.defaultGroupRotate||0;if(!this._hasFirstTargets){var S=(s=f.persistData)===null||s===void 0?void 0:s.rotation;S!=null&&(y=S)}function w(ht,Et,Ft){var at=ht.map(function(Vt){if(_r(Vt)){var Rt=w(Vt,Et),Lt=[Rt.pos1,Rt.pos2,Rt.pos3,Rt.pos4];return _.push(Rt),{poses:Lt,rotation:Rt.rotation}}else return{poses:ve(Vt.state),rotation:Vt.getRotation()}}),pt=at.map(function(Vt){var Rt=Vt.rotation;return Rt}),Ht=0,mt=pt[0],wt=pt.every(function(Vt){return Math.abs(mt-Vt)<.1});x?Ht=!m&&wt?mt:y:Ht=!m&&!Ft&&wt?mt:Et;var At=at.map(function(Vt){var Rt=Vt.poses;return Rt}),Gt=MC(At,Ht);return Gt}var C=w(p,this.rotation,!0);x&&(this.rotation=C.rotation,this.transformOrigin=f.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=h,this.renderGroupRects=_;var M=this.transformOrigin,R=this.rotation,O=this.scale,T=C.width,I=C.height,P=C.minX,G=C.minY,H=$E([[0,0],[T,0],[0,I],[T,I]],$f(M,T,I),this.rotation/180*Math.PI),W=Fn(H.result),L=W.minX,Y=W.minY,X=" rotate(".concat(R,"deg)")+" scale(".concat(zr(O[0]),", ").concat(zr(O[1]),")"),j="translate(".concat(-L,"px, ").concat(-Y,"px)").concat(X);this.controlBox.style.transform="translate3d(".concat(P,"px, ").concat(G,"px, ").concat(this.props.translateZ||0,")"),v.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(M,";")+"width:".concat(T,"px;height:").concat(I,"px;")+"transform: ".concat(j),u.width=T,u.height=I;var tt=this.getContainer(),U=cf(this.controlBox,v,this.controlBox,this.getContainer(),this._rootContainer||tt,[]),nt=[U.left,U.top],et=F(ve(U),4),$=et[0],st=et[1],lt=et[2],ot=et[3],ut=Fn([$,st,lt,ot]),it=[ut.minX,ut.minY],vt=zr(O[0]*O[1]);U.pos1=xt($,it),U.pos2=xt(st,it),U.pos3=xt(lt,it),U.pos4=xt(ot,it),U.left=P-U.left+it[0],U.top=G-U.top+it[1],U.origin=xt(Yt(nt,U.origin),it),U.beforeOrigin=xt(Yt(nt,U.beforeOrigin),it),U.originalBeforeOrigin=Yt(nt,U.originalBeforeOrigin),U.transformOrigin=xt(Yt(nt,U.transformOrigin),it),v.style.transform="translate(".concat(-L-it[0],"px, ").concat(-Y-it[1],"px)")+X,pi(),this.updateState(B(B({},U),{posDelta:it,direction:vt,beforeDirection:vt}),a)},t.prototype.getRect=function(){return B(B({},r.prototype.getRect.call(this)),{children:this.moveables.map(function(e){return e.getRect()})})},t.prototype.triggerEvent=function(e,n,a){if(a||e.indexOf("Group")>-1)return r.prototype.triggerEvent.call(this,e,n);this._emitter.trigger(e,n)},t.prototype.getRequestChildStyles=function(){var e=this.getEnabledAbles().reduce(function(n,a){var s,u,f=(u=(s=a.requestChildStyle)===null||s===void 0?void 0:s.call(a))!==null&&u!==void 0?u:[];return rt(rt([],F(n),!1),F(f),!1)},[]);return e},t.prototype.getMoveables=function(){return rt([],F(this.moveables),!1)},t.prototype.updateAbles=function(){r.prototype.updateAbles.call(this,rt(rt([],F(this.props.ables),!1),[Zf],!1),"Group")},t.prototype._updateTargets=function(){r.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=Oe(this._originalDragTarget,!0)},t.prototype._updateEvents=function(){var e=this.state,n=this.props,a=this._prevDragTarget,s=n.dragTarget||this.areaElement,u=n.targets,f=this.differ.update(u),l=f.added,v=f.changed,d=f.removed,h=l.length||d.length;(h||this._prevOriginalDragTarget!==this._originalDragTarget)&&(ui(this,!1),ui(this,!0),this.updateState({gestos:{}})),a!==s&&(e.target=null),e.target||(e.target=this.areaElement,this.controlBox.style.display="block"),e.target&&(this.targetGesto||(this.targetGesto=yh(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=Sh(this,"GroupControl")));var p=!ff(e.container,n.container);p&&(e.container=n.container),(p||h||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||v.length||u.length&&!lh(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!h},t.prototype._updateObserver=function(){},t.defaultProps=B(B({},mi.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),t}(mi),RC=function(r){ga(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.moveables=[],e}return t.prototype.render=function(){var e=this,n,a=this.props,s=a.cspNonce,u=a.cssStyled,f=a.persistData,l=a.targets||[],v=l.length,d=this.isUnmounted||!v,h=(n=f==null?void 0:f.children)!==null&&n!==void 0?n:[];return d&&!v&&h.length?l=h.map(function(){return null}):d||(h=[]),_e(u,{cspNonce:s,ref:Xe(this,"controlBox"),className:_t("control-box")},l.map(function(p,m){var _,x,y=(x=(_=a.individualGroupableProps)===null||_===void 0?void 0:_.call(a,p,m))!==null&&x!==void 0?x:{};return _e(mi,B({key:"moveable"+m,ref:Td(e,"moveables",m)},a,y,{target:p,wrapperMoveable:e,isWrapperMounted:e.isMoveableMounted,persistData:h[m]}))}))},t.prototype.componentDidMount=function(){},t.prototype.componentDidUpdate=function(){},t.prototype.getTargets=function(){return this.props.targets},t.prototype.updateRect=function(e,n,a){a===void 0&&(a=!0),pi(!0),this.moveables.forEach(function(s){s.updateRect(e,n,a)}),pi()},t.prototype.getRect=function(){return B(B({},r.prototype.getRect.call(this)),{children:this.moveables.map(function(e){return e.getRect()})})},t.prototype.request=function(e,n,a){n===void 0&&(n={});var s=this.moveables.map(function(l){return l.request(e,B(B({},n),{isInstant:!1}),!1)}),u=a||n.isInstant,f={request:function(l){return s.forEach(function(v){return v.request(l)}),this},requestEnd:function(){return s.forEach(function(l){return l.requestEnd()}),this}};return u?f.request(n).requestEnd():f},t.prototype.dragStart=function(e,n){n===void 0&&(n=e.target);var a=n,s=$r(this.moveables,function(u){var f=u.getTargets()[0],l=u.getControlBoxElement(),v=u.getDragElement();return!f||!v?!1:v===a||v.contains(a)||v!==f&&f===a||f.contains(a)||l===a||l.contains(a)});return s&&s.dragStart(e,n),this},t.prototype.hitTest=function(){return 0},t.prototype.isInside=function(){return!1},t.prototype.isDragging=function(){return!1},t.prototype.getDragElement=function(){return null},t.prototype.getMoveables=function(){return rt([],F(this.moveables),!1)},t.prototype.updateRenderPoses=function(){},t.prototype.checkUpdate=function(){},t.prototype.triggerEvent=function(){},t.prototype.updateAbles=function(){},t.prototype._updateEvents=function(){},t.prototype._updateObserver=function(){},t}(mi);function Ch(r,t){var e=[];return r.forEach(function(n){if(n){if(Vr(n)){t[n]&&e.push.apply(e,rt([],F(t[n]),!1));return}_r(n)?e.push.apply(e,rt([],F(Ch(n,t)),!1)):e.push(n)}}),e}function Dh(r,t){var e=[];return r.forEach(function(n){if(n){if(Vr(n)){t[n]&&e.push.apply(e,rt([],F(t[n]),!1));return}_r(n)?e.push(Dh(n,t)):e.push(n)}}),e}function Mh(r,t){return r.length!==t.length||r.some(function(e,n){var a=t[n];return!e&&!a?!1:e!=a?_r(e)&&_r(a)?Mh(e,a):!0:!1})}var TC=function(r){ga(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e._differ=new fp,e._elementTargets=[],e._tmpRefTargets=[],e._tmpSelectorMap={},e._onChangeTargets=null,e}return t.makeStyled=function(){var e={},n=this.getTotalAbles();n.forEach(function(s){var u=s.css;u&&u.forEach(function(f){e[f]=!0})});var a=Ue(e).join(`
`);this.defaultStyled=dp("div",ES(Tf,hw+a))},t.getTotalAbles=function(){return rt([ph,Zf,wh,dh],F(this.defaultAbles),!1)},t.prototype.render=function(){var e,n=this.constructor;n.defaultStyled||n.makeStyled();var a=this.props,s=a.ables,u=a.props,f=ew(a,["ables","props"]),l=F(this._updateRefs(!0),2),v=l[0],d=l[1],h=Ch(v,d),p=h.length>1,m=n.getTotalAbles(),_=rt(rt([],F(m),!1),F(s||[]),!1),x=B(B(B({},f),u||{}),{ables:_,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=h;var y=null,S=this.moveable,w=f.persistData;if(w!=null&&w.children&&(p=!0),f.individualGroupable)return _e(RC,B({key:"individual-group",ref:Xe(this,"moveable")},x,{target:null,targets:h}));if(p){var C=Dh(v,d);if(S&&!S.props.groupable&&!S.props.individualGroupable){var M=S.props.target;M&&h.indexOf(M)>-1&&(y=B({},S.state))}return _e(OC,B({key:"group",ref:Xe(this,"moveable")},x,(e=f.groupableProps)!==null&&e!==void 0?e:{},{target:null,targets:h,targetGroups:C,firstRenderState:y}))}else{var R=h[0];if(S&&(S.props.groupable||S.props.individualGroupable)){var O=S.moveables||[],T=$r(O,function(I){return I.props.target===R});T&&(y=B({},T.state))}return _e(mi,B({key:"single",ref:Xe(this,"moveable")},x,{target:R,firstRenderState:y}))}},t.prototype.componentDidMount=function(){this._checkChangeTargets()},t.prototype.componentDidUpdate=function(){this._checkChangeTargets()},t.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},t.prototype.getTargets=function(){var e,n;return(n=(e=this.moveable)===null||e===void 0?void 0:e.getTargets())!==null&&n!==void 0?n:[]},t.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},t.prototype.waitToChangeTarget=function(){var e=this,n;return this._onChangeTargets=function(){e._onChangeTargets=null,n()},new Promise(function(a){n=a})},t.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},t.prototype.getManager=function(){return this.moveable},t.prototype.getMoveables=function(){return this.moveable.getMoveables()},t.prototype.getDragElement=function(){return this.moveable.getDragElement()},t.prototype._updateRefs=function(e){var n=this.refTargets,a=Vf(this.props.target||this.props.targets),s=typeof document<"u",u=Mh(n,a),f=this.selectorMap,l={};return this.refTargets.forEach(function v(d){if(Vr(d)){var h=f[d];h?l[d]=f[d]:s&&(u=!0,l[d]=[].slice.call(document.querySelectorAll(d)))}else _r(d)&&d.forEach(v)}),this._tmpRefTargets=a,this._tmpSelectorMap=l,[a,l,!e&&u]},t.prototype._checkChangeTargets=function(){var e,n,a;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var s=this._differ.update(this._elementTargets),u=s.added,f=s.removed,l=u.length||f.length;l&&((n=(e=this.props).onChangeTargets)===null||n===void 0||n.call(e,{moveable:this.moveable,targets:this._elementTargets}),(a=this._onChangeTargets)===null||a===void 0||a.call(this));var v=F(this._updateRefs(),3),d=v[0],h=v[1],p=v[2];this.refTargets=d,this.selectorMap=h,p&&this.forceUpdate()},t.defaultAbles=[],t.customStyledMap={},t.defaultStyled=null,nw([CS(xp)],t.prototype,"moveable",void 0),t}($d),IC=function(r){ga(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.defaultAbles=Jf,t}(TC),vf=function(r,t){return vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},vf(r,t)};function Qf(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ua=function(){return ua=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ua.apply(this,arguments)};function AC(r,t,e,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(s=(a<3?u(s):a>3?u(t,e,s):u(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s}var PC=function(r){Qf(t,r);function t(n){var a=r.call(this,n)||this;return a.state={},a.state=a.props,a}var e=t.prototype;return e.render=function(){return _e(IC,ua({ref:Xe(this,"moveable")},this.state))},t}(bf),Ho=DC,Oh=xp,Rh=CC,BC=function(r){Qf(t,r);function t(n,a){a===void 0&&(a={});var s=r.call(this)||this;s.containerProvider=null,s.selfElement=null,s._warp=!1;var u=ua({},a),f={};Rh.forEach(function(d){f[GS("on ".concat(d))]=function(h){return s.trigger(d,h)}});var l;a.warpSelf?(delete a.warpSelf,s._warp=!0,l=n):(l=_i(n).createElement("div"),n.appendChild(l)),s.containerProvider=Gv(_e(PC,ua({ref:Xe(s,"innerMoveable")},u,f)),l),s.selfElement=l;var v=u.target;return _r(v)&&v.length>1&&s.updateRect(),s}var e=t.prototype;return e.setState=function(n,a){this.innerMoveable.setState(n,a)},e.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},e.dragStart=function(n,a){a===void 0&&(a=n.target);var s=this.innerMoveable;s.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n,a)},e.destroy=function(){var n,a=this.selfElement;Gv(null,a,this.containerProvider),this._warp||(n=a==null?void 0:a.parentElement)===null||n===void 0||n.removeChild(a),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.moveable},t=AC([Dv(Oh,function(n,a){n[a]||(n[a]=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var f=this.getMoveable();if(!(!f||!f[a]))return f[a].apply(f,s)})}),Dv(Ho,function(n,a){Object.defineProperty(n,a,{get:function(){return this.getMoveable().props[a]},set:function(s){var u;this.setState((u={},u[a]=s,u))},enumerable:!0,configurable:!0})})],t),t}(qo),GC=function(r){Qf(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(BC);const Th={};Oh.forEach(r=>{Th[r]=function(...t){return this.$_moveable[r](...t)}});const Ih={};Ho.forEach(r=>{Ih[r]=function(t){this.$_moveable[r]=t}});const zC=dn({name:"moveable",methods:Th,props:Ho,watch:Ih,mounted(){const r={},t=this.$props;Ho.forEach(s=>{const u=t[s];fa(u)||(r[s]=t[s])});const n=this.$refs.moveableElement,a=new GC(n,{...r,warpSelf:!0});Rh.forEach(s=>{a.on(s,u=>{this.$emit(s,{...u})})}),this.$_moveable=a},beforeUnmount(){this.$_moveable.destroy()}}),FC=zC,LC=(r,t)=>{const e=r.__vccOpts||r;for(const[n,a]of t)e[n]=a;return e},kC={ref:"moveableElement"};function NC(r,t,e,n,a,s){return Wt(),jt("div",kC,null,512)}const Yo=LC(FC,[["render",NC]]);var $i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},WC={},ns={},Xo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Xo.exports;(function(r,t){(function(){var e,n="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",v=500,d="__lodash_placeholder__",h=1,p=2,m=4,_=1,x=2,y=1,S=2,w=4,C=8,M=16,R=32,O=64,T=128,I=256,P=512,G=30,H="...",W=800,L=16,Y=1,X=2,j=3,tt=1/0,U=9007199254740991,nt=17976931348623157e292,et=0/0,$=4294967295,st=$-1,lt=$>>>1,ot=[["ary",T],["bind",y],["bindKey",S],["curry",C],["curryRight",M],["flip",P],["partial",R],["partialRight",O],["rearg",I]],ut="[object Arguments]",it="[object Array]",vt="[object AsyncFunction]",ht="[object Boolean]",Et="[object Date]",Ft="[object DOMException]",at="[object Error]",pt="[object Function]",Ht="[object GeneratorFunction]",mt="[object Map]",wt="[object Number]",At="[object Null]",Gt="[object Object]",Vt="[object Promise]",Rt="[object Proxy]",Lt="[object RegExp]",$t="[object Set]",lr="[object String]",cr="[object Symbol]",sr="[object Undefined]",rr="[object WeakMap]",be="[object WeakSet]",kr="[object ArrayBuffer]",Ie="[object DataView]",Wn="[object Float32Array]",wi="[object Float64Array]",Ke="[object Int8Array]",hn="[object Int16Array]",Ei="[object Int32Array]",Hn="[object Uint8Array]",gn="[object Uint8ClampedArray]",Ci="[object Uint16Array]",Di="[object Uint32Array]",ss=/\b__p \+= '';/g,Mi=/\b(__p \+=) '' \+/g,Kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Er=/&(?:amp|lt|gt|quot|#39);/g,Oi=/[&<>"']/g,Sa=RegExp(Er.source),us=RegExp(Oi.source),Ri=/<%-([\s\S]+?)%>/g,Ah=/<%([\s\S]+?)%>/g,jf=/<%=([\s\S]+?)%>/g,Ph=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bh=/^\w*$/,Gh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fs=/[\\^$.*+?()[\]{}|]/g,zh=RegExp(fs.source),ls=/^\s+/,Fh=/\s/,Lh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kh=/\{\n\/\* \[wrapped with (.+)\] \*/,Nh=/,? & /,Wh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hh=/[()=,{}\[\]\/\s]/,Yh=/\\(\\)?/g,Xh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tl=/\w*$/,Vh=/^[-+]0x[0-9a-f]+$/i,$h=/^0b[01]+$/i,qh=/^\[object .+?Constructor\]$/,Uh=/^0o[0-7]+$/i,Kh=/^(?:0|[1-9]\d*)$/,Zh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ba=/($^)/,Jh=/['\n\r\u2028\u2029\\]/g,wa="\\ud800-\\udfff",Qh="\\u0300-\\u036f",jh="\\ufe20-\\ufe2f",tg="\\u20d0-\\u20ff",rl=Qh+jh+tg,el="\\u2700-\\u27bf",nl="a-z\\xdf-\\xf6\\xf8-\\xff",rg="\\xac\\xb1\\xd7\\xf7",eg="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ng="\\u2000-\\u206f",ig=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",il="A-Z\\xc0-\\xd6\\xd8-\\xde",al="\\ufe0e\\ufe0f",ol=rg+eg+ng+ig,cs="[']",ag="["+wa+"]",sl="["+ol+"]",Ea="["+rl+"]",ul="\\d+",og="["+el+"]",fl="["+nl+"]",ll="[^"+wa+ol+ul+el+nl+il+"]",vs="\\ud83c[\\udffb-\\udfff]",sg="(?:"+Ea+"|"+vs+")",cl="[^"+wa+"]",ds="(?:\\ud83c[\\udde6-\\uddff]){2}",ps="[\\ud800-\\udbff][\\udc00-\\udfff]",Yn="["+il+"]",vl="\\u200d",dl="(?:"+fl+"|"+ll+")",ug="(?:"+Yn+"|"+ll+")",pl="(?:"+cs+"(?:d|ll|m|re|s|t|ve))?",hl="(?:"+cs+"(?:D|LL|M|RE|S|T|VE))?",gl=sg+"?",ml="["+al+"]?",fg="(?:"+vl+"(?:"+[cl,ds,ps].join("|")+")"+ml+gl+")*",lg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",cg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_l=ml+gl+fg,vg="(?:"+[og,ds,ps].join("|")+")"+_l,dg="(?:"+[cl+Ea+"?",Ea,ds,ps,ag].join("|")+")",pg=RegExp(cs,"g"),hg=RegExp(Ea,"g"),hs=RegExp(vs+"(?="+vs+")|"+dg+_l,"g"),gg=RegExp([Yn+"?"+fl+"+"+pl+"(?="+[sl,Yn,"$"].join("|")+")",ug+"+"+hl+"(?="+[sl,Yn+dl,"$"].join("|")+")",Yn+"?"+dl+"+"+pl,Yn+"+"+hl,cg,lg,ul,vg].join("|"),"g"),mg=RegExp("["+vl+wa+rl+al+"]"),_g=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yg=-1,er={};er[Wn]=er[wi]=er[Ke]=er[hn]=er[Ei]=er[Hn]=er[gn]=er[Ci]=er[Di]=!0,er[ut]=er[it]=er[kr]=er[ht]=er[Ie]=er[Et]=er[at]=er[pt]=er[mt]=er[wt]=er[Gt]=er[Lt]=er[$t]=er[lr]=er[rr]=!1;var tr={};tr[ut]=tr[it]=tr[kr]=tr[Ie]=tr[ht]=tr[Et]=tr[Wn]=tr[wi]=tr[Ke]=tr[hn]=tr[Ei]=tr[mt]=tr[wt]=tr[Gt]=tr[Lt]=tr[$t]=tr[lr]=tr[cr]=tr[Hn]=tr[gn]=tr[Ci]=tr[Di]=!0,tr[at]=tr[pt]=tr[rr]=!1;var Sg={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},bg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Eg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cg=parseFloat,Dg=parseInt,xl=typeof $i=="object"&&$i&&$i.Object===Object&&$i,Mg=typeof self=="object"&&self&&self.Object===Object&&self,Dr=xl||Mg||Function("return this")(),gs=t&&!t.nodeType&&t,mn=gs&&!0&&r&&!r.nodeType&&r,yl=mn&&mn.exports===gs,ms=yl&&xl.process,re=function(){try{var k=mn&&mn.require&&mn.require("util").types;return k||ms&&ms.binding&&ms.binding("util")}catch{}}(),Sl=re&&re.isArrayBuffer,bl=re&&re.isDate,wl=re&&re.isMap,El=re&&re.isRegExp,Cl=re&&re.isSet,Dl=re&&re.isTypedArray;function Ur(k,q,V){switch(V.length){case 0:return k.call(q);case 1:return k.call(q,V[0]);case 2:return k.call(q,V[0],V[1]);case 3:return k.call(q,V[0],V[1],V[2])}return k.apply(q,V)}function Og(k,q,V,dt){for(var Dt=-1,Xt=k==null?0:k.length;++Dt<Xt;){var xr=k[Dt];q(dt,xr,V(xr),k)}return dt}function ee(k,q){for(var V=-1,dt=k==null?0:k.length;++V<dt&&q(k[V],V,k)!==!1;);return k}function Rg(k,q){for(var V=k==null?0:k.length;V--&&q(k[V],V,k)!==!1;);return k}function Ml(k,q){for(var V=-1,dt=k==null?0:k.length;++V<dt;)if(!q(k[V],V,k))return!1;return!0}function Ze(k,q){for(var V=-1,dt=k==null?0:k.length,Dt=0,Xt=[];++V<dt;){var xr=k[V];q(xr,V,k)&&(Xt[Dt++]=xr)}return Xt}function Ca(k,q){var V=k==null?0:k.length;return!!V&&Xn(k,q,0)>-1}function _s(k,q,V){for(var dt=-1,Dt=k==null?0:k.length;++dt<Dt;)if(V(q,k[dt]))return!0;return!1}function ir(k,q){for(var V=-1,dt=k==null?0:k.length,Dt=Array(dt);++V<dt;)Dt[V]=q(k[V],V,k);return Dt}function Je(k,q){for(var V=-1,dt=q.length,Dt=k.length;++V<dt;)k[Dt+V]=q[V];return k}function xs(k,q,V,dt){var Dt=-1,Xt=k==null?0:k.length;for(dt&&Xt&&(V=k[++Dt]);++Dt<Xt;)V=q(V,k[Dt],Dt,k);return V}function Tg(k,q,V,dt){var Dt=k==null?0:k.length;for(dt&&Dt&&(V=k[--Dt]);Dt--;)V=q(V,k[Dt],Dt,k);return V}function ys(k,q){for(var V=-1,dt=k==null?0:k.length;++V<dt;)if(q(k[V],V,k))return!0;return!1}var Ig=Ss("length");function Ag(k){return k.split("")}function Pg(k){return k.match(Wh)||[]}function Ol(k,q,V){var dt;return V(k,function(Dt,Xt,xr){if(q(Dt,Xt,xr))return dt=Xt,!1}),dt}function Da(k,q,V,dt){for(var Dt=k.length,Xt=V+(dt?1:-1);dt?Xt--:++Xt<Dt;)if(q(k[Xt],Xt,k))return Xt;return-1}function Xn(k,q,V){return q===q?Vg(k,q,V):Da(k,Rl,V)}function Bg(k,q,V,dt){for(var Dt=V-1,Xt=k.length;++Dt<Xt;)if(dt(k[Dt],q))return Dt;return-1}function Rl(k){return k!==k}function Tl(k,q){var V=k==null?0:k.length;return V?ws(k,q)/V:et}function Ss(k){return function(q){return q==null?e:q[k]}}function bs(k){return function(q){return k==null?e:k[q]}}function Il(k,q,V,dt,Dt){return Dt(k,function(Xt,xr,Qt){V=dt?(dt=!1,Xt):q(V,Xt,xr,Qt)}),V}function Gg(k,q){var V=k.length;for(k.sort(q);V--;)k[V]=k[V].value;return k}function ws(k,q){for(var V,dt=-1,Dt=k.length;++dt<Dt;){var Xt=q(k[dt]);Xt!==e&&(V=V===e?Xt:V+Xt)}return V}function Es(k,q){for(var V=-1,dt=Array(k);++V<k;)dt[V]=q(V);return dt}function zg(k,q){return ir(q,function(V){return[V,k[V]]})}function Al(k){return k&&k.slice(0,zl(k)+1).replace(ls,"")}function Kr(k){return function(q){return k(q)}}function Cs(k,q){return ir(q,function(V){return k[V]})}function Ti(k,q){return k.has(q)}function Pl(k,q){for(var V=-1,dt=k.length;++V<dt&&Xn(q,k[V],0)>-1;);return V}function Bl(k,q){for(var V=k.length;V--&&Xn(q,k[V],0)>-1;);return V}function Fg(k,q){for(var V=k.length,dt=0;V--;)k[V]===q&&++dt;return dt}var Lg=bs(Sg),kg=bs(bg);function Ng(k){return"\\"+Eg[k]}function Wg(k,q){return k==null?e:k[q]}function Vn(k){return mg.test(k)}function Hg(k){return _g.test(k)}function Yg(k){for(var q,V=[];!(q=k.next()).done;)V.push(q.value);return V}function Ds(k){var q=-1,V=Array(k.size);return k.forEach(function(dt,Dt){V[++q]=[Dt,dt]}),V}function Gl(k,q){return function(V){return k(q(V))}}function Qe(k,q){for(var V=-1,dt=k.length,Dt=0,Xt=[];++V<dt;){var xr=k[V];(xr===q||xr===d)&&(k[V]=d,Xt[Dt++]=V)}return Xt}function Ma(k){var q=-1,V=Array(k.size);return k.forEach(function(dt){V[++q]=dt}),V}function Xg(k){var q=-1,V=Array(k.size);return k.forEach(function(dt){V[++q]=[dt,dt]}),V}function Vg(k,q,V){for(var dt=V-1,Dt=k.length;++dt<Dt;)if(k[dt]===q)return dt;return-1}function $g(k,q,V){for(var dt=V+1;dt--;)if(k[dt]===q)return dt;return dt}function $n(k){return Vn(k)?Ug(k):Ig(k)}function de(k){return Vn(k)?Kg(k):Ag(k)}function zl(k){for(var q=k.length;q--&&Fh.test(k.charAt(q)););return q}var qg=bs(wg);function Ug(k){for(var q=hs.lastIndex=0;hs.test(k);)++q;return q}function Kg(k){return k.match(hs)||[]}function Zg(k){return k.match(gg)||[]}var Jg=function k(q){q=q==null?Dr:qn.defaults(Dr.Object(),q,qn.pick(Dr,xg));var V=q.Array,dt=q.Date,Dt=q.Error,Xt=q.Function,xr=q.Math,Qt=q.Object,Ms=q.RegExp,Qg=q.String,ne=q.TypeError,Oa=V.prototype,jg=Xt.prototype,Un=Qt.prototype,Ra=q["__core-js_shared__"],Ta=jg.toString,Ut=Un.hasOwnProperty,t0=0,Fl=function(){var i=/[^.]+$/.exec(Ra&&Ra.keys&&Ra.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Ia=Un.toString,r0=Ta.call(Qt),e0=Dr._,n0=Ms("^"+Ta.call(Ut).replace(fs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Aa=yl?q.Buffer:e,je=q.Symbol,Pa=q.Uint8Array,Ll=Aa?Aa.allocUnsafe:e,Ba=Gl(Qt.getPrototypeOf,Qt),kl=Qt.create,Nl=Un.propertyIsEnumerable,Ga=Oa.splice,Wl=je?je.isConcatSpreadable:e,Ii=je?je.iterator:e,_n=je?je.toStringTag:e,za=function(){try{var i=wn(Qt,"defineProperty");return i({},"",{}),i}catch{}}(),i0=q.clearTimeout!==Dr.clearTimeout&&q.clearTimeout,a0=dt&&dt.now!==Dr.Date.now&&dt.now,o0=q.setTimeout!==Dr.setTimeout&&q.setTimeout,Fa=xr.ceil,La=xr.floor,Os=Qt.getOwnPropertySymbols,s0=Aa?Aa.isBuffer:e,Hl=q.isFinite,u0=Oa.join,f0=Gl(Qt.keys,Qt),yr=xr.max,Rr=xr.min,l0=dt.now,c0=q.parseInt,Yl=xr.random,v0=Oa.reverse,Rs=wn(q,"DataView"),Ai=wn(q,"Map"),Ts=wn(q,"Promise"),Kn=wn(q,"Set"),Pi=wn(q,"WeakMap"),Bi=wn(Qt,"create"),ka=Pi&&new Pi,Zn={},d0=En(Rs),p0=En(Ai),h0=En(Ts),g0=En(Kn),m0=En(Pi),Na=je?je.prototype:e,Gi=Na?Na.valueOf:e,Xl=Na?Na.toString:e;function E(i){if(ur(i)&&!Mt(i)&&!(i instanceof kt)){if(i instanceof ie)return i;if(Ut.call(i,"__wrapped__"))return Vc(i)}return new ie(i)}var Jn=function(){function i(){}return function(o){if(!ar(o))return{};if(kl)return kl(o);i.prototype=o;var c=new i;return i.prototype=e,c}}();function Wa(){}function ie(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=e}E.templateSettings={escape:Ri,evaluate:Ah,interpolate:jf,variable:"",imports:{_:E}},E.prototype=Wa.prototype,E.prototype.constructor=E,ie.prototype=Jn(Wa.prototype),ie.prototype.constructor=ie;function kt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function _0(){var i=new kt(this.__wrapped__);return i.__actions__=Nr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Nr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Nr(this.__views__),i}function x0(){if(this.__filtered__){var i=new kt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function y0(){var i=this.__wrapped__.value(),o=this.__dir__,c=Mt(i),g=o<0,b=c?i.length:0,D=A1(0,b,this.__views__),A=D.start,z=D.end,N=z-A,K=g?z:A-1,Z=this.__iteratees__,Q=Z.length,ft=0,gt=Rr(N,this.__takeCount__);if(!c||!g&&b==N&&gt==N)return pc(i,this.__actions__);var St=[];t:for(;N--&&ft<gt;){K+=o;for(var Pt=-1,bt=i[K];++Pt<Q;){var zt=Z[Pt],Nt=zt.iteratee,Qr=zt.type,Br=Nt(bt);if(Qr==X)bt=Br;else if(!Br){if(Qr==Y)continue t;break t}}St[ft++]=bt}return St}kt.prototype=Jn(Wa.prototype),kt.prototype.constructor=kt;function xn(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var g=i[o];this.set(g[0],g[1])}}function S0(){this.__data__=Bi?Bi(null):{},this.size=0}function b0(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function w0(i){var o=this.__data__;if(Bi){var c=o[i];return c===l?e:c}return Ut.call(o,i)?o[i]:e}function E0(i){var o=this.__data__;return Bi?o[i]!==e:Ut.call(o,i)}function C0(i,o){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=Bi&&o===e?l:o,this}xn.prototype.clear=S0,xn.prototype.delete=b0,xn.prototype.get=w0,xn.prototype.has=E0,xn.prototype.set=C0;function Ae(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var g=i[o];this.set(g[0],g[1])}}function D0(){this.__data__=[],this.size=0}function M0(i){var o=this.__data__,c=Ha(o,i);if(c<0)return!1;var g=o.length-1;return c==g?o.pop():Ga.call(o,c,1),--this.size,!0}function O0(i){var o=this.__data__,c=Ha(o,i);return c<0?e:o[c][1]}function R0(i){return Ha(this.__data__,i)>-1}function T0(i,o){var c=this.__data__,g=Ha(c,i);return g<0?(++this.size,c.push([i,o])):c[g][1]=o,this}Ae.prototype.clear=D0,Ae.prototype.delete=M0,Ae.prototype.get=O0,Ae.prototype.has=R0,Ae.prototype.set=T0;function Pe(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var g=i[o];this.set(g[0],g[1])}}function I0(){this.size=0,this.__data__={hash:new xn,map:new(Ai||Ae),string:new xn}}function A0(i){var o=to(this,i).delete(i);return this.size-=o?1:0,o}function P0(i){return to(this,i).get(i)}function B0(i){return to(this,i).has(i)}function G0(i,o){var c=to(this,i),g=c.size;return c.set(i,o),this.size+=c.size==g?0:1,this}Pe.prototype.clear=I0,Pe.prototype.delete=A0,Pe.prototype.get=P0,Pe.prototype.has=B0,Pe.prototype.set=G0;function yn(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new Pe;++o<c;)this.add(i[o])}function z0(i){return this.__data__.set(i,l),this}function F0(i){return this.__data__.has(i)}yn.prototype.add=yn.prototype.push=z0,yn.prototype.has=F0;function pe(i){var o=this.__data__=new Ae(i);this.size=o.size}function L0(){this.__data__=new Ae,this.size=0}function k0(i){var o=this.__data__,c=o.delete(i);return this.size=o.size,c}function N0(i){return this.__data__.get(i)}function W0(i){return this.__data__.has(i)}function H0(i,o){var c=this.__data__;if(c instanceof Ae){var g=c.__data__;if(!Ai||g.length<a-1)return g.push([i,o]),this.size=++c.size,this;c=this.__data__=new Pe(g)}return c.set(i,o),this.size=c.size,this}pe.prototype.clear=L0,pe.prototype.delete=k0,pe.prototype.get=N0,pe.prototype.has=W0,pe.prototype.set=H0;function Vl(i,o){var c=Mt(i),g=!c&&Cn(i),b=!c&&!g&&an(i),D=!c&&!g&&!b&&ri(i),A=c||g||b||D,z=A?Es(i.length,Qg):[],N=z.length;for(var K in i)(o||Ut.call(i,K))&&!(A&&(K=="length"||b&&(K=="offset"||K=="parent")||D&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||Fe(K,N)))&&z.push(K);return z}function $l(i){var o=i.length;return o?i[Ws(0,o-1)]:e}function Y0(i,o){return ro(Nr(i),Sn(o,0,i.length))}function X0(i){return ro(Nr(i))}function Is(i,o,c){(c!==e&&!he(i[o],c)||c===e&&!(o in i))&&Be(i,o,c)}function zi(i,o,c){var g=i[o];(!(Ut.call(i,o)&&he(g,c))||c===e&&!(o in i))&&Be(i,o,c)}function Ha(i,o){for(var c=i.length;c--;)if(he(i[c][0],o))return c;return-1}function V0(i,o,c,g){return tn(i,function(b,D,A){o(g,b,c(b),A)}),g}function ql(i,o){return i&&Ee(o,Cr(o),i)}function $0(i,o){return i&&Ee(o,Hr(o),i)}function Be(i,o,c){o=="__proto__"&&za?za(i,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[o]=c}function As(i,o){for(var c=-1,g=o.length,b=V(g),D=i==null;++c<g;)b[c]=D?e:vu(i,o[c]);return b}function Sn(i,o,c){return i===i&&(c!==e&&(i=i<=c?i:c),o!==e&&(i=i>=o?i:o)),i}function ae(i,o,c,g,b,D){var A,z=o&h,N=o&p,K=o&m;if(c&&(A=b?c(i,g,b,D):c(i)),A!==e)return A;if(!ar(i))return i;var Z=Mt(i);if(Z){if(A=B1(i),!z)return Nr(i,A)}else{var Q=Tr(i),ft=Q==pt||Q==Ht;if(an(i))return mc(i,z);if(Q==Gt||Q==ut||ft&&!b){if(A=N||ft?{}:zc(i),!z)return N?w1(i,$0(A,i)):b1(i,ql(A,i))}else{if(!tr[Q])return b?i:{};A=G1(i,Q,z)}}D||(D=new pe);var gt=D.get(i);if(gt)return gt;D.set(i,A),cv(i)?i.forEach(function(bt){A.add(ae(bt,o,c,bt,i,D))}):fv(i)&&i.forEach(function(bt,zt){A.set(zt,ae(bt,o,c,zt,i,D))});var St=K?N?Qs:Js:N?Hr:Cr,Pt=Z?e:St(i);return ee(Pt||i,function(bt,zt){Pt&&(zt=bt,bt=i[zt]),zi(A,zt,ae(bt,o,c,zt,i,D))}),A}function q0(i){var o=Cr(i);return function(c){return Ul(c,i,o)}}function Ul(i,o,c){var g=c.length;if(i==null)return!g;for(i=Qt(i);g--;){var b=c[g],D=o[b],A=i[b];if(A===e&&!(b in i)||!D(A))return!1}return!0}function Kl(i,o,c){if(typeof i!="function")throw new ne(u);return Yi(function(){i.apply(e,c)},o)}function Fi(i,o,c,g){var b=-1,D=Ca,A=!0,z=i.length,N=[],K=o.length;if(!z)return N;c&&(o=ir(o,Kr(c))),g?(D=_s,A=!1):o.length>=a&&(D=Ti,A=!1,o=new yn(o));t:for(;++b<z;){var Z=i[b],Q=c==null?Z:c(Z);if(Z=g||Z!==0?Z:0,A&&Q===Q){for(var ft=K;ft--;)if(o[ft]===Q)continue t;N.push(Z)}else D(o,Q,g)||N.push(Z)}return N}var tn=bc(we),Zl=bc(Bs,!0);function U0(i,o){var c=!0;return tn(i,function(g,b,D){return c=!!o(g,b,D),c}),c}function Ya(i,o,c){for(var g=-1,b=i.length;++g<b;){var D=i[g],A=o(D);if(A!=null&&(z===e?A===A&&!Jr(A):c(A,z)))var z=A,N=D}return N}function K0(i,o,c,g){var b=i.length;for(c=Tt(c),c<0&&(c=-c>b?0:b+c),g=g===e||g>b?b:Tt(g),g<0&&(g+=b),g=c>g?0:dv(g);c<g;)i[c++]=o;return i}function Jl(i,o){var c=[];return tn(i,function(g,b,D){o(g,b,D)&&c.push(g)}),c}function Mr(i,o,c,g,b){var D=-1,A=i.length;for(c||(c=F1),b||(b=[]);++D<A;){var z=i[D];o>0&&c(z)?o>1?Mr(z,o-1,c,g,b):Je(b,z):g||(b[b.length]=z)}return b}var Ps=wc(),Ql=wc(!0);function we(i,o){return i&&Ps(i,o,Cr)}function Bs(i,o){return i&&Ql(i,o,Cr)}function Xa(i,o){return Ze(o,function(c){return Le(i[c])})}function bn(i,o){o=en(o,i);for(var c=0,g=o.length;i!=null&&c<g;)i=i[Ce(o[c++])];return c&&c==g?i:e}function jl(i,o,c){var g=o(i);return Mt(i)?g:Je(g,c(i))}function Ar(i){return i==null?i===e?sr:At:_n&&_n in Qt(i)?I1(i):X1(i)}function Gs(i,o){return i>o}function Z0(i,o){return i!=null&&Ut.call(i,o)}function J0(i,o){return i!=null&&o in Qt(i)}function Q0(i,o,c){return i>=Rr(o,c)&&i<yr(o,c)}function zs(i,o,c){for(var g=c?_s:Ca,b=i[0].length,D=i.length,A=D,z=V(D),N=1/0,K=[];A--;){var Z=i[A];A&&o&&(Z=ir(Z,Kr(o))),N=Rr(Z.length,N),z[A]=!c&&(o||b>=120&&Z.length>=120)?new yn(A&&Z):e}Z=i[0];var Q=-1,ft=z[0];t:for(;++Q<b&&K.length<N;){var gt=Z[Q],St=o?o(gt):gt;if(gt=c||gt!==0?gt:0,!(ft?Ti(ft,St):g(K,St,c))){for(A=D;--A;){var Pt=z[A];if(!(Pt?Ti(Pt,St):g(i[A],St,c)))continue t}ft&&ft.push(St),K.push(gt)}}return K}function j0(i,o,c,g){return we(i,function(b,D,A){o(g,c(b),D,A)}),g}function Li(i,o,c){o=en(o,i),i=Nc(i,o);var g=i==null?i:i[Ce(se(o))];return g==null?e:Ur(g,i,c)}function tc(i){return ur(i)&&Ar(i)==ut}function t1(i){return ur(i)&&Ar(i)==kr}function r1(i){return ur(i)&&Ar(i)==Et}function ki(i,o,c,g,b){return i===o?!0:i==null||o==null||!ur(i)&&!ur(o)?i!==i&&o!==o:e1(i,o,c,g,ki,b)}function e1(i,o,c,g,b,D){var A=Mt(i),z=Mt(o),N=A?it:Tr(i),K=z?it:Tr(o);N=N==ut?Gt:N,K=K==ut?Gt:K;var Z=N==Gt,Q=K==Gt,ft=N==K;if(ft&&an(i)){if(!an(o))return!1;A=!0,Z=!1}if(ft&&!Z)return D||(D=new pe),A||ri(i)?Pc(i,o,c,g,b,D):R1(i,o,N,c,g,b,D);if(!(c&_)){var gt=Z&&Ut.call(i,"__wrapped__"),St=Q&&Ut.call(o,"__wrapped__");if(gt||St){var Pt=gt?i.value():i,bt=St?o.value():o;return D||(D=new pe),b(Pt,bt,c,g,D)}}return ft?(D||(D=new pe),T1(i,o,c,g,b,D)):!1}function n1(i){return ur(i)&&Tr(i)==mt}function Fs(i,o,c,g){var b=c.length,D=b,A=!g;if(i==null)return!D;for(i=Qt(i);b--;){var z=c[b];if(A&&z[2]?z[1]!==i[z[0]]:!(z[0]in i))return!1}for(;++b<D;){z=c[b];var N=z[0],K=i[N],Z=z[1];if(A&&z[2]){if(K===e&&!(N in i))return!1}else{var Q=new pe;if(g)var ft=g(K,Z,N,i,o,Q);if(!(ft===e?ki(Z,K,_|x,g,Q):ft))return!1}}return!0}function rc(i){if(!ar(i)||k1(i))return!1;var o=Le(i)?n0:qh;return o.test(En(i))}function i1(i){return ur(i)&&Ar(i)==Lt}function a1(i){return ur(i)&&Tr(i)==$t}function o1(i){return ur(i)&&so(i.length)&&!!er[Ar(i)]}function ec(i){return typeof i=="function"?i:i==null?Yr:typeof i=="object"?Mt(i)?ac(i[0],i[1]):ic(i):Ev(i)}function Ls(i){if(!Hi(i))return f0(i);var o=[];for(var c in Qt(i))Ut.call(i,c)&&c!="constructor"&&o.push(c);return o}function s1(i){if(!ar(i))return Y1(i);var o=Hi(i),c=[];for(var g in i)g=="constructor"&&(o||!Ut.call(i,g))||c.push(g);return c}function ks(i,o){return i<o}function nc(i,o){var c=-1,g=Wr(i)?V(i.length):[];return tn(i,function(b,D,A){g[++c]=o(b,D,A)}),g}function ic(i){var o=tu(i);return o.length==1&&o[0][2]?Lc(o[0][0],o[0][1]):function(c){return c===i||Fs(c,i,o)}}function ac(i,o){return eu(i)&&Fc(o)?Lc(Ce(i),o):function(c){var g=vu(c,i);return g===e&&g===o?du(c,i):ki(o,g,_|x)}}function Va(i,o,c,g,b){i!==o&&Ps(o,function(D,A){if(b||(b=new pe),ar(D))u1(i,o,A,c,Va,g,b);else{var z=g?g(iu(i,A),D,A+"",i,o,b):e;z===e&&(z=D),Is(i,A,z)}},Hr)}function u1(i,o,c,g,b,D,A){var z=iu(i,c),N=iu(o,c),K=A.get(N);if(K){Is(i,c,K);return}var Z=D?D(z,N,c+"",i,o,A):e,Q=Z===e;if(Q){var ft=Mt(N),gt=!ft&&an(N),St=!ft&&!gt&&ri(N);Z=N,ft||gt||St?Mt(z)?Z=z:vr(z)?Z=Nr(z):gt?(Q=!1,Z=mc(N,!0)):St?(Q=!1,Z=_c(N,!0)):Z=[]:Xi(N)||Cn(N)?(Z=z,Cn(z)?Z=pv(z):(!ar(z)||Le(z))&&(Z=zc(N))):Q=!1}Q&&(A.set(N,Z),b(Z,N,g,D,A),A.delete(N)),Is(i,c,Z)}function oc(i,o){var c=i.length;if(c)return o+=o<0?c:0,Fe(o,c)?i[o]:e}function sc(i,o,c){o.length?o=ir(o,function(D){return Mt(D)?function(A){return bn(A,D.length===1?D[0]:D)}:D}):o=[Yr];var g=-1;o=ir(o,Kr(yt()));var b=nc(i,function(D,A,z){var N=ir(o,function(K){return K(D)});return{criteria:N,index:++g,value:D}});return Gg(b,function(D,A){return S1(D,A,c)})}function f1(i,o){return uc(i,o,function(c,g){return du(i,g)})}function uc(i,o,c){for(var g=-1,b=o.length,D={};++g<b;){var A=o[g],z=bn(i,A);c(z,A)&&Ni(D,en(A,i),z)}return D}function l1(i){return function(o){return bn(o,i)}}function Ns(i,o,c,g){var b=g?Bg:Xn,D=-1,A=o.length,z=i;for(i===o&&(o=Nr(o)),c&&(z=ir(i,Kr(c)));++D<A;)for(var N=0,K=o[D],Z=c?c(K):K;(N=b(z,Z,N,g))>-1;)z!==i&&Ga.call(z,N,1),Ga.call(i,N,1);return i}function fc(i,o){for(var c=i?o.length:0,g=c-1;c--;){var b=o[c];if(c==g||b!==D){var D=b;Fe(b)?Ga.call(i,b,1):Xs(i,b)}}return i}function Ws(i,o){return i+La(Yl()*(o-i+1))}function c1(i,o,c,g){for(var b=-1,D=yr(Fa((o-i)/(c||1)),0),A=V(D);D--;)A[g?D:++b]=i,i+=c;return A}function Hs(i,o){var c="";if(!i||o<1||o>U)return c;do o%2&&(c+=i),o=La(o/2),o&&(i+=i);while(o);return c}function Bt(i,o){return au(kc(i,o,Yr),i+"")}function v1(i){return $l(ei(i))}function d1(i,o){var c=ei(i);return ro(c,Sn(o,0,c.length))}function Ni(i,o,c,g){if(!ar(i))return i;o=en(o,i);for(var b=-1,D=o.length,A=D-1,z=i;z!=null&&++b<D;){var N=Ce(o[b]),K=c;if(N==="__proto__"||N==="constructor"||N==="prototype")return i;if(b!=A){var Z=z[N];K=g?g(Z,N,z):e,K===e&&(K=ar(Z)?Z:Fe(o[b+1])?[]:{})}zi(z,N,K),z=z[N]}return i}var lc=ka?function(i,o){return ka.set(i,o),i}:Yr,p1=za?function(i,o){return za(i,"toString",{configurable:!0,enumerable:!1,value:hu(o),writable:!0})}:Yr;function h1(i){return ro(ei(i))}function oe(i,o,c){var g=-1,b=i.length;o<0&&(o=-o>b?0:b+o),c=c>b?b:c,c<0&&(c+=b),b=o>c?0:c-o>>>0,o>>>=0;for(var D=V(b);++g<b;)D[g]=i[g+o];return D}function g1(i,o){var c;return tn(i,function(g,b,D){return c=o(g,b,D),!c}),!!c}function $a(i,o,c){var g=0,b=i==null?g:i.length;if(typeof o=="number"&&o===o&&b<=lt){for(;g<b;){var D=g+b>>>1,A=i[D];A!==null&&!Jr(A)&&(c?A<=o:A<o)?g=D+1:b=D}return b}return Ys(i,o,Yr,c)}function Ys(i,o,c,g){var b=0,D=i==null?0:i.length;if(D===0)return 0;o=c(o);for(var A=o!==o,z=o===null,N=Jr(o),K=o===e;b<D;){var Z=La((b+D)/2),Q=c(i[Z]),ft=Q!==e,gt=Q===null,St=Q===Q,Pt=Jr(Q);if(A)var bt=g||St;else K?bt=St&&(g||ft):z?bt=St&&ft&&(g||!gt):N?bt=St&&ft&&!gt&&(g||!Pt):gt||Pt?bt=!1:bt=g?Q<=o:Q<o;bt?b=Z+1:D=Z}return Rr(D,st)}function cc(i,o){for(var c=-1,g=i.length,b=0,D=[];++c<g;){var A=i[c],z=o?o(A):A;if(!c||!he(z,N)){var N=z;D[b++]=A===0?0:A}}return D}function vc(i){return typeof i=="number"?i:Jr(i)?et:+i}function Zr(i){if(typeof i=="string")return i;if(Mt(i))return ir(i,Zr)+"";if(Jr(i))return Xl?Xl.call(i):"";var o=i+"";return o=="0"&&1/i==-tt?"-0":o}function rn(i,o,c){var g=-1,b=Ca,D=i.length,A=!0,z=[],N=z;if(c)A=!1,b=_s;else if(D>=a){var K=o?null:M1(i);if(K)return Ma(K);A=!1,b=Ti,N=new yn}else N=o?[]:z;t:for(;++g<D;){var Z=i[g],Q=o?o(Z):Z;if(Z=c||Z!==0?Z:0,A&&Q===Q){for(var ft=N.length;ft--;)if(N[ft]===Q)continue t;o&&N.push(Q),z.push(Z)}else b(N,Q,c)||(N!==z&&N.push(Q),z.push(Z))}return z}function Xs(i,o){return o=en(o,i),i=Nc(i,o),i==null||delete i[Ce(se(o))]}function dc(i,o,c,g){return Ni(i,o,c(bn(i,o)),g)}function qa(i,o,c,g){for(var b=i.length,D=g?b:-1;(g?D--:++D<b)&&o(i[D],D,i););return c?oe(i,g?0:D,g?D+1:b):oe(i,g?D+1:0,g?b:D)}function pc(i,o){var c=i;return c instanceof kt&&(c=c.value()),xs(o,function(g,b){return b.func.apply(b.thisArg,Je([g],b.args))},c)}function Vs(i,o,c){var g=i.length;if(g<2)return g?rn(i[0]):[];for(var b=-1,D=V(g);++b<g;)for(var A=i[b],z=-1;++z<g;)z!=b&&(D[b]=Fi(D[b]||A,i[z],o,c));return rn(Mr(D,1),o,c)}function hc(i,o,c){for(var g=-1,b=i.length,D=o.length,A={};++g<b;){var z=g<D?o[g]:e;c(A,i[g],z)}return A}function $s(i){return vr(i)?i:[]}function qs(i){return typeof i=="function"?i:Yr}function en(i,o){return Mt(i)?i:eu(i,o)?[i]:Xc(qt(i))}var m1=Bt;function nn(i,o,c){var g=i.length;return c=c===e?g:c,!o&&c>=g?i:oe(i,o,c)}var gc=i0||function(i){return Dr.clearTimeout(i)};function mc(i,o){if(o)return i.slice();var c=i.length,g=Ll?Ll(c):new i.constructor(c);return i.copy(g),g}function Us(i){var o=new i.constructor(i.byteLength);return new Pa(o).set(new Pa(i)),o}function _1(i,o){var c=o?Us(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function x1(i){var o=new i.constructor(i.source,tl.exec(i));return o.lastIndex=i.lastIndex,o}function y1(i){return Gi?Qt(Gi.call(i)):{}}function _c(i,o){var c=o?Us(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function xc(i,o){if(i!==o){var c=i!==e,g=i===null,b=i===i,D=Jr(i),A=o!==e,z=o===null,N=o===o,K=Jr(o);if(!z&&!K&&!D&&i>o||D&&A&&N&&!z&&!K||g&&A&&N||!c&&N||!b)return 1;if(!g&&!D&&!K&&i<o||K&&c&&b&&!g&&!D||z&&c&&b||!A&&b||!N)return-1}return 0}function S1(i,o,c){for(var g=-1,b=i.criteria,D=o.criteria,A=b.length,z=c.length;++g<A;){var N=xc(b[g],D[g]);if(N){if(g>=z)return N;var K=c[g];return N*(K=="desc"?-1:1)}}return i.index-o.index}function yc(i,o,c,g){for(var b=-1,D=i.length,A=c.length,z=-1,N=o.length,K=yr(D-A,0),Z=V(N+K),Q=!g;++z<N;)Z[z]=o[z];for(;++b<A;)(Q||b<D)&&(Z[c[b]]=i[b]);for(;K--;)Z[z++]=i[b++];return Z}function Sc(i,o,c,g){for(var b=-1,D=i.length,A=-1,z=c.length,N=-1,K=o.length,Z=yr(D-z,0),Q=V(Z+K),ft=!g;++b<Z;)Q[b]=i[b];for(var gt=b;++N<K;)Q[gt+N]=o[N];for(;++A<z;)(ft||b<D)&&(Q[gt+c[A]]=i[b++]);return Q}function Nr(i,o){var c=-1,g=i.length;for(o||(o=V(g));++c<g;)o[c]=i[c];return o}function Ee(i,o,c,g){var b=!c;c||(c={});for(var D=-1,A=o.length;++D<A;){var z=o[D],N=g?g(c[z],i[z],z,c,i):e;N===e&&(N=i[z]),b?Be(c,z,N):zi(c,z,N)}return c}function b1(i,o){return Ee(i,ru(i),o)}function w1(i,o){return Ee(i,Bc(i),o)}function Ua(i,o){return function(c,g){var b=Mt(c)?Og:V0,D=o?o():{};return b(c,i,yt(g,2),D)}}function Qn(i){return Bt(function(o,c){var g=-1,b=c.length,D=b>1?c[b-1]:e,A=b>2?c[2]:e;for(D=i.length>3&&typeof D=="function"?(b--,D):e,A&&Pr(c[0],c[1],A)&&(D=b<3?e:D,b=1),o=Qt(o);++g<b;){var z=c[g];z&&i(o,z,g,D)}return o})}function bc(i,o){return function(c,g){if(c==null)return c;if(!Wr(c))return i(c,g);for(var b=c.length,D=o?b:-1,A=Qt(c);(o?D--:++D<b)&&g(A[D],D,A)!==!1;);return c}}function wc(i){return function(o,c,g){for(var b=-1,D=Qt(o),A=g(o),z=A.length;z--;){var N=A[i?z:++b];if(c(D[N],N,D)===!1)break}return o}}function E1(i,o,c){var g=o&y,b=Wi(i);function D(){var A=this&&this!==Dr&&this instanceof D?b:i;return A.apply(g?c:this,arguments)}return D}function Ec(i){return function(o){o=qt(o);var c=Vn(o)?de(o):e,g=c?c[0]:o.charAt(0),b=c?nn(c,1).join(""):o.slice(1);return g[i]()+b}}function jn(i){return function(o){return xs(bv(Sv(o).replace(pg,"")),i,"")}}function Wi(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Jn(i.prototype),g=i.apply(c,o);return ar(g)?g:c}}function C1(i,o,c){var g=Wi(i);function b(){for(var D=arguments.length,A=V(D),z=D,N=ti(b);z--;)A[z]=arguments[z];var K=D<3&&A[0]!==N&&A[D-1]!==N?[]:Qe(A,N);if(D-=K.length,D<c)return Rc(i,o,Ka,b.placeholder,e,A,K,e,e,c-D);var Z=this&&this!==Dr&&this instanceof b?g:i;return Ur(Z,this,A)}return b}function Cc(i){return function(o,c,g){var b=Qt(o);if(!Wr(o)){var D=yt(c,3);o=Cr(o),c=function(z){return D(b[z],z,b)}}var A=i(o,c,g);return A>-1?b[D?o[A]:A]:e}}function Dc(i){return ze(function(o){var c=o.length,g=c,b=ie.prototype.thru;for(i&&o.reverse();g--;){var D=o[g];if(typeof D!="function")throw new ne(u);if(b&&!A&&ja(D)=="wrapper")var A=new ie([],!0)}for(g=A?g:c;++g<c;){D=o[g];var z=ja(D),N=z=="wrapper"?js(D):e;N&&nu(N[0])&&N[1]==(T|C|R|I)&&!N[4].length&&N[9]==1?A=A[ja(N[0])].apply(A,N[3]):A=D.length==1&&nu(D)?A[z]():A.thru(D)}return function(){var K=arguments,Z=K[0];if(A&&K.length==1&&Mt(Z))return A.plant(Z).value();for(var Q=0,ft=c?o[Q].apply(this,K):Z;++Q<c;)ft=o[Q].call(this,ft);return ft}})}function Ka(i,o,c,g,b,D,A,z,N,K){var Z=o&T,Q=o&y,ft=o&S,gt=o&(C|M),St=o&P,Pt=ft?e:Wi(i);function bt(){for(var zt=arguments.length,Nt=V(zt),Qr=zt;Qr--;)Nt[Qr]=arguments[Qr];if(gt)var Br=ti(bt),jr=Fg(Nt,Br);if(g&&(Nt=yc(Nt,g,b,gt)),D&&(Nt=Sc(Nt,D,A,gt)),zt-=jr,gt&&zt<K){var dr=Qe(Nt,Br);return Rc(i,o,Ka,bt.placeholder,c,Nt,dr,z,N,K-zt)}var ge=Q?c:this,Ne=ft?ge[i]:i;return zt=Nt.length,z?Nt=V1(Nt,z):St&&zt>1&&Nt.reverse(),Z&&N<zt&&(Nt.length=N),this&&this!==Dr&&this instanceof bt&&(Ne=Pt||Wi(Ne)),Ne.apply(ge,Nt)}return bt}function Mc(i,o){return function(c,g){return j0(c,i,o(g),{})}}function Za(i,o){return function(c,g){var b;if(c===e&&g===e)return o;if(c!==e&&(b=c),g!==e){if(b===e)return g;typeof c=="string"||typeof g=="string"?(c=Zr(c),g=Zr(g)):(c=vc(c),g=vc(g)),b=i(c,g)}return b}}function Ks(i){return ze(function(o){return o=ir(o,Kr(yt())),Bt(function(c){var g=this;return i(o,function(b){return Ur(b,g,c)})})})}function Ja(i,o){o=o===e?" ":Zr(o);var c=o.length;if(c<2)return c?Hs(o,i):o;var g=Hs(o,Fa(i/$n(o)));return Vn(o)?nn(de(g),0,i).join(""):g.slice(0,i)}function D1(i,o,c,g){var b=o&y,D=Wi(i);function A(){for(var z=-1,N=arguments.length,K=-1,Z=g.length,Q=V(Z+N),ft=this&&this!==Dr&&this instanceof A?D:i;++K<Z;)Q[K]=g[K];for(;N--;)Q[K++]=arguments[++z];return Ur(ft,b?c:this,Q)}return A}function Oc(i){return function(o,c,g){return g&&typeof g!="number"&&Pr(o,c,g)&&(c=g=e),o=ke(o),c===e?(c=o,o=0):c=ke(c),g=g===e?o<c?1:-1:ke(g),c1(o,c,g,i)}}function Qa(i){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=ue(o),c=ue(c)),i(o,c)}}function Rc(i,o,c,g,b,D,A,z,N,K){var Z=o&C,Q=Z?A:e,ft=Z?e:A,gt=Z?D:e,St=Z?e:D;o|=Z?R:O,o&=~(Z?O:R),o&w||(o&=~(y|S));var Pt=[i,o,b,gt,Q,St,ft,z,N,K],bt=c.apply(e,Pt);return nu(i)&&Wc(bt,Pt),bt.placeholder=g,Hc(bt,i,o)}function Zs(i){var o=xr[i];return function(c,g){if(c=ue(c),g=g==null?0:Rr(Tt(g),292),g&&Hl(c)){var b=(qt(c)+"e").split("e"),D=o(b[0]+"e"+(+b[1]+g));return b=(qt(D)+"e").split("e"),+(b[0]+"e"+(+b[1]-g))}return o(c)}}var M1=Kn&&1/Ma(new Kn([,-0]))[1]==tt?function(i){return new Kn(i)}:_u;function Tc(i){return function(o){var c=Tr(o);return c==mt?Ds(o):c==$t?Xg(o):zg(o,i(o))}}function Ge(i,o,c,g,b,D,A,z){var N=o&S;if(!N&&typeof i!="function")throw new ne(u);var K=g?g.length:0;if(K||(o&=~(R|O),g=b=e),A=A===e?A:yr(Tt(A),0),z=z===e?z:Tt(z),K-=b?b.length:0,o&O){var Z=g,Q=b;g=b=e}var ft=N?e:js(i),gt=[i,o,c,g,b,Z,Q,D,A,z];if(ft&&H1(gt,ft),i=gt[0],o=gt[1],c=gt[2],g=gt[3],b=gt[4],z=gt[9]=gt[9]===e?N?0:i.length:yr(gt[9]-K,0),!z&&o&(C|M)&&(o&=~(C|M)),!o||o==y)var St=E1(i,o,c);else o==C||o==M?St=C1(i,o,z):(o==R||o==(y|R))&&!b.length?St=D1(i,o,c,g):St=Ka.apply(e,gt);var Pt=ft?lc:Wc;return Hc(Pt(St,gt),i,o)}function Ic(i,o,c,g){return i===e||he(i,Un[c])&&!Ut.call(g,c)?o:i}function Ac(i,o,c,g,b,D){return ar(i)&&ar(o)&&(D.set(o,i),Va(i,o,e,Ac,D),D.delete(o)),i}function O1(i){return Xi(i)?e:i}function Pc(i,o,c,g,b,D){var A=c&_,z=i.length,N=o.length;if(z!=N&&!(A&&N>z))return!1;var K=D.get(i),Z=D.get(o);if(K&&Z)return K==o&&Z==i;var Q=-1,ft=!0,gt=c&x?new yn:e;for(D.set(i,o),D.set(o,i);++Q<z;){var St=i[Q],Pt=o[Q];if(g)var bt=A?g(Pt,St,Q,o,i,D):g(St,Pt,Q,i,o,D);if(bt!==e){if(bt)continue;ft=!1;break}if(gt){if(!ys(o,function(zt,Nt){if(!Ti(gt,Nt)&&(St===zt||b(St,zt,c,g,D)))return gt.push(Nt)})){ft=!1;break}}else if(!(St===Pt||b(St,Pt,c,g,D))){ft=!1;break}}return D.delete(i),D.delete(o),ft}function R1(i,o,c,g,b,D,A){switch(c){case Ie:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case kr:return!(i.byteLength!=o.byteLength||!D(new Pa(i),new Pa(o)));case ht:case Et:case wt:return he(+i,+o);case at:return i.name==o.name&&i.message==o.message;case Lt:case lr:return i==o+"";case mt:var z=Ds;case $t:var N=g&_;if(z||(z=Ma),i.size!=o.size&&!N)return!1;var K=A.get(i);if(K)return K==o;g|=x,A.set(i,o);var Z=Pc(z(i),z(o),g,b,D,A);return A.delete(i),Z;case cr:if(Gi)return Gi.call(i)==Gi.call(o)}return!1}function T1(i,o,c,g,b,D){var A=c&_,z=Js(i),N=z.length,K=Js(o),Z=K.length;if(N!=Z&&!A)return!1;for(var Q=N;Q--;){var ft=z[Q];if(!(A?ft in o:Ut.call(o,ft)))return!1}var gt=D.get(i),St=D.get(o);if(gt&&St)return gt==o&&St==i;var Pt=!0;D.set(i,o),D.set(o,i);for(var bt=A;++Q<N;){ft=z[Q];var zt=i[ft],Nt=o[ft];if(g)var Qr=A?g(Nt,zt,ft,o,i,D):g(zt,Nt,ft,i,o,D);if(!(Qr===e?zt===Nt||b(zt,Nt,c,g,D):Qr)){Pt=!1;break}bt||(bt=ft=="constructor")}if(Pt&&!bt){var Br=i.constructor,jr=o.constructor;Br!=jr&&"constructor"in i&&"constructor"in o&&!(typeof Br=="function"&&Br instanceof Br&&typeof jr=="function"&&jr instanceof jr)&&(Pt=!1)}return D.delete(i),D.delete(o),Pt}function ze(i){return au(kc(i,e,Uc),i+"")}function Js(i){return jl(i,Cr,ru)}function Qs(i){return jl(i,Hr,Bc)}var js=ka?function(i){return ka.get(i)}:_u;function ja(i){for(var o=i.name+"",c=Zn[o],g=Ut.call(Zn,o)?c.length:0;g--;){var b=c[g],D=b.func;if(D==null||D==i)return b.name}return o}function ti(i){var o=Ut.call(E,"placeholder")?E:i;return o.placeholder}function yt(){var i=E.iteratee||gu;return i=i===gu?ec:i,arguments.length?i(arguments[0],arguments[1]):i}function to(i,o){var c=i.__data__;return L1(o)?c[typeof o=="string"?"string":"hash"]:c.map}function tu(i){for(var o=Cr(i),c=o.length;c--;){var g=o[c],b=i[g];o[c]=[g,b,Fc(b)]}return o}function wn(i,o){var c=Wg(i,o);return rc(c)?c:e}function I1(i){var o=Ut.call(i,_n),c=i[_n];try{i[_n]=e;var g=!0}catch{}var b=Ia.call(i);return g&&(o?i[_n]=c:delete i[_n]),b}var ru=Os?function(i){return i==null?[]:(i=Qt(i),Ze(Os(i),function(o){return Nl.call(i,o)}))}:xu,Bc=Os?function(i){for(var o=[];i;)Je(o,ru(i)),i=Ba(i);return o}:xu,Tr=Ar;(Rs&&Tr(new Rs(new ArrayBuffer(1)))!=Ie||Ai&&Tr(new Ai)!=mt||Ts&&Tr(Ts.resolve())!=Vt||Kn&&Tr(new Kn)!=$t||Pi&&Tr(new Pi)!=rr)&&(Tr=function(i){var o=Ar(i),c=o==Gt?i.constructor:e,g=c?En(c):"";if(g)switch(g){case d0:return Ie;case p0:return mt;case h0:return Vt;case g0:return $t;case m0:return rr}return o});function A1(i,o,c){for(var g=-1,b=c.length;++g<b;){var D=c[g],A=D.size;switch(D.type){case"drop":i+=A;break;case"dropRight":o-=A;break;case"take":o=Rr(o,i+A);break;case"takeRight":i=yr(i,o-A);break}}return{start:i,end:o}}function P1(i){var o=i.match(kh);return o?o[1].split(Nh):[]}function Gc(i,o,c){o=en(o,i);for(var g=-1,b=o.length,D=!1;++g<b;){var A=Ce(o[g]);if(!(D=i!=null&&c(i,A)))break;i=i[A]}return D||++g!=b?D:(b=i==null?0:i.length,!!b&&so(b)&&Fe(A,b)&&(Mt(i)||Cn(i)))}function B1(i){var o=i.length,c=new i.constructor(o);return o&&typeof i[0]=="string"&&Ut.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function zc(i){return typeof i.constructor=="function"&&!Hi(i)?Jn(Ba(i)):{}}function G1(i,o,c){var g=i.constructor;switch(o){case kr:return Us(i);case ht:case Et:return new g(+i);case Ie:return _1(i,c);case Wn:case wi:case Ke:case hn:case Ei:case Hn:case gn:case Ci:case Di:return _c(i,c);case mt:return new g;case wt:case lr:return new g(i);case Lt:return x1(i);case $t:return new g;case cr:return y1(i)}}function z1(i,o){var c=o.length;if(!c)return i;var g=c-1;return o[g]=(c>1?"& ":"")+o[g],o=o.join(c>2?", ":" "),i.replace(Lh,`{
/* [wrapped with `+o+`] */
`)}function F1(i){return Mt(i)||Cn(i)||!!(Wl&&i&&i[Wl])}function Fe(i,o){var c=typeof i;return o=o??U,!!o&&(c=="number"||c!="symbol"&&Kh.test(i))&&i>-1&&i%1==0&&i<o}function Pr(i,o,c){if(!ar(c))return!1;var g=typeof o;return(g=="number"?Wr(c)&&Fe(o,c.length):g=="string"&&o in c)?he(c[o],i):!1}function eu(i,o){if(Mt(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||Jr(i)?!0:Bh.test(i)||!Ph.test(i)||o!=null&&i in Qt(o)}function L1(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function nu(i){var o=ja(i),c=E[o];if(typeof c!="function"||!(o in kt.prototype))return!1;if(i===c)return!0;var g=js(c);return!!g&&i===g[0]}function k1(i){return!!Fl&&Fl in i}var N1=Ra?Le:yu;function Hi(i){var o=i&&i.constructor,c=typeof o=="function"&&o.prototype||Un;return i===c}function Fc(i){return i===i&&!ar(i)}function Lc(i,o){return function(c){return c==null?!1:c[i]===o&&(o!==e||i in Qt(c))}}function W1(i){var o=ao(i,function(g){return c.size===v&&c.clear(),g}),c=o.cache;return o}function H1(i,o){var c=i[1],g=o[1],b=c|g,D=b<(y|S|T),A=g==T&&c==C||g==T&&c==I&&i[7].length<=o[8]||g==(T|I)&&o[7].length<=o[8]&&c==C;if(!(D||A))return i;g&y&&(i[2]=o[2],b|=c&y?0:w);var z=o[3];if(z){var N=i[3];i[3]=N?yc(N,z,o[4]):z,i[4]=N?Qe(i[3],d):o[4]}return z=o[5],z&&(N=i[5],i[5]=N?Sc(N,z,o[6]):z,i[6]=N?Qe(i[5],d):o[6]),z=o[7],z&&(i[7]=z),g&T&&(i[8]=i[8]==null?o[8]:Rr(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=b,i}function Y1(i){var o=[];if(i!=null)for(var c in Qt(i))o.push(c);return o}function X1(i){return Ia.call(i)}function kc(i,o,c){return o=yr(o===e?i.length-1:o,0),function(){for(var g=arguments,b=-1,D=yr(g.length-o,0),A=V(D);++b<D;)A[b]=g[o+b];b=-1;for(var z=V(o+1);++b<o;)z[b]=g[b];return z[o]=c(A),Ur(i,this,z)}}function Nc(i,o){return o.length<2?i:bn(i,oe(o,0,-1))}function V1(i,o){for(var c=i.length,g=Rr(o.length,c),b=Nr(i);g--;){var D=o[g];i[g]=Fe(D,c)?b[D]:e}return i}function iu(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var Wc=Yc(lc),Yi=o0||function(i,o){return Dr.setTimeout(i,o)},au=Yc(p1);function Hc(i,o,c){var g=o+"";return au(i,z1(g,$1(P1(g),c)))}function Yc(i){var o=0,c=0;return function(){var g=l0(),b=L-(g-c);if(c=g,b>0){if(++o>=W)return arguments[0]}else o=0;return i.apply(e,arguments)}}function ro(i,o){var c=-1,g=i.length,b=g-1;for(o=o===e?g:o;++c<o;){var D=Ws(c,b),A=i[D];i[D]=i[c],i[c]=A}return i.length=o,i}var Xc=W1(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(Gh,function(c,g,b,D){o.push(b?D.replace(Yh,"$1"):g||c)}),o});function Ce(i){if(typeof i=="string"||Jr(i))return i;var o=i+"";return o=="0"&&1/i==-tt?"-0":o}function En(i){if(i!=null){try{return Ta.call(i)}catch{}try{return i+""}catch{}}return""}function $1(i,o){return ee(ot,function(c){var g="_."+c[0];o&c[1]&&!Ca(i,g)&&i.push(g)}),i.sort()}function Vc(i){if(i instanceof kt)return i.clone();var o=new ie(i.__wrapped__,i.__chain__);return o.__actions__=Nr(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function q1(i,o,c){(c?Pr(i,o,c):o===e)?o=1:o=yr(Tt(o),0);var g=i==null?0:i.length;if(!g||o<1)return[];for(var b=0,D=0,A=V(Fa(g/o));b<g;)A[D++]=oe(i,b,b+=o);return A}function U1(i){for(var o=-1,c=i==null?0:i.length,g=0,b=[];++o<c;){var D=i[o];D&&(b[g++]=D)}return b}function K1(){var i=arguments.length;if(!i)return[];for(var o=V(i-1),c=arguments[0],g=i;g--;)o[g-1]=arguments[g];return Je(Mt(c)?Nr(c):[c],Mr(o,1))}var Z1=Bt(function(i,o){return vr(i)?Fi(i,Mr(o,1,vr,!0)):[]}),J1=Bt(function(i,o){var c=se(o);return vr(c)&&(c=e),vr(i)?Fi(i,Mr(o,1,vr,!0),yt(c,2)):[]}),Q1=Bt(function(i,o){var c=se(o);return vr(c)&&(c=e),vr(i)?Fi(i,Mr(o,1,vr,!0),e,c):[]});function j1(i,o,c){var g=i==null?0:i.length;return g?(o=c||o===e?1:Tt(o),oe(i,o<0?0:o,g)):[]}function tm(i,o,c){var g=i==null?0:i.length;return g?(o=c||o===e?1:Tt(o),o=g-o,oe(i,0,o<0?0:o)):[]}function rm(i,o){return i&&i.length?qa(i,yt(o,3),!0,!0):[]}function em(i,o){return i&&i.length?qa(i,yt(o,3),!0):[]}function nm(i,o,c,g){var b=i==null?0:i.length;return b?(c&&typeof c!="number"&&Pr(i,o,c)&&(c=0,g=b),K0(i,o,c,g)):[]}function $c(i,o,c){var g=i==null?0:i.length;if(!g)return-1;var b=c==null?0:Tt(c);return b<0&&(b=yr(g+b,0)),Da(i,yt(o,3),b)}function qc(i,o,c){var g=i==null?0:i.length;if(!g)return-1;var b=g-1;return c!==e&&(b=Tt(c),b=c<0?yr(g+b,0):Rr(b,g-1)),Da(i,yt(o,3),b,!0)}function Uc(i){var o=i==null?0:i.length;return o?Mr(i,1):[]}function im(i){var o=i==null?0:i.length;return o?Mr(i,tt):[]}function am(i,o){var c=i==null?0:i.length;return c?(o=o===e?1:Tt(o),Mr(i,o)):[]}function om(i){for(var o=-1,c=i==null?0:i.length,g={};++o<c;){var b=i[o];g[b[0]]=b[1]}return g}function Kc(i){return i&&i.length?i[0]:e}function sm(i,o,c){var g=i==null?0:i.length;if(!g)return-1;var b=c==null?0:Tt(c);return b<0&&(b=yr(g+b,0)),Xn(i,o,b)}function um(i){var o=i==null?0:i.length;return o?oe(i,0,-1):[]}var fm=Bt(function(i){var o=ir(i,$s);return o.length&&o[0]===i[0]?zs(o):[]}),lm=Bt(function(i){var o=se(i),c=ir(i,$s);return o===se(c)?o=e:c.pop(),c.length&&c[0]===i[0]?zs(c,yt(o,2)):[]}),cm=Bt(function(i){var o=se(i),c=ir(i,$s);return o=typeof o=="function"?o:e,o&&c.pop(),c.length&&c[0]===i[0]?zs(c,e,o):[]});function vm(i,o){return i==null?"":u0.call(i,o)}function se(i){var o=i==null?0:i.length;return o?i[o-1]:e}function dm(i,o,c){var g=i==null?0:i.length;if(!g)return-1;var b=g;return c!==e&&(b=Tt(c),b=b<0?yr(g+b,0):Rr(b,g-1)),o===o?$g(i,o,b):Da(i,Rl,b,!0)}function pm(i,o){return i&&i.length?oc(i,Tt(o)):e}var hm=Bt(Zc);function Zc(i,o){return i&&i.length&&o&&o.length?Ns(i,o):i}function gm(i,o,c){return i&&i.length&&o&&o.length?Ns(i,o,yt(c,2)):i}function mm(i,o,c){return i&&i.length&&o&&o.length?Ns(i,o,e,c):i}var _m=ze(function(i,o){var c=i==null?0:i.length,g=As(i,o);return fc(i,ir(o,function(b){return Fe(b,c)?+b:b}).sort(xc)),g});function xm(i,o){var c=[];if(!(i&&i.length))return c;var g=-1,b=[],D=i.length;for(o=yt(o,3);++g<D;){var A=i[g];o(A,g,i)&&(c.push(A),b.push(g))}return fc(i,b),c}function ou(i){return i==null?i:v0.call(i)}function ym(i,o,c){var g=i==null?0:i.length;return g?(c&&typeof c!="number"&&Pr(i,o,c)?(o=0,c=g):(o=o==null?0:Tt(o),c=c===e?g:Tt(c)),oe(i,o,c)):[]}function Sm(i,o){return $a(i,o)}function bm(i,o,c){return Ys(i,o,yt(c,2))}function wm(i,o){var c=i==null?0:i.length;if(c){var g=$a(i,o);if(g<c&&he(i[g],o))return g}return-1}function Em(i,o){return $a(i,o,!0)}function Cm(i,o,c){return Ys(i,o,yt(c,2),!0)}function Dm(i,o){var c=i==null?0:i.length;if(c){var g=$a(i,o,!0)-1;if(he(i[g],o))return g}return-1}function Mm(i){return i&&i.length?cc(i):[]}function Om(i,o){return i&&i.length?cc(i,yt(o,2)):[]}function Rm(i){var o=i==null?0:i.length;return o?oe(i,1,o):[]}function Tm(i,o,c){return i&&i.length?(o=c||o===e?1:Tt(o),oe(i,0,o<0?0:o)):[]}function Im(i,o,c){var g=i==null?0:i.length;return g?(o=c||o===e?1:Tt(o),o=g-o,oe(i,o<0?0:o,g)):[]}function Am(i,o){return i&&i.length?qa(i,yt(o,3),!1,!0):[]}function Pm(i,o){return i&&i.length?qa(i,yt(o,3)):[]}var Bm=Bt(function(i){return rn(Mr(i,1,vr,!0))}),Gm=Bt(function(i){var o=se(i);return vr(o)&&(o=e),rn(Mr(i,1,vr,!0),yt(o,2))}),zm=Bt(function(i){var o=se(i);return o=typeof o=="function"?o:e,rn(Mr(i,1,vr,!0),e,o)});function Fm(i){return i&&i.length?rn(i):[]}function Lm(i,o){return i&&i.length?rn(i,yt(o,2)):[]}function km(i,o){return o=typeof o=="function"?o:e,i&&i.length?rn(i,e,o):[]}function su(i){if(!(i&&i.length))return[];var o=0;return i=Ze(i,function(c){if(vr(c))return o=yr(c.length,o),!0}),Es(o,function(c){return ir(i,Ss(c))})}function Jc(i,o){if(!(i&&i.length))return[];var c=su(i);return o==null?c:ir(c,function(g){return Ur(o,e,g)})}var Nm=Bt(function(i,o){return vr(i)?Fi(i,o):[]}),Wm=Bt(function(i){return Vs(Ze(i,vr))}),Hm=Bt(function(i){var o=se(i);return vr(o)&&(o=e),Vs(Ze(i,vr),yt(o,2))}),Ym=Bt(function(i){var o=se(i);return o=typeof o=="function"?o:e,Vs(Ze(i,vr),e,o)}),Xm=Bt(su);function Vm(i,o){return hc(i||[],o||[],zi)}function $m(i,o){return hc(i||[],o||[],Ni)}var qm=Bt(function(i){var o=i.length,c=o>1?i[o-1]:e;return c=typeof c=="function"?(i.pop(),c):e,Jc(i,c)});function Qc(i){var o=E(i);return o.__chain__=!0,o}function Um(i,o){return o(i),i}function eo(i,o){return o(i)}var Km=ze(function(i){var o=i.length,c=o?i[0]:0,g=this.__wrapped__,b=function(D){return As(D,i)};return o>1||this.__actions__.length||!(g instanceof kt)||!Fe(c)?this.thru(b):(g=g.slice(c,+c+(o?1:0)),g.__actions__.push({func:eo,args:[b],thisArg:e}),new ie(g,this.__chain__).thru(function(D){return o&&!D.length&&D.push(e),D}))});function Zm(){return Qc(this)}function Jm(){return new ie(this.value(),this.__chain__)}function Qm(){this.__values__===e&&(this.__values__=vv(this.value()));var i=this.__index__>=this.__values__.length,o=i?e:this.__values__[this.__index__++];return{done:i,value:o}}function jm(){return this}function t_(i){for(var o,c=this;c instanceof Wa;){var g=Vc(c);g.__index__=0,g.__values__=e,o?b.__wrapped__=g:o=g;var b=g;c=c.__wrapped__}return b.__wrapped__=i,o}function r_(){var i=this.__wrapped__;if(i instanceof kt){var o=i;return this.__actions__.length&&(o=new kt(this)),o=o.reverse(),o.__actions__.push({func:eo,args:[ou],thisArg:e}),new ie(o,this.__chain__)}return this.thru(ou)}function e_(){return pc(this.__wrapped__,this.__actions__)}var n_=Ua(function(i,o,c){Ut.call(i,c)?++i[c]:Be(i,c,1)});function i_(i,o,c){var g=Mt(i)?Ml:U0;return c&&Pr(i,o,c)&&(o=e),g(i,yt(o,3))}function a_(i,o){var c=Mt(i)?Ze:Jl;return c(i,yt(o,3))}var o_=Cc($c),s_=Cc(qc);function u_(i,o){return Mr(no(i,o),1)}function f_(i,o){return Mr(no(i,o),tt)}function l_(i,o,c){return c=c===e?1:Tt(c),Mr(no(i,o),c)}function jc(i,o){var c=Mt(i)?ee:tn;return c(i,yt(o,3))}function tv(i,o){var c=Mt(i)?Rg:Zl;return c(i,yt(o,3))}var c_=Ua(function(i,o,c){Ut.call(i,c)?i[c].push(o):Be(i,c,[o])});function v_(i,o,c,g){i=Wr(i)?i:ei(i),c=c&&!g?Tt(c):0;var b=i.length;return c<0&&(c=yr(b+c,0)),uo(i)?c<=b&&i.indexOf(o,c)>-1:!!b&&Xn(i,o,c)>-1}var d_=Bt(function(i,o,c){var g=-1,b=typeof o=="function",D=Wr(i)?V(i.length):[];return tn(i,function(A){D[++g]=b?Ur(o,A,c):Li(A,o,c)}),D}),p_=Ua(function(i,o,c){Be(i,c,o)});function no(i,o){var c=Mt(i)?ir:nc;return c(i,yt(o,3))}function h_(i,o,c,g){return i==null?[]:(Mt(o)||(o=o==null?[]:[o]),c=g?e:c,Mt(c)||(c=c==null?[]:[c]),sc(i,o,c))}var g_=Ua(function(i,o,c){i[c?0:1].push(o)},function(){return[[],[]]});function m_(i,o,c){var g=Mt(i)?xs:Il,b=arguments.length<3;return g(i,yt(o,4),c,b,tn)}function __(i,o,c){var g=Mt(i)?Tg:Il,b=arguments.length<3;return g(i,yt(o,4),c,b,Zl)}function x_(i,o){var c=Mt(i)?Ze:Jl;return c(i,oo(yt(o,3)))}function y_(i){var o=Mt(i)?$l:v1;return o(i)}function S_(i,o,c){(c?Pr(i,o,c):o===e)?o=1:o=Tt(o);var g=Mt(i)?Y0:d1;return g(i,o)}function b_(i){var o=Mt(i)?X0:h1;return o(i)}function w_(i){if(i==null)return 0;if(Wr(i))return uo(i)?$n(i):i.length;var o=Tr(i);return o==mt||o==$t?i.size:Ls(i).length}function E_(i,o,c){var g=Mt(i)?ys:g1;return c&&Pr(i,o,c)&&(o=e),g(i,yt(o,3))}var C_=Bt(function(i,o){if(i==null)return[];var c=o.length;return c>1&&Pr(i,o[0],o[1])?o=[]:c>2&&Pr(o[0],o[1],o[2])&&(o=[o[0]]),sc(i,Mr(o,1),[])}),io=a0||function(){return Dr.Date.now()};function D_(i,o){if(typeof o!="function")throw new ne(u);return i=Tt(i),function(){if(--i<1)return o.apply(this,arguments)}}function rv(i,o,c){return o=c?e:o,o=i&&o==null?i.length:o,Ge(i,T,e,e,e,e,o)}function ev(i,o){var c;if(typeof o!="function")throw new ne(u);return i=Tt(i),function(){return--i>0&&(c=o.apply(this,arguments)),i<=1&&(o=e),c}}var uu=Bt(function(i,o,c){var g=y;if(c.length){var b=Qe(c,ti(uu));g|=R}return Ge(i,g,o,c,b)}),nv=Bt(function(i,o,c){var g=y|S;if(c.length){var b=Qe(c,ti(nv));g|=R}return Ge(o,g,i,c,b)});function iv(i,o,c){o=c?e:o;var g=Ge(i,C,e,e,e,e,e,o);return g.placeholder=iv.placeholder,g}function av(i,o,c){o=c?e:o;var g=Ge(i,M,e,e,e,e,e,o);return g.placeholder=av.placeholder,g}function ov(i,o,c){var g,b,D,A,z,N,K=0,Z=!1,Q=!1,ft=!0;if(typeof i!="function")throw new ne(u);o=ue(o)||0,ar(c)&&(Z=!!c.leading,Q="maxWait"in c,D=Q?yr(ue(c.maxWait)||0,o):D,ft="trailing"in c?!!c.trailing:ft);function gt(dr){var ge=g,Ne=b;return g=b=e,K=dr,A=i.apply(Ne,ge),A}function St(dr){return K=dr,z=Yi(zt,o),Z?gt(dr):A}function Pt(dr){var ge=dr-N,Ne=dr-K,Cv=o-ge;return Q?Rr(Cv,D-Ne):Cv}function bt(dr){var ge=dr-N,Ne=dr-K;return N===e||ge>=o||ge<0||Q&&Ne>=D}function zt(){var dr=io();if(bt(dr))return Nt(dr);z=Yi(zt,Pt(dr))}function Nt(dr){return z=e,ft&&g?gt(dr):(g=b=e,A)}function Qr(){z!==e&&gc(z),K=0,g=N=b=z=e}function Br(){return z===e?A:Nt(io())}function jr(){var dr=io(),ge=bt(dr);if(g=arguments,b=this,N=dr,ge){if(z===e)return St(N);if(Q)return gc(z),z=Yi(zt,o),gt(N)}return z===e&&(z=Yi(zt,o)),A}return jr.cancel=Qr,jr.flush=Br,jr}var M_=Bt(function(i,o){return Kl(i,1,o)}),O_=Bt(function(i,o,c){return Kl(i,ue(o)||0,c)});function R_(i){return Ge(i,P)}function ao(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new ne(u);var c=function(){var g=arguments,b=o?o.apply(this,g):g[0],D=c.cache;if(D.has(b))return D.get(b);var A=i.apply(this,g);return c.cache=D.set(b,A)||D,A};return c.cache=new(ao.Cache||Pe),c}ao.Cache=Pe;function oo(i){if(typeof i!="function")throw new ne(u);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function T_(i){return ev(2,i)}var I_=m1(function(i,o){o=o.length==1&&Mt(o[0])?ir(o[0],Kr(yt())):ir(Mr(o,1),Kr(yt()));var c=o.length;return Bt(function(g){for(var b=-1,D=Rr(g.length,c);++b<D;)g[b]=o[b].call(this,g[b]);return Ur(i,this,g)})}),fu=Bt(function(i,o){var c=Qe(o,ti(fu));return Ge(i,R,e,o,c)}),sv=Bt(function(i,o){var c=Qe(o,ti(sv));return Ge(i,O,e,o,c)}),A_=ze(function(i,o){return Ge(i,I,e,e,e,o)});function P_(i,o){if(typeof i!="function")throw new ne(u);return o=o===e?o:Tt(o),Bt(i,o)}function B_(i,o){if(typeof i!="function")throw new ne(u);return o=o==null?0:yr(Tt(o),0),Bt(function(c){var g=c[o],b=nn(c,0,o);return g&&Je(b,g),Ur(i,this,b)})}function G_(i,o,c){var g=!0,b=!0;if(typeof i!="function")throw new ne(u);return ar(c)&&(g="leading"in c?!!c.leading:g,b="trailing"in c?!!c.trailing:b),ov(i,o,{leading:g,maxWait:o,trailing:b})}function z_(i){return rv(i,1)}function F_(i,o){return fu(qs(o),i)}function L_(){if(!arguments.length)return[];var i=arguments[0];return Mt(i)?i:[i]}function k_(i){return ae(i,m)}function N_(i,o){return o=typeof o=="function"?o:e,ae(i,m,o)}function W_(i){return ae(i,h|m)}function H_(i,o){return o=typeof o=="function"?o:e,ae(i,h|m,o)}function Y_(i,o){return o==null||Ul(i,o,Cr(o))}function he(i,o){return i===o||i!==i&&o!==o}var X_=Qa(Gs),V_=Qa(function(i,o){return i>=o}),Cn=tc(function(){return arguments}())?tc:function(i){return ur(i)&&Ut.call(i,"callee")&&!Nl.call(i,"callee")},Mt=V.isArray,$_=Sl?Kr(Sl):t1;function Wr(i){return i!=null&&so(i.length)&&!Le(i)}function vr(i){return ur(i)&&Wr(i)}function q_(i){return i===!0||i===!1||ur(i)&&Ar(i)==ht}var an=s0||yu,U_=bl?Kr(bl):r1;function K_(i){return ur(i)&&i.nodeType===1&&!Xi(i)}function Z_(i){if(i==null)return!0;if(Wr(i)&&(Mt(i)||typeof i=="string"||typeof i.splice=="function"||an(i)||ri(i)||Cn(i)))return!i.length;var o=Tr(i);if(o==mt||o==$t)return!i.size;if(Hi(i))return!Ls(i).length;for(var c in i)if(Ut.call(i,c))return!1;return!0}function J_(i,o){return ki(i,o)}function Q_(i,o,c){c=typeof c=="function"?c:e;var g=c?c(i,o):e;return g===e?ki(i,o,e,c):!!g}function lu(i){if(!ur(i))return!1;var o=Ar(i);return o==at||o==Ft||typeof i.message=="string"&&typeof i.name=="string"&&!Xi(i)}function j_(i){return typeof i=="number"&&Hl(i)}function Le(i){if(!ar(i))return!1;var o=Ar(i);return o==pt||o==Ht||o==vt||o==Rt}function uv(i){return typeof i=="number"&&i==Tt(i)}function so(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=U}function ar(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function ur(i){return i!=null&&typeof i=="object"}var fv=wl?Kr(wl):n1;function tx(i,o){return i===o||Fs(i,o,tu(o))}function rx(i,o,c){return c=typeof c=="function"?c:e,Fs(i,o,tu(o),c)}function ex(i){return lv(i)&&i!=+i}function nx(i){if(N1(i))throw new Dt(s);return rc(i)}function ix(i){return i===null}function ax(i){return i==null}function lv(i){return typeof i=="number"||ur(i)&&Ar(i)==wt}function Xi(i){if(!ur(i)||Ar(i)!=Gt)return!1;var o=Ba(i);if(o===null)return!0;var c=Ut.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Ta.call(c)==r0}var cu=El?Kr(El):i1;function ox(i){return uv(i)&&i>=-U&&i<=U}var cv=Cl?Kr(Cl):a1;function uo(i){return typeof i=="string"||!Mt(i)&&ur(i)&&Ar(i)==lr}function Jr(i){return typeof i=="symbol"||ur(i)&&Ar(i)==cr}var ri=Dl?Kr(Dl):o1;function sx(i){return i===e}function ux(i){return ur(i)&&Tr(i)==rr}function fx(i){return ur(i)&&Ar(i)==be}var lx=Qa(ks),cx=Qa(function(i,o){return i<=o});function vv(i){if(!i)return[];if(Wr(i))return uo(i)?de(i):Nr(i);if(Ii&&i[Ii])return Yg(i[Ii]());var o=Tr(i),c=o==mt?Ds:o==$t?Ma:ei;return c(i)}function ke(i){if(!i)return i===0?i:0;if(i=ue(i),i===tt||i===-tt){var o=i<0?-1:1;return o*nt}return i===i?i:0}function Tt(i){var o=ke(i),c=o%1;return o===o?c?o-c:o:0}function dv(i){return i?Sn(Tt(i),0,$):0}function ue(i){if(typeof i=="number")return i;if(Jr(i))return et;if(ar(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=ar(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=Al(i);var c=$h.test(i);return c||Uh.test(i)?Dg(i.slice(2),c?2:8):Vh.test(i)?et:+i}function pv(i){return Ee(i,Hr(i))}function vx(i){return i?Sn(Tt(i),-U,U):i===0?i:0}function qt(i){return i==null?"":Zr(i)}var dx=Qn(function(i,o){if(Hi(o)||Wr(o)){Ee(o,Cr(o),i);return}for(var c in o)Ut.call(o,c)&&zi(i,c,o[c])}),hv=Qn(function(i,o){Ee(o,Hr(o),i)}),fo=Qn(function(i,o,c,g){Ee(o,Hr(o),i,g)}),px=Qn(function(i,o,c,g){Ee(o,Cr(o),i,g)}),hx=ze(As);function gx(i,o){var c=Jn(i);return o==null?c:ql(c,o)}var mx=Bt(function(i,o){i=Qt(i);var c=-1,g=o.length,b=g>2?o[2]:e;for(b&&Pr(o[0],o[1],b)&&(g=1);++c<g;)for(var D=o[c],A=Hr(D),z=-1,N=A.length;++z<N;){var K=A[z],Z=i[K];(Z===e||he(Z,Un[K])&&!Ut.call(i,K))&&(i[K]=D[K])}return i}),_x=Bt(function(i){return i.push(e,Ac),Ur(gv,e,i)});function xx(i,o){return Ol(i,yt(o,3),we)}function yx(i,o){return Ol(i,yt(o,3),Bs)}function Sx(i,o){return i==null?i:Ps(i,yt(o,3),Hr)}function bx(i,o){return i==null?i:Ql(i,yt(o,3),Hr)}function wx(i,o){return i&&we(i,yt(o,3))}function Ex(i,o){return i&&Bs(i,yt(o,3))}function Cx(i){return i==null?[]:Xa(i,Cr(i))}function Dx(i){return i==null?[]:Xa(i,Hr(i))}function vu(i,o,c){var g=i==null?e:bn(i,o);return g===e?c:g}function Mx(i,o){return i!=null&&Gc(i,o,Z0)}function du(i,o){return i!=null&&Gc(i,o,J0)}var Ox=Mc(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=Ia.call(o)),i[o]=c},hu(Yr)),Rx=Mc(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=Ia.call(o)),Ut.call(i,o)?i[o].push(c):i[o]=[c]},yt),Tx=Bt(Li);function Cr(i){return Wr(i)?Vl(i):Ls(i)}function Hr(i){return Wr(i)?Vl(i,!0):s1(i)}function Ix(i,o){var c={};return o=yt(o,3),we(i,function(g,b,D){Be(c,o(g,b,D),g)}),c}function Ax(i,o){var c={};return o=yt(o,3),we(i,function(g,b,D){Be(c,b,o(g,b,D))}),c}var Px=Qn(function(i,o,c){Va(i,o,c)}),gv=Qn(function(i,o,c,g){Va(i,o,c,g)}),Bx=ze(function(i,o){var c={};if(i==null)return c;var g=!1;o=ir(o,function(D){return D=en(D,i),g||(g=D.length>1),D}),Ee(i,Qs(i),c),g&&(c=ae(c,h|p|m,O1));for(var b=o.length;b--;)Xs(c,o[b]);return c});function Gx(i,o){return mv(i,oo(yt(o)))}var zx=ze(function(i,o){return i==null?{}:f1(i,o)});function mv(i,o){if(i==null)return{};var c=ir(Qs(i),function(g){return[g]});return o=yt(o),uc(i,c,function(g,b){return o(g,b[0])})}function Fx(i,o,c){o=en(o,i);var g=-1,b=o.length;for(b||(b=1,i=e);++g<b;){var D=i==null?e:i[Ce(o[g])];D===e&&(g=b,D=c),i=Le(D)?D.call(i):D}return i}function Lx(i,o,c){return i==null?i:Ni(i,o,c)}function kx(i,o,c,g){return g=typeof g=="function"?g:e,i==null?i:Ni(i,o,c,g)}var _v=Tc(Cr),xv=Tc(Hr);function Nx(i,o,c){var g=Mt(i),b=g||an(i)||ri(i);if(o=yt(o,4),c==null){var D=i&&i.constructor;b?c=g?new D:[]:ar(i)?c=Le(D)?Jn(Ba(i)):{}:c={}}return(b?ee:we)(i,function(A,z,N){return o(c,A,z,N)}),c}function Wx(i,o){return i==null?!0:Xs(i,o)}function Hx(i,o,c){return i==null?i:dc(i,o,qs(c))}function Yx(i,o,c,g){return g=typeof g=="function"?g:e,i==null?i:dc(i,o,qs(c),g)}function ei(i){return i==null?[]:Cs(i,Cr(i))}function Xx(i){return i==null?[]:Cs(i,Hr(i))}function Vx(i,o,c){return c===e&&(c=o,o=e),c!==e&&(c=ue(c),c=c===c?c:0),o!==e&&(o=ue(o),o=o===o?o:0),Sn(ue(i),o,c)}function $x(i,o,c){return o=ke(o),c===e?(c=o,o=0):c=ke(c),i=ue(i),Q0(i,o,c)}function qx(i,o,c){if(c&&typeof c!="boolean"&&Pr(i,o,c)&&(o=c=e),c===e&&(typeof o=="boolean"?(c=o,o=e):typeof i=="boolean"&&(c=i,i=e)),i===e&&o===e?(i=0,o=1):(i=ke(i),o===e?(o=i,i=0):o=ke(o)),i>o){var g=i;i=o,o=g}if(c||i%1||o%1){var b=Yl();return Rr(i+b*(o-i+Cg("1e-"+((b+"").length-1))),o)}return Ws(i,o)}var Ux=jn(function(i,o,c){return o=o.toLowerCase(),i+(c?yv(o):o)});function yv(i){return pu(qt(i).toLowerCase())}function Sv(i){return i=qt(i),i&&i.replace(Zh,Lg).replace(hg,"")}function Kx(i,o,c){i=qt(i),o=Zr(o);var g=i.length;c=c===e?g:Sn(Tt(c),0,g);var b=c;return c-=o.length,c>=0&&i.slice(c,b)==o}function Zx(i){return i=qt(i),i&&us.test(i)?i.replace(Oi,kg):i}function Jx(i){return i=qt(i),i&&zh.test(i)?i.replace(fs,"\\$&"):i}var Qx=jn(function(i,o,c){return i+(c?"-":"")+o.toLowerCase()}),jx=jn(function(i,o,c){return i+(c?" ":"")+o.toLowerCase()}),ty=Ec("toLowerCase");function ry(i,o,c){i=qt(i),o=Tt(o);var g=o?$n(i):0;if(!o||g>=o)return i;var b=(o-g)/2;return Ja(La(b),c)+i+Ja(Fa(b),c)}function ey(i,o,c){i=qt(i),o=Tt(o);var g=o?$n(i):0;return o&&g<o?i+Ja(o-g,c):i}function ny(i,o,c){i=qt(i),o=Tt(o);var g=o?$n(i):0;return o&&g<o?Ja(o-g,c)+i:i}function iy(i,o,c){return c||o==null?o=0:o&&(o=+o),c0(qt(i).replace(ls,""),o||0)}function ay(i,o,c){return(c?Pr(i,o,c):o===e)?o=1:o=Tt(o),Hs(qt(i),o)}function oy(){var i=arguments,o=qt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var sy=jn(function(i,o,c){return i+(c?"_":"")+o.toLowerCase()});function uy(i,o,c){return c&&typeof c!="number"&&Pr(i,o,c)&&(o=c=e),c=c===e?$:c>>>0,c?(i=qt(i),i&&(typeof o=="string"||o!=null&&!cu(o))&&(o=Zr(o),!o&&Vn(i))?nn(de(i),0,c):i.split(o,c)):[]}var fy=jn(function(i,o,c){return i+(c?" ":"")+pu(o)});function ly(i,o,c){return i=qt(i),c=c==null?0:Sn(Tt(c),0,i.length),o=Zr(o),i.slice(c,c+o.length)==o}function cy(i,o,c){var g=E.templateSettings;c&&Pr(i,o,c)&&(o=e),i=qt(i),o=fo({},o,g,Ic);var b=fo({},o.imports,g.imports,Ic),D=Cr(b),A=Cs(b,D),z,N,K=0,Z=o.interpolate||ba,Q="__p += '",ft=Ms((o.escape||ba).source+"|"+Z.source+"|"+(Z===jf?Xh:ba).source+"|"+(o.evaluate||ba).source+"|$","g"),gt="//# sourceURL="+(Ut.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++yg+"]")+`
`;i.replace(ft,function(bt,zt,Nt,Qr,Br,jr){return Nt||(Nt=Qr),Q+=i.slice(K,jr).replace(Jh,Ng),zt&&(z=!0,Q+=`' +
__e(`+zt+`) +
'`),Br&&(N=!0,Q+=`';
`+Br+`;
__p += '`),Nt&&(Q+=`' +
((__t = (`+Nt+`)) == null ? '' : __t) +
'`),K=jr+bt.length,bt}),Q+=`';
`;var St=Ut.call(o,"variable")&&o.variable;if(!St)Q=`with (obj) {
`+Q+`
}
`;else if(Hh.test(St))throw new Dt(f);Q=(N?Q.replace(ss,""):Q).replace(Mi,"$1").replace(Kt,"$1;"),Q="function("+(St||"obj")+`) {
`+(St?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var Pt=wv(function(){return Xt(D,gt+"return "+Q).apply(e,A)});if(Pt.source=Q,lu(Pt))throw Pt;return Pt}function vy(i){return qt(i).toLowerCase()}function dy(i){return qt(i).toUpperCase()}function py(i,o,c){if(i=qt(i),i&&(c||o===e))return Al(i);if(!i||!(o=Zr(o)))return i;var g=de(i),b=de(o),D=Pl(g,b),A=Bl(g,b)+1;return nn(g,D,A).join("")}function hy(i,o,c){if(i=qt(i),i&&(c||o===e))return i.slice(0,zl(i)+1);if(!i||!(o=Zr(o)))return i;var g=de(i),b=Bl(g,de(o))+1;return nn(g,0,b).join("")}function gy(i,o,c){if(i=qt(i),i&&(c||o===e))return i.replace(ls,"");if(!i||!(o=Zr(o)))return i;var g=de(i),b=Pl(g,de(o));return nn(g,b).join("")}function my(i,o){var c=G,g=H;if(ar(o)){var b="separator"in o?o.separator:b;c="length"in o?Tt(o.length):c,g="omission"in o?Zr(o.omission):g}i=qt(i);var D=i.length;if(Vn(i)){var A=de(i);D=A.length}if(c>=D)return i;var z=c-$n(g);if(z<1)return g;var N=A?nn(A,0,z).join(""):i.slice(0,z);if(b===e)return N+g;if(A&&(z+=N.length-z),cu(b)){if(i.slice(z).search(b)){var K,Z=N;for(b.global||(b=Ms(b.source,qt(tl.exec(b))+"g")),b.lastIndex=0;K=b.exec(Z);)var Q=K.index;N=N.slice(0,Q===e?z:Q)}}else if(i.indexOf(Zr(b),z)!=z){var ft=N.lastIndexOf(b);ft>-1&&(N=N.slice(0,ft))}return N+g}function _y(i){return i=qt(i),i&&Sa.test(i)?i.replace(Er,qg):i}var xy=jn(function(i,o,c){return i+(c?" ":"")+o.toUpperCase()}),pu=Ec("toUpperCase");function bv(i,o,c){return i=qt(i),o=c?e:o,o===e?Hg(i)?Zg(i):Pg(i):i.match(o)||[]}var wv=Bt(function(i,o){try{return Ur(i,e,o)}catch(c){return lu(c)?c:new Dt(c)}}),yy=ze(function(i,o){return ee(o,function(c){c=Ce(c),Be(i,c,uu(i[c],i))}),i});function Sy(i){var o=i==null?0:i.length,c=yt();return i=o?ir(i,function(g){if(typeof g[1]!="function")throw new ne(u);return[c(g[0]),g[1]]}):[],Bt(function(g){for(var b=-1;++b<o;){var D=i[b];if(Ur(D[0],this,g))return Ur(D[1],this,g)}})}function by(i){return q0(ae(i,h))}function hu(i){return function(){return i}}function wy(i,o){return i==null||i!==i?o:i}var Ey=Dc(),Cy=Dc(!0);function Yr(i){return i}function gu(i){return ec(typeof i=="function"?i:ae(i,h))}function Dy(i){return ic(ae(i,h))}function My(i,o){return ac(i,ae(o,h))}var Oy=Bt(function(i,o){return function(c){return Li(c,i,o)}}),Ry=Bt(function(i,o){return function(c){return Li(i,c,o)}});function mu(i,o,c){var g=Cr(o),b=Xa(o,g);c==null&&!(ar(o)&&(b.length||!g.length))&&(c=o,o=i,i=this,b=Xa(o,Cr(o)));var D=!(ar(c)&&"chain"in c)||!!c.chain,A=Le(i);return ee(b,function(z){var N=o[z];i[z]=N,A&&(i.prototype[z]=function(){var K=this.__chain__;if(D||K){var Z=i(this.__wrapped__),Q=Z.__actions__=Nr(this.__actions__);return Q.push({func:N,args:arguments,thisArg:i}),Z.__chain__=K,Z}return N.apply(i,Je([this.value()],arguments))})}),i}function Ty(){return Dr._===this&&(Dr._=e0),this}function _u(){}function Iy(i){return i=Tt(i),Bt(function(o){return oc(o,i)})}var Ay=Ks(ir),Py=Ks(Ml),By=Ks(ys);function Ev(i){return eu(i)?Ss(Ce(i)):l1(i)}function Gy(i){return function(o){return i==null?e:bn(i,o)}}var zy=Oc(),Fy=Oc(!0);function xu(){return[]}function yu(){return!1}function Ly(){return{}}function ky(){return""}function Ny(){return!0}function Wy(i,o){if(i=Tt(i),i<1||i>U)return[];var c=$,g=Rr(i,$);o=yt(o),i-=$;for(var b=Es(g,o);++c<i;)o(c);return b}function Hy(i){return Mt(i)?ir(i,Ce):Jr(i)?[i]:Nr(Xc(qt(i)))}function Yy(i){var o=++t0;return qt(i)+o}var Xy=Za(function(i,o){return i+o},0),Vy=Zs("ceil"),$y=Za(function(i,o){return i/o},1),qy=Zs("floor");function Uy(i){return i&&i.length?Ya(i,Yr,Gs):e}function Ky(i,o){return i&&i.length?Ya(i,yt(o,2),Gs):e}function Zy(i){return Tl(i,Yr)}function Jy(i,o){return Tl(i,yt(o,2))}function Qy(i){return i&&i.length?Ya(i,Yr,ks):e}function jy(i,o){return i&&i.length?Ya(i,yt(o,2),ks):e}var tS=Za(function(i,o){return i*o},1),rS=Zs("round"),eS=Za(function(i,o){return i-o},0);function nS(i){return i&&i.length?ws(i,Yr):0}function iS(i,o){return i&&i.length?ws(i,yt(o,2)):0}return E.after=D_,E.ary=rv,E.assign=dx,E.assignIn=hv,E.assignInWith=fo,E.assignWith=px,E.at=hx,E.before=ev,E.bind=uu,E.bindAll=yy,E.bindKey=nv,E.castArray=L_,E.chain=Qc,E.chunk=q1,E.compact=U1,E.concat=K1,E.cond=Sy,E.conforms=by,E.constant=hu,E.countBy=n_,E.create=gx,E.curry=iv,E.curryRight=av,E.debounce=ov,E.defaults=mx,E.defaultsDeep=_x,E.defer=M_,E.delay=O_,E.difference=Z1,E.differenceBy=J1,E.differenceWith=Q1,E.drop=j1,E.dropRight=tm,E.dropRightWhile=rm,E.dropWhile=em,E.fill=nm,E.filter=a_,E.flatMap=u_,E.flatMapDeep=f_,E.flatMapDepth=l_,E.flatten=Uc,E.flattenDeep=im,E.flattenDepth=am,E.flip=R_,E.flow=Ey,E.flowRight=Cy,E.fromPairs=om,E.functions=Cx,E.functionsIn=Dx,E.groupBy=c_,E.initial=um,E.intersection=fm,E.intersectionBy=lm,E.intersectionWith=cm,E.invert=Ox,E.invertBy=Rx,E.invokeMap=d_,E.iteratee=gu,E.keyBy=p_,E.keys=Cr,E.keysIn=Hr,E.map=no,E.mapKeys=Ix,E.mapValues=Ax,E.matches=Dy,E.matchesProperty=My,E.memoize=ao,E.merge=Px,E.mergeWith=gv,E.method=Oy,E.methodOf=Ry,E.mixin=mu,E.negate=oo,E.nthArg=Iy,E.omit=Bx,E.omitBy=Gx,E.once=T_,E.orderBy=h_,E.over=Ay,E.overArgs=I_,E.overEvery=Py,E.overSome=By,E.partial=fu,E.partialRight=sv,E.partition=g_,E.pick=zx,E.pickBy=mv,E.property=Ev,E.propertyOf=Gy,E.pull=hm,E.pullAll=Zc,E.pullAllBy=gm,E.pullAllWith=mm,E.pullAt=_m,E.range=zy,E.rangeRight=Fy,E.rearg=A_,E.reject=x_,E.remove=xm,E.rest=P_,E.reverse=ou,E.sampleSize=S_,E.set=Lx,E.setWith=kx,E.shuffle=b_,E.slice=ym,E.sortBy=C_,E.sortedUniq=Mm,E.sortedUniqBy=Om,E.split=uy,E.spread=B_,E.tail=Rm,E.take=Tm,E.takeRight=Im,E.takeRightWhile=Am,E.takeWhile=Pm,E.tap=Um,E.throttle=G_,E.thru=eo,E.toArray=vv,E.toPairs=_v,E.toPairsIn=xv,E.toPath=Hy,E.toPlainObject=pv,E.transform=Nx,E.unary=z_,E.union=Bm,E.unionBy=Gm,E.unionWith=zm,E.uniq=Fm,E.uniqBy=Lm,E.uniqWith=km,E.unset=Wx,E.unzip=su,E.unzipWith=Jc,E.update=Hx,E.updateWith=Yx,E.values=ei,E.valuesIn=Xx,E.without=Nm,E.words=bv,E.wrap=F_,E.xor=Wm,E.xorBy=Hm,E.xorWith=Ym,E.zip=Xm,E.zipObject=Vm,E.zipObjectDeep=$m,E.zipWith=qm,E.entries=_v,E.entriesIn=xv,E.extend=hv,E.extendWith=fo,mu(E,E),E.add=Xy,E.attempt=wv,E.camelCase=Ux,E.capitalize=yv,E.ceil=Vy,E.clamp=Vx,E.clone=k_,E.cloneDeep=W_,E.cloneDeepWith=H_,E.cloneWith=N_,E.conformsTo=Y_,E.deburr=Sv,E.defaultTo=wy,E.divide=$y,E.endsWith=Kx,E.eq=he,E.escape=Zx,E.escapeRegExp=Jx,E.every=i_,E.find=o_,E.findIndex=$c,E.findKey=xx,E.findLast=s_,E.findLastIndex=qc,E.findLastKey=yx,E.floor=qy,E.forEach=jc,E.forEachRight=tv,E.forIn=Sx,E.forInRight=bx,E.forOwn=wx,E.forOwnRight=Ex,E.get=vu,E.gt=X_,E.gte=V_,E.has=Mx,E.hasIn=du,E.head=Kc,E.identity=Yr,E.includes=v_,E.indexOf=sm,E.inRange=$x,E.invoke=Tx,E.isArguments=Cn,E.isArray=Mt,E.isArrayBuffer=$_,E.isArrayLike=Wr,E.isArrayLikeObject=vr,E.isBoolean=q_,E.isBuffer=an,E.isDate=U_,E.isElement=K_,E.isEmpty=Z_,E.isEqual=J_,E.isEqualWith=Q_,E.isError=lu,E.isFinite=j_,E.isFunction=Le,E.isInteger=uv,E.isLength=so,E.isMap=fv,E.isMatch=tx,E.isMatchWith=rx,E.isNaN=ex,E.isNative=nx,E.isNil=ax,E.isNull=ix,E.isNumber=lv,E.isObject=ar,E.isObjectLike=ur,E.isPlainObject=Xi,E.isRegExp=cu,E.isSafeInteger=ox,E.isSet=cv,E.isString=uo,E.isSymbol=Jr,E.isTypedArray=ri,E.isUndefined=sx,E.isWeakMap=ux,E.isWeakSet=fx,E.join=vm,E.kebabCase=Qx,E.last=se,E.lastIndexOf=dm,E.lowerCase=jx,E.lowerFirst=ty,E.lt=lx,E.lte=cx,E.max=Uy,E.maxBy=Ky,E.mean=Zy,E.meanBy=Jy,E.min=Qy,E.minBy=jy,E.stubArray=xu,E.stubFalse=yu,E.stubObject=Ly,E.stubString=ky,E.stubTrue=Ny,E.multiply=tS,E.nth=pm,E.noConflict=Ty,E.noop=_u,E.now=io,E.pad=ry,E.padEnd=ey,E.padStart=ny,E.parseInt=iy,E.random=qx,E.reduce=m_,E.reduceRight=__,E.repeat=ay,E.replace=oy,E.result=Fx,E.round=rS,E.runInContext=k,E.sample=y_,E.size=w_,E.snakeCase=sy,E.some=E_,E.sortedIndex=Sm,E.sortedIndexBy=bm,E.sortedIndexOf=wm,E.sortedLastIndex=Em,E.sortedLastIndexBy=Cm,E.sortedLastIndexOf=Dm,E.startCase=fy,E.startsWith=ly,E.subtract=eS,E.sum=nS,E.sumBy=iS,E.template=cy,E.times=Wy,E.toFinite=ke,E.toInteger=Tt,E.toLength=dv,E.toLower=vy,E.toNumber=ue,E.toSafeInteger=vx,E.toString=qt,E.toUpper=dy,E.trim=py,E.trimEnd=hy,E.trimStart=gy,E.truncate=my,E.unescape=_y,E.uniqueId=Yy,E.upperCase=xy,E.upperFirst=pu,E.each=jc,E.eachRight=tv,E.first=Kc,mu(E,function(){var i={};return we(E,function(o,c){Ut.call(E.prototype,c)||(i[c]=o)}),i}(),{chain:!1}),E.VERSION=n,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){E[i].placeholder=E}),ee(["drop","take"],function(i,o){kt.prototype[i]=function(c){c=c===e?1:yr(Tt(c),0);var g=this.__filtered__&&!o?new kt(this):this.clone();return g.__filtered__?g.__takeCount__=Rr(c,g.__takeCount__):g.__views__.push({size:Rr(c,$),type:i+(g.__dir__<0?"Right":"")}),g},kt.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),ee(["filter","map","takeWhile"],function(i,o){var c=o+1,g=c==Y||c==j;kt.prototype[i]=function(b){var D=this.clone();return D.__iteratees__.push({iteratee:yt(b,3),type:c}),D.__filtered__=D.__filtered__||g,D}}),ee(["head","last"],function(i,o){var c="take"+(o?"Right":"");kt.prototype[i]=function(){return this[c](1).value()[0]}}),ee(["initial","tail"],function(i,o){var c="drop"+(o?"":"Right");kt.prototype[i]=function(){return this.__filtered__?new kt(this):this[c](1)}}),kt.prototype.compact=function(){return this.filter(Yr)},kt.prototype.find=function(i){return this.filter(i).head()},kt.prototype.findLast=function(i){return this.reverse().find(i)},kt.prototype.invokeMap=Bt(function(i,o){return typeof i=="function"?new kt(this):this.map(function(c){return Li(c,i,o)})}),kt.prototype.reject=function(i){return this.filter(oo(yt(i)))},kt.prototype.slice=function(i,o){i=Tt(i);var c=this;return c.__filtered__&&(i>0||o<0)?new kt(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),o!==e&&(o=Tt(o),c=o<0?c.dropRight(-o):c.take(o-i)),c)},kt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},kt.prototype.toArray=function(){return this.take($)},we(kt.prototype,function(i,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),g=/^(?:head|last)$/.test(o),b=E[g?"take"+(o=="last"?"Right":""):o],D=g||/^find/.test(o);b&&(E.prototype[o]=function(){var A=this.__wrapped__,z=g?[1]:arguments,N=A instanceof kt,K=z[0],Z=N||Mt(A),Q=function(zt){var Nt=b.apply(E,Je([zt],z));return g&&ft?Nt[0]:Nt};Z&&c&&typeof K=="function"&&K.length!=1&&(N=Z=!1);var ft=this.__chain__,gt=!!this.__actions__.length,St=D&&!ft,Pt=N&&!gt;if(!D&&Z){A=Pt?A:new kt(this);var bt=i.apply(A,z);return bt.__actions__.push({func:eo,args:[Q],thisArg:e}),new ie(bt,ft)}return St&&Pt?i.apply(this,z):(bt=this.thru(Q),St?g?bt.value()[0]:bt.value():bt)})}),ee(["pop","push","shift","sort","splice","unshift"],function(i){var o=Oa[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",g=/^(?:pop|shift)$/.test(i);E.prototype[i]=function(){var b=arguments;if(g&&!this.__chain__){var D=this.value();return o.apply(Mt(D)?D:[],b)}return this[c](function(A){return o.apply(Mt(A)?A:[],b)})}}),we(kt.prototype,function(i,o){var c=E[o];if(c){var g=c.name+"";Ut.call(Zn,g)||(Zn[g]=[]),Zn[g].push({name:o,func:c})}}),Zn[Ka(e,S).name]=[{name:"wrapper",func:e}],kt.prototype.clone=_0,kt.prototype.reverse=x0,kt.prototype.value=y0,E.prototype.at=Km,E.prototype.chain=Zm,E.prototype.commit=Jm,E.prototype.next=Qm,E.prototype.plant=t_,E.prototype.reverse=r_,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=e_,E.prototype.first=E.prototype.head,Ii&&(E.prototype[Ii]=jm),E},qn=Jg();mn?((mn.exports=qn)._=qn,gs._=qn):Dr._=qn}).call($i)})(Xo,Xo.exports);var HC=Xo.exports,is={};Object.defineProperty(is,"__esModule",{value:!0});is.backtrace=void 0;function YC(r,t,e){const n=[];let a=e?r:r.getParent();for(;a.getParent();)n.push([a.position.x,a.position.y]),a=a.getParent();return t&&n.push([a.position.x,a.position.y]),n.reverse()}is.backtrace=YC;var as={};Object.defineProperty(as,"__esModule",{value:!0});as.calculateHeuristic=void 0;function XC(r,t,e,n){const a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);switch(r){case"Manhatten":case"Manhattan":return(a+s)*n;case"Euclidean":return Math.sqrt(a*a+s*s)*n;case"Chebyshev":return Math.max(a,s)*n;case"Octile":return(a+s-.58*Math.min(a,s))*n}}as.calculateHeuristic=XC;var ya={},os={};Object.defineProperty(os,"__esModule",{value:!0});os.Node=void 0;class VC{constructor(t){this.id=t.id,this.position=t.position,this.hValue=0,this.gValue=0,this.fValue=0,this.parentNode=void 0,this.isOnClosedList=!1,this.isOnOpenList=!1,this.isWalkable=t.walkable||!0}calculateFValue(){this.fValue=this.gValue+this.hValue}setGValue(t){this.gValue=t,this.calculateFValue()}setHValue(t){this.hValue=t,this.calculateFValue()}setFGHValuesToZero(){this.fValue=this.gValue=this.hValue=0}getFValue(){return this.fValue}getGValue(){return this.gValue}getHValue(){return this.hValue}getParent(){return this.parentNode}getIsOnClosedList(){return this.isOnClosedList}getIsOnOpenList(){return this.isOnOpenList}getIsWalkable(){return this.isWalkable}setParent(t){this.parentNode=t}setIsOnClosedList(t){this.isOnClosedList=t}setIsOnOpenList(t){this.isOnOpenList=t}setIsWalkable(t){this.isWalkable=t}}os.Node=VC;Object.defineProperty(ya,"__esModule",{value:!0});ya.Grid=void 0;const xd=os;class $C{constructor(t){t.width&&t.height?(this.width=t.width,this.height=t.height,this.numberOfFields=this.width*this.height):t.matrix&&(this.width=t.matrix[0].length,this.height=t.matrix.length,this.numberOfFields=this.width*this.height),this.gridNodes=this.buildGridWithNodes(t.matrix||void 0,this.width,this.height,t.densityOfObstacles||0)}buildGridWithNodes(t,e,n,a){const s=[];let u=0;for(let f=0;f<n;f++){s[f]=[];for(let l=0;l<e;l++)s[f][l]=new xd.Node({id:u,position:{x:l,y:f}}),u++}if(t===void 0){for(let f=0;f<n;f++)for(let l=0;l<e;l++)Math.floor(Math.random()*10)+1>10-a?s[f][l].setIsWalkable(!1):s[f][l].setIsWalkable(!0);return s}for(let f=0;f<n;f++)for(let l=0;l<e;l++)s[f][l].setIsWalkable(!t[f][l]);return s}getNodeAt(t){return this.gridNodes[t.y][t.x]}isWalkableAt(t){return this.gridNodes[t.y][t.x].getIsWalkable()}isOnTheGrid(t){return t.x>=0&&t.x<this.width&&t.y>=0&&t.y<this.height}getSurroundingNodes(t,e){const n=[],a=t.x-1,s=t.x+1,u=t.y-1,f=t.y+1;for(let l=u;l<=f;l++)for(let v=a;v<=s;v++)(v!==t.x||l!==t.y)&&this.isOnTheGrid({x:v,y:l})&&this.isWalkableAt({x:v,y:l})&&(e||v==t.x||l==t.y)&&n.push(this.getNodeAt({x:v,y:l}));return n}setGrid(t){this.gridNodes=t}resetGrid(){for(let t=0;t<this.gridNodes.length;t++)for(let e=0;e<this.gridNodes[t].length;e++)this.gridNodes[t][e].setIsOnClosedList(!1),this.gridNodes[t][e].setIsOnOpenList(!1),this.gridNodes[t][e].setParent(void 0),this.gridNodes[t][e].setFGHValuesToZero()}getGridNodes(){return this.gridNodes}clone(){const t=[];let e=0;for(let n=0;n<this.height;n++){t[n]=[];for(let a=0;a<this.width;a++)t[n][a]=new xd.Node({id:e,position:{x:a,y:n},walkable:this.gridNodes[n][a].getIsWalkable()}),e++}return t}}ya.Grid=$C;Object.defineProperty(ns,"__esModule",{value:!0});ns.AStarFinder=void 0;const yd=HC,Sd=is,qC=as,UC=ya;class KC{constructor(t){this.grid=new UC.Grid({width:t.grid.width,height:t.grid.height,matrix:t.grid.matrix||void 0,densityOfObstacles:t.grid.densityOfObstacles||0}),this.closedList=[],this.openList=[],this.diagonalAllowed=t.diagonalAllowed!==void 0?t.diagonalAllowed:!0,this.heuristic=t.heuristic?t.heuristic:"Manhattan",this.includeStartNode=t.includeStartNode!==void 0?t.includeStartNode:!0,this.includeEndNode=t.includeEndNode!==void 0?t.includeEndNode:!0,this.allowPathAsCloseAsPossible=t.allowPathAsCloseAsPossible||!1,this.weight=t.weight||1}findPath(t,e){this.closedList=[],this.openList=[],this.grid.resetGrid();const n=this.grid.getNodeAt(t),a=this.grid.getNodeAt(e);if(!this.grid.isWalkableAt(e)||!this.grid.isWalkableAt(t))return[];n.setIsOnOpenList(!0),this.openList.push(n);for(let s=0;s<this.grid.height;s++)for(let u=0;u<this.grid.width;u++){let f=this.grid.getNodeAt({x:u,y:s});this.grid.isWalkableAt({x:u,y:s})?f.setHValue((0,qC.calculateHeuristic)(this.heuristic,f.position,a.position,this.weight)):(f.setFGHValuesToZero(),f.setIsOnClosedList(!0),this.closedList.push(f))}for(;this.openList.length!==0;){const s=(0,yd.minBy)(this.openList,f=>f.getFValue());if(s.setIsOnOpenList(!1),(0,yd.remove)(this.openList,s),s.setIsOnClosedList(!0),this.closedList.push(s),s===a)return(0,Sd.backtrace)(a,this.includeStartNode,this.includeEndNode);const u=this.grid.getSurroundingNodes(s.position,this.diagonalAllowed);for(let f in u){const l=u[f];if(l.getIsOnClosedList())continue;const v=s.getGValue()+(l.position.x!==s.position.x||l.position.y==s.position.y?this.weight:this.weight*1.41421);(!l.getIsOnOpenList()||v<l.getGValue())&&(l.setGValue(v),l.setParent(s),l.getIsOnOpenList()?l.setParent(s):(l.setIsOnOpenList(!0),this.openList.push(l)))}}return this.allowPathAsCloseAsPossible?(0,Sd.backtrace)(this.closedList[this.closedList.length-1],this.includeStartNode,!1):[]}setHeuristic(t){this.heuristic=t}setWeight(t){this.weight=t}getGridClone(){return this.grid.clone()}getGrid(){return this.grid}}ns.AStarFinder=KC;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Grid=r.AStarFinder=void 0;var t=ns;Object.defineProperty(r,"AStarFinder",{enumerable:!0,get:function(){return t.AStarFinder}});var e=ya;Object.defineProperty(r,"Grid",{enumerable:!0,get:function(){return e.Grid}})})(WC);function bd(r,t,e){return Math.min(Math.max(r,t),e)}const ZC={class:"rounded w-full h-[90%] bg-slate-100 flex flex-wrap place-content-center"},JC={id:"start"},QC={id:"end"},jC={key:1,class:"flex flex-col h-full items-center justify-center gap-2"},tD=It("i",{class:"fa-solid fa-file-upload text-[10vw] text-center opacity-30"},null,-1),rD=It("p",{class:"font-bold text-center opacity-30"},"Upload your map here.",-1),eD=[tD,rD],nD=It("i",{class:"fa-solid fa-map-location-dot"},null,-1),iD=dn({__name:"RobotMap",setup(r){const t=pr(!1),e=pr(null),n=pr(null),a=pr(null),s=function(l){const v=e.value.getContext("2d"),d=new Image,p=l.target.files[0];if(Zi.value=p,p.type.match("image.*")){const m=new FileReader;m.readAsDataURL(p),m.onload=function(_){_.target.readyState==FileReader.DONE&&(d.src=_.target.result??"",d.onload=()=>{var S;v.canvas.width=d.width,v.canvas.height=d.height,Ro.value=[d.width,d.height],v.drawImage(d,0,0);const{left:x,top:y}=((S=e.value)==null?void 0:S.getBoundingClientRect())??new DOMRect;n.value.style.transform=`translate(${x}px, ${y}px`,a.value.style.transform=`translate(${x}px, ${y}px)`},t.value=!0)}}else alert("Not an image!")},u=(l,v)=>{var W;const[d,h,p,m]=l.translate,{width:_,height:x}=l.target.getBoundingClientRect()??new DOMRect,[y,S]=Ro.value??[0,0],{left:w,right:C,top:M,bottom:R,width:O,height:T}=((W=e.value)==null?void 0:W.getBoundingClientRect())??new DOMRect,I=Math.min(Math.max(d,w),C),P=Math.min(Math.max(h,M),R);l.target.style.transform=`translate(${I}px, ${P}px)`;const G=(I-w+_/2)/O*y,H=(P-M+x/2)/T*S;switch(v){case"start":We.value=[G,H];break;case"finish":Mn.value=[G,H];break}},f=async()=>{var _,x,y,S;const l=new FormData;l.append("file",Zi.value);const v=Math.round(((_=We==null?void 0:We.value)==null?void 0:_[0])??0),d=Math.round(((x=We==null?void 0:We.value)==null?void 0:x[1])??0),h=Math.round(((y=Mn==null?void 0:Mn.value)==null?void 0:y[0])??0),p=Math.round(((S=Mn==null?void 0:Mn.value)==null?void 0:S[1])??0);await fetch(`https://naples-concern-which-mad.trycloudflare.com/config?sx=${v}&sy=${d}&ex=${h}&ey=${p}`),await fetch("https://naples-concern-which-mad.trycloudflare.com/upload",{mode:"no-cors",method:"POST",body:l});const m=await fetch("https://naples-concern-which-mad.trycloudflare.com/process");Fu.value=await m.text(),console.log(Fu.value)};return(l,v)=>(Wt(),jt(Bn,null,[It("div",ZC,[t.value?On("",!0):(Wt(),jt("input",{key:0,type:"file",class:"w-full h-full opacity-0 z-50 absolute",onChange:s,onClick:v[0]||(v[0]=oS(()=>{},["prevent"]))},null,32)),He(It("canvas",{ref_key:"mapCanvas",ref:e,class:"rounded border-black border-2 max-w-[50vmin] max-h[50vmin]"},null,512),[[Eo,t.value]]),He(It("div",JC,[It("i",{class:"fa-solid fa-location-crosshairs text-[3vmin] absolute top-0 left-0 text-cyan-400",ref_key:"startEl",ref:n},null,512),Ye(fr(Yo),{target:n.value,draggable:!0,origin:!1,"hide-default-lines":!0,onDrag:v[1]||(v[1]=d=>u(d,"start"))},null,8,["target"])],512),[[Eo,t.value]]),He(It("div",QC,[It("i",{class:"fa-solid fa-flag-checkered text-[3vmin] absolute top-0 left-0",ref_key:"endEl",ref:a},null,512),Ye(fr(Yo),{target:a.value,draggable:!0,origin:!1,"hide-default-lines":!0,onDrag:v[2]||(v[2]=d=>u(d,"finish"))},null,8,["target"])],512),[[Eo,t.value]]),t.value?On("",!0):(Wt(),jt("div",jC,eD))]),It("button",{class:"w-full h-[5%] bg-slate-100",onClick:f},[nD,Dd(" Generate Path ")])],64))}}),aD={},oD={class:"rounded w-full h-[95%] bg-slate-100 flex flex-col items-center justify-center"},sD=It("i",{class:"fa-solid fa-up-right-from-square text-[10vw] text-center opacity-30"},null,-1),uD=It("p",{class:"font-bold text-center opacity-30"},"Click on a tab to get started!",-1),fD=[sD,uD];function lD(r,t){return Wt(),jt("div",oD,fD)}const cD=pf(aD,[["render",lD]]),vD=dn({__name:"KeyModel",props:sS({keyCode:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const t=r,e=uS(r,"modelValue"),n=a=>{if(a.keyCode==t.keyCode)switch(a.type){case"keyup":e.value=!1;break;case"keydown":e.value=!0}};return Md(()=>{window.addEventListener("keyup",n),window.addEventListener("keydown",n)}),fS(()=>{window.removeEventListener("keyup",n),window.removeEventListener("keydown",n)}),(a,s)=>null}});function wd(r,t){var p,m;const e=[],a=r.sensorCanvas.getBoundingClientRect(),s=r.robotOrigin,{width:u,height:f}=s.getBoundingClientRect(),l=getComputedStyle(s).transform;let v,d,h;if(l=="none")v=0,d=0,h=0;else{const _=(p=l.match(/-?\d+\.?\d*/g))==null?void 0:p.map(x=>parseFloat(x));v=_[4]+u/2,d=_[5]+f/2,h=Math.atan2(_[1],_[0])}for(let _=0;_<5;_++){const x=r[`sensor-${_}`][0],{width:y,height:S}=x.getBoundingClientRect(),w=getComputedStyle(x).transform;let C,M;if(w=="none")C=0,M=0;else{const P=(m=w.match(/-?\d+\.?\d*/g))==null?void 0:m.map(G=>parseFloat(G));C=P[4]+y/2,M=P[5]+S/2,Math.atan2(P[1],P[0])}const R=Math.cos(-h)*(C-v)-Math.sin(-h)*(M-d),O=Math.sin(-h)*(C-v)+Math.cos(-h)*(M-d),T=Math.floor(R/a.width*t[0]/10)*10,I=Math.floor(O/a.height*t[1]/10)*10;e.push([T,I])}return _S.value=e,e}const dD={class:"rounded w-full h-[95%] bg-slate-100 flex flex-wrap place-content-center"},pD={key:0,class:"flex flex-col flex-wrap place-content-center"},hD=It("i",{class:"fa-solid fa-circle-xmark text-[10vw] text-center opacity-30"},null,-1),gD=It("p",{class:"font-bold text-center opacity-30"},"Oops! You haven't add a map yet, Please go to the Map section! ",-1),mD=[hD,gD],_D={key:0,class:"flex items-center justify-between w-full h-[5%]"},xD={class:"flex"},yD=It("p",{class:"font-bold"},"Scale: ",-1),SD=It("p",{class:"font-bold"},"x",-1),bD={class:"flex"},wD=It("p",{class:"font-bold"},"Sensor Value for Gray: ",-1),ED=It("p",{class:"font-bold"},"v",-1),CD={key:1},DD={key:0,class:"w-7 h-7 rounded bg-black text-white mx-1 font-bold text-center"},MD={key:1,class:Ed("fa-solid fa-square fa-stack-2x")},OD={key:2,class:"fa-solid fa-code-fork fa-stack-1x text-white"},RD=dn({__name:"Sensors",setup(r){const t=pr(),e=new FileReader,n=pr(!1),a=pr(4),s=pr(!1),u=pr([0,0]),f=pr(!1),l=pr(),v=()=>{var I;const[_,x]=We.value??[0,0],[y,S]=Ro.value??[0,0],w=bd(_-y/(2*a.value),0,y),C=bd(x-S/(2*a.value),0,S),M=y/a.value,R=S/a.value,O=(I=t.value)==null?void 0:I.getContext("2d"),T=O==null?void 0:O.getImageData(w,C,M,R);O.canvas.width=(T==null?void 0:T.width)??0,O.canvas.height=(T==null?void 0:T.height)??0,O==null||O.putImageData(T,0,0),u.value=[(T==null?void 0:T.width)??0,(T==null?void 0:T.height)??0]},d=async()=>{var y;n.value=!!Zi.value;const _=new Image,x=(y=t.value)==null?void 0:y.getContext("2d",{willReadFrequently:!0});if(n.value)try{e.readAsDataURL(Zi.value),e.onload=function(S){S.target.readyState==FileReader.DONE&&(_.src=S.target.result??"",_.onload=()=>{x.canvas.width=_.width,x.canvas.height=_.height,Ro.value=[_.width,_.height],x.drawImage(_,0,0),v(),s.value=!0})}}catch{}},h=_=>{_.target.style.transform=_.transform},p=()=>{var x;const _=(x=t==null?void 0:t.value)==null?void 0:x.getBoundingClientRect();if(_)return[...Array(5).keys()].map(y=>_.left+_.width*y/4)},m=()=>{var x;const _=(x=t==null?void 0:t.value)==null?void 0:x.getBoundingClientRect();if(_)return[...Array(5).keys()].map(y=>_.top+_.height*y/4)};return Od([Zi,We,a],d),Md(d),(_,x)=>{var y;return Wt(),jt(Bn,null,[It("div",dD,[He(It("canvas",{ref_key:"sensorCanvas",ref:t,class:"rounded border-2 border-black min-w-[30vw] max-w-[80vw] min-h-[30vh] max-h-[80vh] w-auto h-auto"},null,512),[[Eo,n.value]]),n.value?On("",!0):(Wt(),jt("div",pD,mD))]),n.value?(Wt(),jt("div",_D,[It("div",xD,[yD,He(It("input",{class:"rounded outline-none border-stone-400 w-14 text-right",type:"number",step:"0.1","onUpdate:modelValue":x[0]||(x[0]=S=>a.value=S)},null,512),[[zu,a.value]]),SD]),It("div",bD,[wD,He(It("input",{class:"rounded outline-none border-stone-400 w-14 text-right",type:"number",step:"0.1","onUpdate:modelValue":x[1]||(x[1]=S=>Cd(Su)?Su.value=S:null)},null,512),[[zu,fr(Su)]]),ED])])):On("",!0),n.value&&s.value?(Wt(),jt("div",CD,[It("i",{class:"fa-solid fa-circle-up text-[3vmin] absolute top-1/2 left-1/2 text-red-600",ref_key:"robotOrigin",ref:l},null,512),Ye(fr(Yo),{target:l.value,dragArea:!0,container:t.value,bounds:(y=t.value)==null?void 0:y.getBoundingClientRect(),draggable:!0,rotatable:!0,snappable:!0,origin:!1,snapRotataionThreshold:15,snapRotationDegrees:[0,90,180,270],snapDirections:{middle:!0,center:!0},verticalGuidelines:p(),horizontalGuidelines:m(),onDrag:h,onRotate:h,onRender:x[2]||(x[2]=S=>fr(wd)(_.$refs,u.value))},null,8,["target","container","bounds","verticalGuidelines","horizontalGuidelines"])])):On("",!0),n.value&&s.value?(Wt(!0),jt(Bn,{key:2},Oo([...Array(5).keys()],S=>{var w;return Wt(),jt("div",null,[It("span",{class:"fa-stack fa-sm absolute top-1/2 left-1/2",ref_for:!0,ref:`sensor-${S}`},[f.value?(Wt(),jt("div",DD,df(S),1)):(Wt(),jt("i",MD)),f.value?On("",!0):(Wt(),jt("i",OD))],512),Ye(fr(Yo),{target:_.$refs[`sensor-${S}`],dragArea:!0,container:t.value,bounds:(w=t.value)==null?void 0:w.getBoundingClientRect(),draggable:!0,rotatable:!0,snappable:!0,origin:!1,snapRotataionThreshold:15,snapRotationDegrees:[0,90,180,270],snapDirections:{middle:!0,center:!0},verticalGuidelines:p(),horizontalGuidelines:m(),elementGuidelines:[l.value],onDrag:h,onRotate:h,onRender:x[3]||(x[3]=C=>fr(wd)(_.$refs,u.value))},null,8,["target","container","bounds","verticalGuidelines","horizontalGuidelines","elementGuidelines"])])}),256)):On("",!0),Ye(vD,{keyCode:16,modelValue:f.value,"onUpdate:modelValue":x[4]||(x[4]=S=>f.value=S)},null,8,["modelValue"])],64)}}});function TD(r){return r.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return e===0?t.toLowerCase():t.toUpperCase()}).replace(/\s+/g,"")}const ID={class:"rounded w-full h-[95%] bg-slate-100 flex flex-wrap items-center justify-start gap-2 flex-col before:content-[''] after:content-['']"},AD=["onUpdate:modelValue"],PD={class:"flex rounded border-black border-2"},BD=["onUpdate:modelValue"],GD=["onClick"],zD=It("i",{class:"fa-solid fa-add"},null,-1),FD=dn({__name:"Junctions",setup(r){const t=()=>De.value.forEach(n=>{n[0]=TD(n[0])}),e=()=>{De.value.push(["junctionName",[!0,!0,!0,!0,!0]])};return Od(De,()=>{}),(n,a)=>(Wt(),jt("div",ID,[(Wt(!0),jt(Bn,null,Oo(fr(De),(s,u)=>(Wt(),jt("div",{class:"flex flex-row w-4/5 items-center justify-between",key:u},[He(It("input",{class:"rounded outline-none text-xl",type:"text","onUpdate:modelValue":f=>fr(De)[u][0]=f,onChange:t},null,40,AD),[[zu,fr(De)[u][0]]]),It("div",PD,[(Wt(!0),jt(Bn,null,Oo(fr(De)[u][1],(f,l)=>He((Wt(),jt("input",{type:"checkbox",class:"appearance-none border-black bg-black before:content-['0'] checked:bg-white checked:before:content-['1'] w-10 h-10 text-center align-middle font-bold text-white checked:text-black","onUpdate:modelValue":v=>fr(De)[u][1][l]=v},null,8,BD)),[[lS,fr(De)[u][1][l]]])),256))]),It("i",{onClick:f=>fr(De).splice(u,1),class:"fa-solid fa-trash text-red-400"},null,8,GD)]))),128)),It("button",{onClick:e,class:"bg-slate-200 w-4/5 p-2 rounded"},[zD,Dd(" Add Sensor")])]))}}),LD={},kD={class:"rounded w-full h-[95%] bg-slate-100 flex flex-col items-center justify-center"},ND=It("i",{class:"fa-solid fa-triangle-exclamation text-[10vw] text-center opacity-30"},null,-1),WD=It("p",{class:"font-bold text-center opacity-30"},"Oops! This tab is not supported yet.",-1),HD=[ND,WD];function YD(r,t){return Wt(),jt("div",kD,HD)}const XD=pf(LD,[["render",YD]]),VD={class:"w-full h-[95%] bg-slate-100 rounded flex flex-wrap place-content-center"},$D={class:"w-4/5 h-4/5 rounded overflow-auto bg-slate-900 text-white p-3"},qD=dn({__name:"Codex",setup(r){return(t,e)=>(Wt(),jt("div",VD,[It("pre",$D,df(fr(Fu)),1)]))}}),UD=dn({__name:"EditView",setup(r){const t=Co;return(e,n)=>(Wt(),Dn(cS,null,[fr(t)==""?(Wt(),Dn(cD,{key:0})):fr(t)=="RobotMap"?(Wt(),Dn(iD,{key:1})):fr(t)=="Sensors"?(Wt(),Dn(RD,{key:2})):fr(t)=="Junctions"?(Wt(),Dn(FD,{key:3})):fr(t)=="Code"?(Wt(),Dn(qD,{key:4})):(Wt(),Dn(XD,{key:5}))],1024))}}),KD={class:"w-2/3 h-full rounded flex flex-col justify-between"},ZD={__name:"Editor",setup(r){return(t,e)=>(Wt(),jt("div",KD,[Ye(bS),Ye(UD)]))}},JD=It("h1",{class:"text-4xl text-center font-bold m-4"},"Linelint",-1),QD={class:"flex flex-row flex-nowrap items-center justify-center w-screen h-[90vh] gap-3"},tM={__name:"Home",setup(r){return(t,e)=>(Wt(),jt(Bn,null,[JD,It("div",QD,[Ye(mS),Ye(ZD)])],64))}};export{tM as default};

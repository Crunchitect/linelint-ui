import{o as Xt,c as er,a as It,r as Sr,d as Gn,F as Tn,b as Mo,u as hr,n as vf,t as iS,w as We,v as aS,i as wd,e as oS,f as wn,g as bo,h as He,j as Cd,m as sS,k as uS,l as Dd,p as fS,q as lS,s as zu,x as cS,y as ti,K as vS}from"./index-5419140c.js";const df=(r,t)=>{const e=r.__vccOpts||r;for(const[n,a]of t)e[n]=a;return e},dS={},pS={class:"w-1/6 h-full rounded bg-slate-100"},hS=It("h2",{class:"text-3xl font-bold m-4"},"Inspector",-1),gS=[hS];function mS(r,t){return Xt(),er("div",pS,gS)}const _S=df(dS,[["render",mS]]);var Md=(r=>(r.RobotMap="map",r.Sensors="screwdriver-wrench",r.Junctions="code-fork",r.Options="gear",r))(Md||{});const Eo=Sr(""),wo=Sr(null),Ui=Sr(null),yu=Sr(null),Oo=Sr(null),Su=Sr(500),xS=Sr(),ke=Sr([["leftTack",[!0,!0,!1,!1,!1]],["rightTack",[!1,!1,!1,!0,!0]],["cross",[!1,!1,!1,!1,!1]]]),yS={class:"flex items-center gap-2 w-full h-[5%]"},SS={class:"rounded bg-slate-100 w-28 flex items-center justify-between after:content-[''] before:content-[''] opacity-25 has-[:checked]:opacity-100"},bS=["value"],ES=Gn({__name:"Tabs",setup(r){const t=Md;return(e,n)=>(Xt(),er("fieldset",null,[It("div",yS,[(Xt(!0),er(Tn,null,Mo(hr(t),(a,s)=>(Xt(),er("div",SS,[It("i",{class:vf(`fa-solid fa-${a}`)},null,2),It("p",null,iS(s),1),We(It("input",{class:"fixed w-full opacity-0",type:"radio",value:s,"onUpdate:modelValue":n[0]||(n[0]=u=>wd(Eo)?Eo.value=u:null)},null,8,bS),[[aS,hr(Eo)]])]))),256))])]))}});function wS(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.map(function(n){return n.split(" ").map(function(a){return a?""+r+a:""}).join(" ")}).join(" ")}function CS(r,t){return t.replace(/([^}{]*){/gm,function(e,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+r+"$1")+"{"})}function Ye(r,t){return function(e){e&&(r[t]=e)}}function Od(r,t,e){return function(n){n&&(r[t][e]=n)}}function Cv(r,t){return function(e){var n=e.prototype;r.forEach(function(a){t(n,a)})}}function DS(r,t){return t===void 0&&(t={}),function(e,n){r.forEach(function(a){var s=t[a]||a;s in e||(e[s]=function(){for(var u,f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var v=(u=this[n])[a].apply(u,f);return v===this[n]?this:v})})}}var MS="function",OS="object",RS="string",TS="number",pf="undefined",Rd=typeof window!==pf,IS=typeof document!==pf&&document,AS=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],gr=1e-7,uo={cm:function(r){return r*96/2.54},mm:function(r){return r*96/254},in:function(r){return r*96},pt:function(r){return r*96/72},pc:function(r){return r*96/6},"%":function(r,t){return r*t/100},vw:function(r,t){return t===void 0&&(t=window.innerWidth),r/100*t},vh:function(r,t){return t===void 0&&(t=window.innerHeight),r/100*t},vmax:function(r,t){return t===void 0&&(t=Math.max(window.innerWidth,window.innerHeight)),r/100*t},vmin:function(r,t){return t===void 0&&(t=Math.min(window.innerWidth,window.innerHeight)),r/100*t}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function PS(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var s=arguments[t],u=0,f=s.length;u<f;u++,a++)n[a]=s[u];return n}function Ro(r,t,e,n){return(r*n+t*e)/(e+n)}function sa(r){return typeof r===pf}function ye(r){return r&&typeof r===OS}function mr(r){return Array.isArray(r)}function Vr(r){return typeof r===RS}function fi(r){return typeof r===TS}function hf(r){return typeof r===MS}function BS(r,t){var e=r===""||r==" ",n=t===""||t==" ";return n&&e||r===t}function Td(r,t,e,n,a){var s=gf(r,t,e);return s?e:GS(r,t,e+1,n,a)}function gf(r,t,e){if(!r.ignore)return null;var n=t.slice(Math.max(e-3,0),e+3).join("");return new RegExp(r.ignore).exec(n)}function GS(r,t,e,n,a){for(var s=function(v){var d=t[v].trim();if(d===r.close&&!gf(r,t,v))return{value:v};var h=v,p=$r(a,function(m){var _=m.open;return _===d});if(p&&(h=Td(p,t,v,n,a)),h===-1)return u=v,"break";v=h,u=v},u,f=e;f<n;++f){var l=s(f);if(f=u,typeof l=="object")return l.value;if(l==="break")break}return-1}function mf(r,t){var e=Vr(t)?{separator:t}:t,n=e.separator,a=n===void 0?",":n,s=e.isSeparateFirst,u=e.isSeparateOnlyOpenClose,f=e.isSeparateOpenClose,l=f===void 0?u:f,v=e.openCloseCharacters,d=v===void 0?AS:v,h=d.map(function(T){var I=T.open,P=T.close;return I===P?I:I+"|"+P}).join("|"),p="(\\s*"+a+"\\s*|"+h+"|\\s+)",m=new RegExp(p,"g"),_=r.split(m).filter(function(T){return T&&T!=="undefined"}),x=_.length,y=[],S=[];function E(){return S.length?(y.push(S.join("")),S=[],!0):!1}for(var C=function(T){var I=_[T].trim(),P=T,G=$r(d,function(L){var Y=L.open;return Y===I}),H=$r(d,function(L){var Y=L.close;return Y===I});if(G){if(P=Td(G,_,T,x,d),P!==-1&&l)return E()&&s||(y.push(_.slice(T,P+1).join("")),T=P,s)?(M=T,"break"):(M=T,"continue")}else if(H&&!gf(H,_,T)){var W=PS(d);return W.splice(d.indexOf(H),1),{value:mf(r,{separator:a,isSeparateFirst:s,isSeparateOnlyOpenClose:u,isSeparateOpenClose:l,openCloseCharacters:W})}}else if(BS(I,a)&&!u)return E(),s?(M=T,"break"):(M=T,"continue");P===-1&&(P=x-1),S.push(_.slice(T,P+1).join("")),T=P,M=T},M,R=0;R<x;++R){var O=C(R);if(R=M,typeof O=="object")return O.value;if(O==="break")break}return S.length&&y.push(S.join("")),y}function fn(r){return mf(r,"")}function Rn(r){return mf(r,",")}function Id(r){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(r);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function ua(r){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(r);if(!t)return{prefix:"",unit:"",value:NaN};var e=t[1],n=t[2],a=t[3];return{prefix:e,unit:a,value:parseFloat(n)}}function zS(r){return r.replace(/[\s-_]+([^\s-_])/g,function(t,e){return e.toUpperCase()})}function Co(r,t){return t===void 0&&(t="-"),r.replace(/([a-z])([A-Z])/g,function(e,n,a){return""+n+t+a.toLowerCase()})}function ra(){return Date.now?Date.now():new Date().getTime()}function $e(r,t,e){e===void 0&&(e=-1);for(var n=r.length,a=0;a<n;++a)if(t(r[a],a,r))return a;return e}function $r(r,t,e){var n=$e(r,t);return n>-1?r[n]:e}var Ad=function(){var r=ra(),t=Rd&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return t?t.bind(window):function(e){var n=ra(),a=setTimeout(function(){e(n-r)},1e3/60);return a}}(),FS=function(){var r=Rd&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return r?r.bind(window):function(t){clearTimeout(t)}}();function qe(r){return Object.keys(r)}function LS(r){var t=qe(r);return t.map(function(e){return r[e]})}function Zt(r,t){var e=ua(r),n=e.value,a=e.unit;if(ye(t)){var s=t[a];if(s){if(hf(s))return s(n);if(uo[a])return uo[a](n,s)}}else if(a==="%")return n*t/100;return uo[a]?uo[a](n):n}function Fu(r,t,e){return Math.max(t,Math.min(r,e))}function Dv(r,t,e,n){return n===void 0&&(n=r[0]/r[1]),[[Ct(t[0],gr),Ct(t[0]/n,gr)],[Ct(t[1]*n,gr),Ct(t[1],gr)]].filter(function(a){return a.every(function(s,u){var f=t[u],l=Ct(f,gr);return e?s<=f||s<=l:s>=f||s>=l})})[0]||r}function Pd(r,t,e,n){if(!n)return r.map(function(m,_){return Fu(m,t[_],e[_])});var a=r[0],s=r[1],u=n===!0?a/s:n,f=Dv(r,t,!1,u),l=f[0],v=f[1],d=Dv(r,e,!0,u),h=d[0],p=d[1];return a<l||s<v?(a=l,s=v):(a>h||s>p)&&(a=h,s=p),[a,s]}function NS(r){for(var t=r.length,e=0,n=t-1;n>=0;--n)e+=r[n];return e}function Lu(r){for(var t=r.length,e=0,n=t-1;n>=0;--n)e+=r[n];return t?e/t:0}function dr(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function kS(r){return[0,1].map(function(t){return Lu(r.map(function(e){return e[t]}))})}function Mv(r){var t=kS(r),e=dr(t,r[0]),n=dr(t,r[1]);return e<n&&n-e<Math.PI||e>n&&n-e<-Math.PI?1:-1}function Xe(r,t){return Math.sqrt(Math.pow((t?t[0]:0)-r[0],2)+Math.pow((t?t[1]:0)-r[1],2))}function Ct(r,t){if(!t)return r;var e=1/t;return Math.round(r/t)/e}function Ov(r,t){return r.forEach(function(e,n){r[n]=Ct(r[n],t)}),r}function WS(r){for(var t=[],e=0;e<r;++e)t.push(e);return t}function Bd(r){return r.reduce(function(t,e){return t.concat(e)},[])}function Gd(r,t){r.indexOf(t)===-1&&r.push(t)}function br(r,t){return r.classList?r.classList.contains(t):!!r.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function zd(r,t){r.classList?r.classList.add(t):r.className+=" "+t}function Fd(r,t){if(r.classList)r.classList.remove(t);else{var e=new RegExp("(\\s|^)"+t+"(\\s|$)");r.className=r.className.replace(e," ")}}function Or(r,t,e,n){r.addEventListener(t,e,n)}function yr(r,t,e,n){r.removeEventListener(t,e,n)}function gi(r){return(r==null?void 0:r.ownerDocument)||IS}function _f(r){return gi(r).documentElement}function vn(r){return gi(r).body}function un(r){var t;return((t=r==null?void 0:r.ownerDocument)===null||t===void 0?void 0:t.defaultView)||window}function Ld(r){return r&&"postMessage"in r&&"blur"in r&&"self"in r}function mi(r){return ye(r)&&r.nodeName&&r.nodeType&&"ownerDocument"in r}var HS=function(){function r(){this.keys=[],this.values=[]}var t=r.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,n){var a=this.keys,s=this.values,u=a.indexOf(e),f=u===-1?a.length:u;a[f]=e,s[f]=n},r}(),YS=function(){function r(){this.object={}}var t=r.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,n){this.object[e]=n},r}(),XS=typeof Map=="function",VS=function(){function r(){}var t=r.prototype;return t.connect=function(e,n){this.prev=e,this.next=n,e&&(e.next=this),n&&(n.prev=this)},t.disconnect=function(){var e=this.prev,n=this.next;e&&(e.next=n),n&&(n.prev=e)},t.getIndex=function(){for(var e=this,n=-1;e;)e=e.prev,++n;return n},r}();function $S(r,t){var e=[],n=[];return r.forEach(function(a){var s=a[0],u=a[1],f=new VS;e[s]=f,n[u]=f}),e.forEach(function(a,s){a.connect(e[s-1])}),r.filter(function(a,s){return!t[s]}).map(function(a,s){var u=a[0],f=a[1];if(u===f)return[0,0];var l=e[u],v=n[f-1],d=l.getIndex();l.disconnect(),v?l.connect(v,v.next):l.connect(void 0,e[0]);var h=l.getIndex();return[d,h]})}var qS=function(){function r(e,n,a,s,u,f,l,v){this.prevList=e,this.list=n,this.added=a,this.removed=s,this.changed=u,this.maintained=f,this.changedBeforeAdded=l,this.fixed=v}var t=r.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=$S(this.changedBeforeAdded,this.fixed),n=this.changed,a=[];this.cacheOrdered=e.filter(function(s,u){var f=s[0],l=s[1],v=n[u],d=v[0],h=v[1];if(f!==l)return a.push([d,h]),!0}),this.cachePureChanged=a},r}();function fa(r,t,e){var n=XS?Map:e?YS:HS,a=e||function(E){return E},s=[],u=[],f=[],l=r.map(a),v=t.map(a),d=new n,h=new n,p=[],m=[],_={},x=[],y=0,S=0;return l.forEach(function(E,C){d.set(E,C)}),v.forEach(function(E,C){h.set(E,C)}),l.forEach(function(E,C){var M=h.get(E);typeof M>"u"?(++S,u.push(C)):_[M]=S}),v.forEach(function(E,C){var M=d.get(E);typeof M>"u"?(s.push(C),++y):(f.push([M,C]),S=_[C]||0,p.push([M-S,C-y]),m.push(C===M),M!==C&&x.push([M,C]))}),u.reverse(),new qS(r,t,s,u,x,f,p,m)}var US=function(){function r(e,n){e===void 0&&(e=[]),this.findKeyCallback=n,this.list=[].slice.call(e)}var t=r.prototype;return t.update=function(e){var n=[].slice.call(e),a=fa(this.list,n,this.findKeyCallback);return this.list=n,a},r}(),Nu=function(r,t){return Nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},Nu(r,t)};function la(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nu(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var De=function(){return De=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},De.apply(this,arguments)};function Nd(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function Rv(r,t,e){if(e||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))}function Tv(r){var t=0;return r.map(function(e){return e==null?"$compat".concat(++t):"".concat(e)})}function kd(r){var t=[];return r.forEach(function(e){t=t.concat(mr(e)?kd(e):e)}),t}function bu(r,t){if(!t)return r;for(var e in t)sa(r[e])&&(r[e]=t[e]);return r}function To(r,t){if(r===t)return!1;for(var e in r)if(!(e in t))return!0;for(var e in t)if(r[e]!==t[e])return!0;return!1}function Iv(r){var t=r.className,e=Nd(r,["className"]);return t!=null&&(e.class=t),delete e.style,delete e.children,e}function Av(r){var t={},e={};for(var n in r)n.indexOf("on")===0?e[n]=r[n]:t[n]=r[n];return[t,e]}function Xo(r){if(!r)return null;var t=r.b;return mi(t)?t:Xo(r.c)}function Wd(r){var t=r.parentNode;t&&t.removeChild(r)}function Hd(r){r.forEach(function(t){t()})}function KS(){return this.constructor(this.props,this.context)}var xf=0,Vo=function(){function r(e,n,a,s,u,f,l){l===void 0&&(l={}),this.t=e,this.d=n,this.k=a,this.i=s,this.c=u,this.ref=f,this.ps=l,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var t=r.prototype;return t.s=function(){return!0},t.u=function(e,n,a,s,u){var f=this,l=f.d,v=LS(n).filter(function(_){return _.$_req}),d=kd(v.map(function(_){return _.$_subs})),h=$r(d,function(_){return _.d===l});if(f.b&&!Vr(a)&&!u&&!f.s(a.props,s)&&!h){var p=d.reduce(function(_,x){var y=x.d;return _[0]?_[0].d===y&&_.push(x):y>l&&_.push(x),_},[]);return p.forEach(function(_){ca(_,_._ps,[_.o],e,n,!0)}),!1}f.o=a,f.ss(s);var m=f.ps;return Vr(a)||(f.ps=a.props,f.ref=a.ref),yf(this),f.r(e,n,f.b?m:{},s),!0},t.md=function(){this.rr()},t.ss=function(){},t.ud=function(){this.rr()},t.rr=function(){var e=this,n=e.ref,a=e.fr;n&&n(a?a.current:e.b)},r}();function Yd(){return Object.__CROACT_CURRENT_INSTNACE__}function ZS(){return xf}function JS(r){xf=r}function yf(r){return Object.__CROACT_CURRENT_INSTNACE__=r,xf=0,r}var Sf=function(){function r(e,n){e===void 0&&(e={}),this.props=e,this.context=n,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var t=r.prototype;return t.render=function(){return null},t.shouldComponentUpdate=function(e,n){return this.props!==e||this.state!==n},t.setState=function(e,n,a){var s=this;s.$_timer||(s.$_state={}),clearTimeout(s.$_timer),s.$_timer=0,s.$_state=De(De({},s.$_state),e),a?s.$_setState(n,a):s.$_timer=window.setTimeout(function(){s.$_timer=0,s.$_setState(n,a)})},t.forceUpdate=function(e){this.setState({},e,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(e,n){},t.componentWillUnmount=function(){},t.$_setState=function(e,n){var a=[],s=this.$_p,u=ca(s.c,[s],[s.o],a,s._cs,De(De({},this.state),this.$_state),n);u&&(e&&a.push(e),Hd(a),yf(null))},r}(),Xd=function(r){la(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}var e=t.prototype;return e.shouldComponentUpdate=function(n,a){return To(this.props,n)||To(this.state,a)},t}(Sf);function Vd(r){var t=function(e){t.current=e};return t.current=r,t}function QS(r){return r._fr=!0,r}function jS(r,t,e,n){var a,s;return!((a=r==null?void 0:r.prototype)===null||a===void 0)&&a.render?s=new r(t,e):(s=new Sf(t,e),s.constructor=r,r._fr?(n.fr=Vd(),s.render=function(){return this.constructor(this.props,n.fr)}):s.render=KS),s.$_p=n,s}var tb=function(r){la(t,r);function t(n,a,s,u,f,l,v){v===void 0&&(v={});var d=r.call(this,n,a,s,u,f,l,bu(v,n.defaultProps))||this;return d.typ="comp",d._usefs=[],d._uefs=[],d._defs=[],d}var e=t.prototype;return e.s=function(n,a){var s=this.b;return s.shouldComponentUpdate(bu(n,this.t.defaultProps),a||s.state)!==!1},e.r=function(n,a,s){var u,f,l=this,v=l.t;l.ps=bu(l.ps,l.t.defaultProps);var d=l.ps,h=!l.b,p=v.contextType,m=l.b,_=p==null?void 0:p.get(l);l._cs=a,h?(m=jS(v,d,_,l),l.b=m):(m.props=d,m.context=_);var x=m.state;l._usefs=[],l._uefs=[];var y=m.render();((f=(u=y==null?void 0:y.props)===null||u===void 0?void 0:u.children)===null||f===void 0?void 0:f.length)===0&&(y.props.children=l.ps.children);var S=De(De({},a),m.$_cs);ca(l,l._ps,y?[y]:[],n,S),h?l._uefs.push(function(){p==null||p.register(l),m.componentDidMount()}):l._uefs.push(function(){m.componentDidUpdate(s,x)}),n.push(function(){l._usefs.forEach(function(E){E()}),h?l.md():l.ud(),l._defs=l._uefs.map(function(E){return E()})})},e.ss=function(n){var a=this.b;!a||!n||(a.state=n)},e.un=function(){var n,a=this;a._ps.forEach(function(u){u.un()});var s=a.t;(n=s.contextType)===null||n===void 0||n.unregister(a),clearTimeout(a.b.$_timer),a._defs.forEach(function(u){u&&u()}),a.b.componentWillUnmount()},t}(Vo);function rb(r,t,e){var n=bf(Iv(r),Iv(t)),a=n.added,s=n.removed,u=n.changed;for(var f in a)e.setAttribute(f,a[f]);for(var l in u)e.setAttribute(l,u[l][1]);for(var v in s)e.removeAttribute(v)}function eb(r,t,e){var n=bf(r,t),a=n.added,s=n.removed;for(var u in s)e.e(u,!0);for(var f in a)e.e(f)}function bf(r,t){var e=qe(r),n=qe(t),a=fa(e,n,function(l){return l}),s={},u={},f={};return a.added.forEach(function(l){var v=n[l];s[v]=t[v]}),a.removed.forEach(function(l){var v=e[l];u[v]=r[v]}),a.maintained.forEach(function(l){var v=l[0],d=e[v],h=[r[d],t[d]];r[d]!==t[d]&&(f[d]=h)}),{added:s,removed:u,changed:f}}function nb(r,t,e){var n=e.style,a=bf(r,t),s=a.added,u=a.removed,f=a.changed;for(var l in s){var v=Co(l,"-");n.setProperty(v,s[l])}for(var l in f){var d=Co(l,"-");n.setProperty(d,f[l][1])}for(var l in u){var h=Co(l,"-");n.removeProperty(h)}}function ib(r){return r.replace(/^on/g,"").toLowerCase()}var ab=function(r){la(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.typ="elem",n._es={},n._svg=!1,n}var e=t.prototype;return e.e=function(n,a){var s=this,u=s._es,f=s.b,l=ib(n);a?(yr(f,l,u[n]),delete u[n]):(u[n]=function(v){var d,h;(h=(d=s.ps)[n])===null||h===void 0||h.call(d,v)},Or(f,l,u[n]))},e.s=function(n){return To(this.ps,n)},e.r=function(n,a,s){var u,f=this,l=!f.b,v=f.ps;if(l){var d=Xo(f.c),h=!1;f._svg||f.t==="svg"?h=!0:h=d&&d.ownerSVGElement,f._svg=h;var p=(u=f._hyd)===null||u===void 0?void 0:u.splice(0,1)[0],m=f.t;if(p)f._hyd=[].slice.call(p.children||[]);else{var _=gi(d);h?p=_.createElementNS("http://www.w3.org/2000/svg",m):p=_.createElement(m)}f.b=p}ca(f,f._ps,v.children,n,a);var x=f.b,y=Av(s),S=y[0],E=y[1],C=Av(v),M=C[0],R=C[1];return rb(S,M,x),eb(E,R,f),nb(s.style||{},v.style||{},x),n.push(function(){l?f.md():f.ud()}),!0},e.un=function(){var n=this,a=n._es,s=n.b;for(var u in a)yr(s,u,a[u]);n._ps.forEach(function(f){f.un()}),n._es={},n._sel||Wd(s)},t}(Vo);function ea(r){if(!r||mi(r))return r;var t=r.$_p._ps;return t.length?ea(t[0].b):null}function $d(r){if(r){if(r.b&&mi(r.b))return r;var t=r._ps;return t.length?$d(t[0]):null}}function _e(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=t||{},s=a.key,u=a.ref,f=Nd(a,["key","ref"]);return{type:r,key:s,ref:u,props:De(De({},f),{children:Bd(e).filter(function(l){return l!=null&&l!==!1})})}}var qd=function(r){la(t,r);function t(n,a){a===void 0&&(a=0);var s=r.call(this,"container",a,"container",0,null)||this;return s.typ="container",s.b=n,s}var e=t.prototype;return e.r=function(){return!0},e.un=function(){},t}(Vo),ob=function(r){la(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n.typ="text",n}var e=t.prototype;return e.r=function(n){var a,s=this,u=!s.b;if(u){var f=Xo(s.c),l=(a=s._hyd)===null||a===void 0?void 0:a.splice(0,1)[0];s.b=l||gi(f).createTextNode(s.t.replace("text_",""))}return n.push(function(){u?s.md():s.ud()}),!0},e.un=function(){Wd(this.b)},t}(Vo);function sb(r,t,e){var n=e.map(function(l){return Vr(l)?null:l.key}),a=Tv(t.map(function(l){return l.k})),s=Tv(n),u=fa(a,s,function(l){return l});u.removed.forEach(function(l){t.splice(l,1)[0].un()}),u.ordered.forEach(function(l){var v=l[0],d=l[1],h=t.splice(v,1)[0];t.splice(d,0,h);var p=ea(h.b),m=ea(t[d+1]&&t[d+1].b);p&&p.parentNode.insertBefore(p,m)}),u.added.forEach(function(l){t.splice(l,0,Pv(e[l],n[l],l,r))});var f=u.maintained.filter(function(l){l[0];var v=l[1],d=e[v],h=t[v],p=Vr(d)?"text_".concat(d):d.type;return p!==h.t?(h.un(),t.splice(v,1,Pv(d,n[v],v,r)),!0):(h.i=v,!1)});return Rv(Rv([],u.added,!0),f.map(function(l){l[0];var v=l[1];return v}),!0)}function ub(r,t){for(var e=r._ps,n=e.length,a=t.i+1;a<n;++a){var s=ea(e[a].b);if(s)return s}return null}function Pv(r,t,e,n){var a=n.d+1;if(Vr(r)||fi(r))return new ob("text_".concat(r),a,t,e,n,null,{});var s=r.type,u=typeof s=="string"?ab:tb;return new u(s,a,t,e,n,r.ref,r.props)}function ca(r,t,e,n,a,s,u){var f=sb(r,t,e),l=r._hyd,v=t.filter(function(h,p){return h._hyd=l,h.u(n,a,e[p],s,u)});r.typ==="container"&&r._sel&&t.forEach(function(h){var p=$d(h);p&&(p._sel=!0)}),r._hyd=null;var d=Xo(r);return d&&f.reverse().forEach(function(h){var p=t[h],m=ea(p.b);if(m&&d!==m&&!m.parentNode){var _=ub(r,p);d.insertBefore(m,_)}}),v.length>0}function fb(r,t,e,n){e===void 0&&(e=t.__CROACT__),n===void 0&&(n={});var a=!!e;e||(e=new qd(t));var s=[];return ca(e,e._ps,r?[r]:[],s,n,void 0,void 0),Hd(s),yf(null),a||(t.__CROACT__=e),e}function Bv(r,t,e){return!e&&r&&(e=new qd(t.parentElement),e._hyd=[t],e._sel=!0),fb(r,t,e),e}function Ud(r){var t=Yd(),e=t._hs||(t._hs=[]),n=ZS(),a=e[n];if(JS(n+1),a){if(!To(a.deps,r.deps))return a.updated=!1,a;e[n]=r}else e.push(r);return r.value=r.func(),r.updated=!0,r}function lb(r,t){var e=Ud({func:r,deps:t});return e.value}function cb(r){return lb(function(){return Vd(r)},[])}function Kd(r,t,e){var n=Yd(),a=Ud({func:function(){return r},deps:t}),s=e?n._usefs:n._uefs;a.updated?s.push(function(){return a.effect&&a.effect(),a.effect=r(),a.effect}):s.push(function(){return a.effect})}function vb(r,t,e){Kd(function(){r==null||r(t())},e,!0)}function Ef(r,t){for(var e=r.length,n=0;n<e;++n)if(t(r[n],n))return!0;return!1}function Zd(r,t){for(var e=r.length,n=0;n<e;++n)if(t(r[n],n))return r[n];return null}function Jd(r){var t=r;if(typeof t>"u"){if(typeof navigator>"u"||!navigator)return"";t=navigator.userAgent||""}return t.toLowerCase()}function wf(r,t){try{return new RegExp(r,"g").exec(t)}catch{return null}}function db(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var r=navigator.userAgentData,t=r.brands||r.uaList;return!!(t&&t.length)}function pb(r,t){var e=wf("("+r+")((?:\\/|\\s|:)([0-9|\\.|_]+))",t);return e?e[3]:""}function ku(r){return r.replace(/_/g,".")}function Vi(r,t){var e=null,n="-1";return Ef(r,function(a){var s=wf("("+a.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",t);return!s||a.brand?!1:(e=a,n=s[3]||"-1",a.versionAlias?n=a.versionAlias:a.versionTest&&(n=pb(a.versionTest.toLowerCase(),t)||n),n=ku(n),!0)}),{preset:e,version:n}}function Yi(r,t){var e={brand:"",version:"-1"};return Ef(r,function(n){var a=Qd(t,n);return a?(e.brand=n.id,e.version=n.versionAlias||a.version,e.version!=="-1"):!1}),e}function Qd(r,t){return Zd(r,function(e){var n=e.brand;return wf(""+t.test,n.toLowerCase())})}var Wu=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],jd=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Hu=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],tp=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],rp=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function ep(r){return!!Vi(tp,r).preset}function hb(r){var t=Jd(r),e=!!/mobi/g.exec(t),n={name:"unknown",version:"-1",majorVersion:-1,webview:ep(t),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},a={name:"unknown",version:"-1",majorVersion:-1},s=Vi(Wu,t),u=s.preset,f=s.version,l=Vi(rp,t),v=l.preset,d=l.version,h=Vi(jd,t);if(n.chromium=!!h.preset,n.chromiumVersion=h.version,!n.chromium){var p=Vi(Hu,t);n.webkit=!!p.preset,n.webkitVersion=p.version}return v&&(a.name=v.id,a.version=d,a.majorVersion=parseInt(d,10)),u&&(n.name=u.id,n.version=f,n.webview&&a.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:a,isMobile:e,isHints:!1}}function gb(r){var t=navigator.userAgentData,e=(t.uaList||t.brands).slice(),n=r&&r.fullVersionList,a=t.mobile||!1,s=e[0],u=(r&&r.platform||t.platform||navigator.platform).toLowerCase(),f={name:s.brand,version:s.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Yi(tp,e).brand||ep(Jd())},l={name:"unknown",version:"-1",majorVersion:-1};f.webkit=!f.chromium&&Ef(Hu,function(_){return Qd(e,_)});var v=Yi(jd,e);if(f.chromium=!!v.brand,f.chromiumVersion=v.version,!f.chromium){var d=Yi(Hu,e);f.webkit=!!d.brand,f.webkitVersion=d.version}var h=Zd(rp,function(_){return new RegExp(""+_.test,"g").exec(u)});if(l.name=h?h.id:"",r&&(l.version=r.platformVersion),n&&n.length){var p=Yi(Wu,n);f.name=p.brand||f.name,f.version=p.version||f.version}else{var m=Yi(Wu,e);f.name=m.brand||f.name,f.version=m.brand&&r?r.uaFullVersion:m.version}return f.webkit&&(l.name=a?"ios":"mac"),l.name==="ios"&&f.webview&&(f.version="-1"),l.version=ku(l.version),f.version=ku(f.version),l.majorVersion=parseInt(l.version,10),f.majorVersion=parseInt(f.version,10),{browser:f,os:l,isMobile:a,isHints:!0}}function mb(r){return typeof r>"u"&&db()?gb():hb(r)}function _b(r,t,e,n,a,s){for(var u=0;u<a;++u){var f=e+u*a,l=n+u*a;r[f]+=r[l]*s,t[f]+=t[l]*s}}function xb(r,t,e,n,a){for(var s=0;s<a;++s){var u=e+s*a,f=n+s*a,l=r[u],v=t[u];r[u]=r[f],r[f]=l,t[u]=t[f],t[f]=v}}function yb(r,t,e,n,a){for(var s=0;s<n;++s){var u=e+s*n;r[u]/=a,t[u]/=a}}function np(r,t,e){e===void 0&&(e=Math.sqrt(r.length));for(var n=r.slice(),a=0;a<e;++a)n[a*e+t-1]=0,n[(t-1)*e+a]=0;return n[(t-1)*(e+1)]=1,n}function Oe(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=r.slice(),n=nr(t),a=0;a<t;++a){var s=t*a+a;if(!Ct(e[s],gr)){for(var u=a+1;u<t;++u)if(e[t*a+u]){xb(e,n,a,u,t);break}}if(!Ct(e[s],gr))return[];yb(e,n,a,t,e[s]);for(var u=0;u<t;++u){var f=u,l=u+a*t,v=e[l];!Ct(v,gr)||a===u||_b(e,n,f,a,t,-v)}}return n}function Sb(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=[],n=0;n<t;++n)for(var a=0;a<t;++a)e[a*t+n]=r[t*n+a];return e}function ip(r,t){t===void 0&&(t=Math.sqrt(r.length));for(var e=[],n=r[t*t-1],a=0;a<t-1;++a)e[a]=r[t*(t-1)+a]/n;return e[t-1]=0,e}function bb(r,t){for(var e=nr(t),n=0;n<t-1;++n)e[t*(t-1)+n]=r[n]||0;return e}function In(r,t){for(var e=r.slice(),n=r.length;n<t-1;++n)e[n]=0;return e[t-1]=1,e}function Se(r,t,e){if(t===void 0&&(t=Math.sqrt(r.length)),t===e)return r;for(var n=nr(e),a=Math.min(t,e),s=0;s<a-1;++s){for(var u=0;u<a-1;++u)n[s*e+u]=r[s*t+u];n[(s+1)*e-1]=r[(s+1)*t-1],n[(e-1)*e+s]=r[(t-1)*t+s]}return n[e*e-1]=r[t*t-1],n}function Io(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=nr(r);return t.forEach(function(a){n=Jt(n,a,r)}),n}function Jt(r,t,e){e===void 0&&(e=Math.sqrt(r.length));var n=[],a=r.length/e,s=t.length/a;if(a){if(!s)return r}else return t;for(var u=0;u<e;++u)for(var f=0;f<s;++f){n[f*e+u]=0;for(var l=0;l<a;++l)n[f*e+u]+=r[l*e+u]*t[f*a+l]}return n}function Ht(r,t){for(var e=Math.min(r.length,t.length),n=r.slice(),a=0;a<e;++a)n[a]=n[a]+t[a];return n}function xt(r,t){for(var e=Math.min(r.length,t.length),n=r.slice(),a=0;a<e;++a)n[a]=n[a]-t[a];return n}function Eb(r,t){return t===void 0&&(t=r.length===6),t?[r[0],r[1],0,r[2],r[3],0,r[4],r[5],1]:r}function ap(r,t){return t===void 0&&(t=r.length===9),t?[r[0],r[1],r[3],r[4],r[6],r[7]]:r}function Ir(r,t,e){e===void 0&&(e=t.length);var n=Jt(r,t,e),a=n[e-1];return n.map(function(s){return s/a})}function wb(r,t){return Jt(r,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function Cb(r,t){return Jt(r,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function Db(r,t){return Jt(r,da(t,4))}function fo(r,t){var e=t[0],n=e===void 0?1:e,a=t[1],s=a===void 0?1:a,u=t[2],f=u===void 0?1:u;return Jt(r,[n,0,0,0,0,s,0,0,0,0,f,0,0,0,0,1],4)}function va(r,t){return Ir(da(t,3),In(r,3))}function Eu(r,t){var e=t[0],n=e===void 0?0:e,a=t[1],s=a===void 0?0:a,u=t[2],f=u===void 0?0:u;return Jt(r,[1,0,0,0,0,1,0,0,0,0,1,0,n,s,f,1],4)}function Gv(r,t){return Jt(r,t,4)}function da(r,t){var e=Math.cos(r),n=Math.sin(r),a=nr(t);return a[0]=e,a[1]=n,a[t]=-n,a[t+1]=e,a}function nr(r){for(var t=r*r,e=[],n=0;n<t;++n)e[n]=n%(r+1)?0:1;return e}function Cf(r,t){for(var e=nr(t),n=Math.min(r.length,t-1),a=0;a<n;++a)e[(t+1)*a]=r[a];return e}function An(r,t){for(var e=nr(t),n=Math.min(r.length,t-1),a=0;a<n;++a)e[t*(t-1)+a]=r[a];return e}function Df(r,t,e,n,a,s,u,f){var l=r[0],v=r[1],d=t[0],h=t[1],p=e[0],m=e[1],_=n[0],x=n[1],y=a[0],S=a[1],E=s[0],C=s[1],M=u[0],R=u[1],O=f[0],T=f[1],I=[l,0,d,0,p,0,_,0,v,0,h,0,m,0,x,0,1,0,1,0,1,0,1,0,0,l,0,d,0,p,0,_,0,v,0,h,0,m,0,x,0,1,0,1,0,1,0,1,-y*l,-S*l,-E*d,-C*d,-M*p,-R*p,-O*_,-T*_,-y*v,-S*v,-E*h,-C*h,-M*m,-R*m,-O*x,-T*x],P=Oe(I,8);if(!P.length)return[];var G=Jt(P,[y,S,E,C,M,R,O,T],8);return G[8]=1,Se(Sb(G),3,4)}var Ki=function(){return Ki=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ki.apply(this,arguments)};function Mb(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function na(r,t){return t===void 0&&(t=0),ei(li(r,t))}function Ob(r,t){var e=Ir(r,[t[0],t[1]||0,t[2]||0,1],4),n=e[3]||1;return[e[0]/n,e[1]/n,e[2]/n]}function ei(r){var t=Mb();return r.forEach(function(e){var n=e.matrixFunction,a=e.functionValue;n&&(t=n(t,a))}),t}function li(r,t){t===void 0&&(t=0);var e=mr(r)?r:fn(r);return e.map(function(n){var a=Id(n),s=a.prefix,u=a.value,f=null,l=s,v="";if(s==="translate"||s==="translateX"||s==="translate3d"){var d=ye(t)?Ki(Ki({},t),{"o%":t["%"]}):{"%":t,"o%":t},h=Rn(u).map(function(L,Y){return Y===0&&"x%"in d?d["%"]=t["x%"]:Y===1&&"y%"in d?d["%"]=t["y%"]:d["%"]=t["o%"],Zt(L,d)}),p=h[0],m=h[1],_=m===void 0?0:m,x=h[2],y=x===void 0?0:x;f=Eu,v=[p,_,y]}else if(s==="translateY"){var S=ye(t)?Ki({"%":t["y%"]},t):{"%":t},_=Zt(u,S);f=Eu,v=[0,_,0]}else if(s==="translateZ"){var y=parseFloat(u);f=Eu,v=[0,0,y]}else if(s==="scale"||s==="scale3d"){var E=Rn(u).map(function(L){return parseFloat(L)}),C=E[0],M=E[1],R=M===void 0?C:M,O=E[2],T=O===void 0?1:O;f=fo,v=[C,R,T]}else if(s==="scaleX"){var C=parseFloat(u);f=fo,v=[C,1,1]}else if(s==="scaleY"){var R=parseFloat(u);f=fo,v=[1,R,1]}else if(s==="scaleZ"){var T=parseFloat(u);f=fo,v=[1,1,T]}else if(s==="rotate"||s==="rotateZ"||s==="rotateX"||s==="rotateY"){var I=ua(u),P=I.unit,G=I.value,H=P==="rad"?G:G*Math.PI/180;s==="rotate"||s==="rotateZ"?(l="rotateZ",f=Db):s==="rotateX"?f=wb:s==="rotateY"&&(f=Cb),v=H}else if(s==="matrix3d")f=Gv,v=Rn(u).map(function(L){return parseFloat(L)});else if(s==="matrix"){var W=Rn(u).map(function(L){return parseFloat(L)});f=Gv,v=[W[0],W[1],0,0,W[2],W[3],0,0,0,0,1,0,W[4],W[5],0,1]}else l="";return{name:s,functionName:l,value:u,matrixFunction:f,functionValue:v}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Yu=function(r,t){return Yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Yu(r,t)};function Rb(r,t){Yu(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var op=typeof Map=="function"?void 0:function(){var r=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++r)}}(),sp=function(r){Rb(t,r);function t(e){return e===void 0&&(e=[]),r.call(this,e,op)||this}return t}(US);function Tb(r,t){return fa(r,t,op)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xu=function(){return Xu=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Xu.apply(this,arguments)};function Ib(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var s=arguments[t],u=0,f=s.length;u<f;u++,a++)n[a]=s[u];return n}var Ab=function(){function r(){this._events={}}var t=r.prototype;return t.on=function(e,n){if(ye(e))for(var a in e)this.on(a,e[a]);else this._addEvent(e,n,{});return this},t.off=function(e,n){if(!e)this._events={};else if(ye(e))for(var a in e)this.off(a);else if(!n)this._events[e]=[];else{var s=this._events[e];if(s){var u=$e(s,function(f){return f.listener===n});u>-1&&s.splice(u,1)}}return this},t.once=function(e,n){var a=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(s){a._addEvent(e,s,{once:!0})})},t.emit=function(e,n){var a=this;n===void 0&&(n={});var s=this._events[e];if(!e||!s)return!0;var u=!1;return n.eventType=e,n.stop=function(){u=!0},n.currentTarget=this,Ib(s).forEach(function(f){f.listener(n),f.once&&a.off(e,f.listener)}),!u},t.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},t._addEvent=function(e,n,a){var s=this._events;s[e]=s[e]||[];var u=s[e];u.push(Xu({listener:n},a))},r}();const $o=Ab;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vu=function(r,t){return Vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Vu(r,t)};function Pb(r,t){Vu(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ni=function(){return ni=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ni.apply(this,arguments)};function Bb(r){var t=r.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function zv(r,t){return r.addEventListener("scroll",t),function(){r.removeEventListener("scroll",t)}}function lo(r){if(r){if(Vr(r))return document.querySelector(r)}else return null;if(hf(r))return r();if(r instanceof Element)return r;if("current"in r)return r.current;if("value"in r)return r.value}var Gb=function(r){Pb(t,r);function t(){var n=r!==null&&r.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var a=n._currentOptions;n._lock||!a||n.emit("scrollDrag",{next:function(s){n.checkScroll({container:a.container,inputEvent:s})}})},n}var e=t.prototype;return e.dragStart=function(n,a){var s=lo(a.container);if(!s){this._flag=!1;return}var u=0,f=0,l=0,v=0;if(s===document.body)l=window.innerWidth,v=window.innerHeight;else{var d=s.getBoundingClientRect();u=d.top,f=d.left,l=d.width,v=d.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:u,left:f,width:l,height:v},this._prevScrollPos=this._getScrollPosition([0,0],a),this._currentOptions=a,this._registerScrollEvent(a)},e.drag=function(n,a){if(clearTimeout(this._timer),!!this._flag){var s=n.clientX,u=n.clientY,f=a.threshold,l=f===void 0?0:f,v=this,d=v._startRect,h=v._startPos;this._currentOptions=a;var p=[0,0];return d.top>u-l?(h[1]>d.top||u<h[1])&&(p[1]=-1):d.top+d.height<u+l&&(h[1]<d.top+d.height||u>h[1])&&(p[1]=1),d.left>s-l?(h[0]>d.left||s<h[0])&&(p[0]=-1):d.left+d.width<s+l&&(h[0]<d.left+d.width||s>h[0])&&(p[0]=1),!p[0]&&!p[1]?!1:this._continueDrag(ni(ni({},a),{direction:p,inputEvent:n,isDrag:!0}))}},e.checkScroll=function(n){var a=this;if(this._isWait)return!1;var s=n.prevScrollPos,u=s===void 0?this._prevScrollPos:s,f=n.direction,l=n.throttleTime,v=l===void 0?0:l,d=n.inputEvent,h=n.isDrag,p=this._getScrollPosition(f||[0,0],n),m=p[0]-u[0],_=p[1]-u[1],x=f||[m?Math.abs(m)/m:0,_?Math.abs(_)/_:0];return this._prevScrollPos=p,this._lock=!1,!m&&!_?!1:(this.emit("move",{offsetX:x[0]?m:0,offsetY:x[1]?_:0,inputEvent:d}),v&&h&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){a._continueDrag(n)},v)),!0)},e.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},e._getScrollPosition=function(n,a){var s=a.container,u=a.getScrollPosition,f=u===void 0?Bb:u;return f({container:lo(s),direction:n})},e._continueDrag=function(n){var a=this,s,u=n.container,f=n.direction,l=n.throttleTime,v=n.useScroll,d=n.isDrag,h=n.inputEvent;if(!(!this._flag||d&&this._isWait)){var p=ra(),m=Math.max(l+this._prevTime-p,0);if(m>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){a._continueDrag(n)},m),!1;this._prevTime=p;var _=this._getScrollPosition(f,n);this._prevScrollPos=_,d&&(this._isWait=!0),v||(this._lock=!0);var x={container:lo(u),direction:f,inputEvent:h};return(s=n.requestScroll)===null||s===void 0||s.call(n,x),this.emit("scroll",x),this._isWait=!1,v||this.checkScroll(ni(ni({},n),{prevScrollPos:_,direction:f,inputEvent:h}))}},e._registerScrollEvent=function(n){this._unregisterScrollEvent();var a=n.checkScrollEvent;if(a){var s=a===!0?zv:a,u=lo(n.container);a===!0&&(u===document.body||u===document.documentElement)?this._unregister=zv(window,this._onScroll):this._unregister=s(u,this._onScroll)}},e._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},t}($o);const zb=Gb;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Fb(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),a=0,t=0;t<e;t++)for(var s=arguments[t],u=0,f=s.length;u<f;u++,a++)n[a]=s[u];return n}function Xr(r){return Ct(r,gr)}function Lb(r,t){return r.every(function(e,n){return Xr(e-t[n])===0})}function Nb(r,t){return!Xr(r[0]-t[0])&&!Xr(r[1]-t[1])}function up(r){return r.length<3?0:Math.abs(NS(r.map(function(t,e){var n=r[e+1]||r[0];return t[0]*n[1]-n[0]*t[1]})))/2}function Fv(r,t){var e=t.width,n=t.height,a=t.left,s=t.top,u=Pn(r),f=u.minX,l=u.minY,v=u.maxX,d=u.maxY,h=e/(v-f),p=n/(d-l);return r.map(function(m){return[a+(m[0]-f)*h,s+(m[1]-l)*p]})}function Pn(r){var t=r.map(function(n){return n[0]}),e=r.map(function(n){return n[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,e),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,e)}}function $u(r,t,e){var n=r[0],a=r[1],s=Pn(t),u=s.minX,f=s.maxX,l=[[u,a],[f,a]],v=Ao(l[0],l[1]),d=qu(t),h=[];if(d.forEach(function(_){var x=Ao(_[0],_[1]),y=_[0];if(Lb(v,x))h.push({pos:r,line:_,type:"line"});else{var S=fp(Mf(v,x),[l,_]);S.forEach(function(E){_.some(function(C){return Nb(C,E)})?h.push({pos:E,line:_,type:"point"}):Xr(y[1]-a)!==0&&h.push({pos:E,line:_,type:"intersection"})})}}),!e&&$r(h,function(_){return _[0]===n}))return!0;var p=0,m={};return h.forEach(function(_){var x=_.pos,y=_.type,S=_.line;if(!(x[0]>n))if(y==="intersection")++p;else{if(y==="line")return;if(y==="point"){var E=$r(S,function(R){return R[1]!==a}),C=m[x[0]],M=E[1]>a?1:-1;C?C!==M&&++p:m[x[0]]=M}}}),p%2===1}function Ao(r,t){var e=r[0],n=r[1],a=t[0],s=t[1],u=a-e,f=s-n;Math.abs(u)<gr&&(u=0),Math.abs(f)<gr&&(f=0);var l=0,v=0,d=0;return u?f?(l=-f/u,v=1,d=-l*e-n):(v=1,d=-n):f&&(l=-1,d=e),[l,v,d]}function Mf(r,t){var e=r[0],n=r[1],a=r[2],s=t[0],u=t[1],f=t[2],l=e===0&&s===0,v=n===0&&u===0,d=[];if(l&&v)return[];if(l){var h=-a/n,p=-f/u;return h!==p?[]:[[-1/0,h],[1/0,h]]}else if(v){var m=-a/e,_=-f/s;return m!==_?[]:[[m,-1/0],[m,1/0]]}else if(e===0){var x=-a/n,y=-(u*x+f)/s;d=[[y,x]]}else if(s===0){var x=-f/u,y=-(n*x+a)/e;d=[[y,x]]}else if(n===0){var y=-a/e,x=-(s*y+f)/u;d=[[y,x]]}else if(u===0){var y=-f/s,x=-(e*y+a)/n;d=[[y,x]]}else{var y=(n*f-u*a)/(u*e-n*s),x=-(e*y+a)/n;d=[[y,x]]}return d.map(function(S){return[S[0],S[1]]})}function fp(r,t){var e=t.map(function(h){return[0,1].map(function(p){return[Math.min(h[0][p],h[1][p]),Math.max(h[0][p],h[1][p])]})}),n=[];if(r.length===2){var a=r[0],s=a[0],u=a[1];if(Xr(s-r[1][0])){if(!Xr(u-r[1][1])){var v=Math.max.apply(Math,e.map(function(h){return h[0][0]})),d=Math.min.apply(Math,e.map(function(h){return h[0][1]}));if(Xr(v-d)>0)return[];n=[[v,u],[d,u]]}}else{var f=Math.max.apply(Math,e.map(function(h){return h[1][0]})),l=Math.min.apply(Math,e.map(function(h){return h[1][1]}));if(Xr(f-l)>0)return[];n=[[s,f],[s,l]]}}return n.length||(n=r.filter(function(h){var p=h[0],m=h[1];return e.every(function(_){return 0<=Xr(p-_[0][0])&&0<=Xr(_[0][1]-p)&&0<=Xr(m-_[1][0])&&0<=Xr(_[1][1]-m)})})),n.map(function(h){return[Xr(h[0]),Xr(h[1])]})}function qu(r){return Fb(r.slice(1),[r[0]]).map(function(t,e){return[r[e],t]})}function kb(r,t){var e=r.slice(),n=t.slice();Mv(e)===-1&&e.reverse(),Mv(n)===-1&&n.reverse();var a=qu(e),s=qu(n),u=a.map(function(d){return Ao(d[0],d[1])}),f=s.map(function(d){return Ao(d[0],d[1])}),l=[];u.forEach(function(d,h){var p=a[h],m=[];f.forEach(function(_,x){var y=Mf(d,_),S=fp(y,[p,s[x]]);m.push.apply(m,S.map(function(E){return{index1:h,index2:x,pos:E,type:"intersection"}}))}),m.sort(function(_,x){return Xe(p[0],_.pos)-Xe(p[0],x.pos)}),l.push.apply(l,m),$u(p[1],n)&&l.push({index1:h,index2:-1,pos:p[1],type:"inside"})}),s.forEach(function(d,h){if($u(d[1],e)){var p=!1,m=$e(l,function(_){var x=_.index2;return x===h?(p=!0,!1):!!p});m===-1&&(p=!1,m=$e(l,function(_){var x=_.index1,y=_.index2;return x===-1&&y+1===h?(p=!0,!1):!!p})),m===-1?l.push({index1:-1,index2:h,pos:d[1],type:"inside"}):l.splice(m,0,{index1:-1,index2:h,pos:d[1],type:"inside"})}});var v={};return l.filter(function(d){var h=d.pos,p=h[0]+"x"+h[1];return v[p]?!1:(v[p]=!0,!0)})}function Wb(r,t){var e=kb(r,t);return e.map(function(n){var a=n.pos;return a})}function Hb(r,t){var e=Wb(r,t);return up(e)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Uu=function(r,t){return Uu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Uu(r,t)};function Yb(r,t){Uu(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var pr=function(){return pr=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},pr.apply(this,arguments)};function Xb(r,t){var e=t[0]-r[0],n=t[1]-r[1],a=Math.atan2(n,e);return a>=0?a:a+Math.PI*2}function wu(r){return Xb([r[0].clientX,r[0].clientY],[r[1].clientX,r[1].clientY])/Math.PI*180}function Vb(r){return r.touches&&r.touches.length>=2}function co(r){return r?r.touches?qb(r.touches):[lp(r)]:[]}function $b(r){return r&&(r.type.indexOf("mouse")>-1||"button"in r)}function Lv(r,t,e){var n=e.length,a=Zi(r,n),s=a.clientX,u=a.clientY,f=a.originalClientX,l=a.originalClientY,v=Zi(t,n),d=v.clientX,h=v.clientY,p=Zi(e,n),m=p.clientX,_=p.clientY,x=s-d,y=u-h,S=s-m,E=u-_;return{clientX:f,clientY:l,deltaX:x,deltaY:y,distX:S,distY:E}}function Cu(r){return Math.sqrt(Math.pow(r[0].clientX-r[1].clientX,2)+Math.pow(r[0].clientY-r[1].clientY,2))}function qb(r){for(var t=Math.min(r.length,2),e=[],n=0;n<t;++n)e.push(lp(r[n]));return e}function lp(r){return{clientX:r.clientX,clientY:r.clientY}}function Zi(r,t){t===void 0&&(t=r.length);for(var e={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=Math.min(r.length,t),a=0;a<n;++a){var s=r[a];e.originalClientX+="originalClientX"in s?s.originalClientX:s.clientX,e.originalClientY+="originalClientY"in s?s.originalClientY:s.clientY,e.clientX+=s.clientX,e.clientY+=s.clientY}return t?{clientX:e.clientX/t,clientY:e.clientY/t,originalClientX:e.originalClientX/t,originalClientY:e.originalClientY/t}:e}var Du=function(){function r(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return r.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),wu(t)},r.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),wu(t)-wu(this.startClients)},r.prototype.getPosition=function(t,e){t===void 0&&(t=this.prevClients);var n=Lv(t||this.prevClients,this.prevClients,this.startClients),a=n.deltaX,s=n.deltaY;return this.movement+=Math.sqrt(a*a+s*s),this.prevClients=t,n},r.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);for(var e=this.prevClients,n=this.startClients,a=Math.min(this.length,e.length),s=[],u=0;u<a;++u)s[u]=Lv([t[u]],[e[u]],[n[u]]);return s},r.prototype.getMovement=function(t){var e=this.movement;if(!t)return e;var n=Zi(t,this.length),a=Zi(this.prevClients,this.length),s=n.clientX-a.clientX,u=n.clientY-a.clientY;return Math.sqrt(s*s+u*u)+e},r.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),Cu(t)},r.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),Cu(t)/Cu(this.startClients)},r.prototype.move=function(t,e){this.startClients.forEach(function(n){n.clientX-=t,n.clientY-=e}),this.prevClients.forEach(function(n){n.clientX-=t,n.clientY-=e})},r}(),Nv=["textarea","input"],Ub=function(r){Yb(t,r);function t(e,n){n===void 0&&(n={});var a=r.call(this)||this;a.options={},a.flag=!1,a.pinchFlag=!1,a.data={},a.isDrag=!1,a.isPinch=!1,a.clientStores=[],a.targets=[],a.prevTime=0,a.doubleFlag=!1,a._useMouse=!1,a._useTouch=!1,a._useDrag=!1,a._dragFlag=!1,a._isTrusted=!1,a._isMouseEvent=!1,a._isSecondaryButton=!1,a._preventMouseEvent=!1,a._prevInputEvent=null,a._isDragAPI=!1,a._isIdle=!0,a._preventMouseEventId=0,a._window=window,a.onDragStart=function(p,m){if(m===void 0&&(m=!0),!(!a.flag&&p.cancelable===!1)){var _=p.type.indexOf("drag")>=-1;if(!(a.flag&&_)){a._isDragAPI=!0;var x=a.options,y=x.container,S=x.pinchOutside,E=x.preventWheelClick,C=x.preventRightClick,M=x.preventDefault,R=x.checkInput,O=x.dragFocusedInput,T=x.preventClickEventOnDragStart,I=x.preventClickEventOnDrag,P=x.preventClickEventByCondition,G=a._useTouch,H=!a.flag;if(a._isSecondaryButton=p.which===3||p.button===2,E&&(p.which===2||p.button===1)||C&&(p.which===3||p.button===2))return a.stop(),!1;if(H){var W=a._window.document.activeElement,L=p.target;if(L){var Y=L.tagName.toLowerCase(),X=Nv.indexOf(Y)>-1,j=L.isContentEditable;if(X||j){if(R||!O&&W===L)return!1;if(W&&(W===L||j&&W.isContentEditable&&W.contains(L)))if(O)L.blur();else return!1}else if((M||p.type==="touchstart")&&W){var tt=W.tagName.toLowerCase();(W.isContentEditable||Nv.indexOf(tt)>-1)&&W.blur()}(T||I||P)&&Or(a._window,"click",a._onClick,!0)}a.clientStores=[new Du(co(p))],a._isIdle=!1,a.flag=!0,a.isDrag=!1,a._isTrusted=m,a._dragFlag=!0,a._prevInputEvent=p,a.data={},a.doubleFlag=ra()-a.prevTime<200,a._isMouseEvent=$b(p),!a._isMouseEvent&&a._preventMouseEvent&&a._allowMouseEvent();var U=a._preventMouseEvent||a.emit("dragStart",pr(pr({data:a.data,datas:a.data,inputEvent:p,isMouseEvent:a._isMouseEvent,isSecondaryButton:a._isSecondaryButton,isTrusted:m,isDouble:a.doubleFlag},a.getCurrentStore().getPosition()),{preventDefault:function(){p.preventDefault()},preventDrag:function(){a._dragFlag=!1}}));U===!1&&a.stop(),a._isMouseEvent&&a.flag&&M&&p.preventDefault()}if(!a.flag)return!1;var nt=0;if(H?(a._attchDragEvent(),G&&S&&(nt=setTimeout(function(){Or(y,"touchstart",a.onDragStart,{passive:!1})}))):G&&S&&yr(y,"touchstart",a.onDragStart),a.flag&&Vb(p)){if(clearTimeout(nt),H&&p.touches.length!==p.changedTouches.length)return;a.pinchFlag||a.onPinchStart(p)}}}},a.onDrag=function(p,m){if(a.flag){var _=a.options.preventDefault;!a._isMouseEvent&&_&&p.preventDefault(),a._prevInputEvent=p;var x=co(p),y=a.moveClients(x,p,!1);if(a._dragFlag){if(a.pinchFlag||y.deltaX||y.deltaY){var S=a._preventMouseEvent||a.emit("drag",pr(pr({},y),{isScroll:!!m,inputEvent:p}));if(S===!1){a.stop();return}}a.pinchFlag&&a.onPinch(p,x)}a.getCurrentStore().getPosition(x,!0)}},a.onDragEnd=function(p){if(a.flag){var m=a.options,_=m.pinchOutside,x=m.container,y=m.preventClickEventOnDrag,S=m.preventClickEventOnDragStart,E=m.preventClickEventByCondition,C=a.isDrag;(y||S||E)&&requestAnimationFrame(function(){a._allowClickEvent()}),!E&&!S&&y&&!C&&a._allowClickEvent(),a._useTouch&&_&&yr(x,"touchstart",a.onDragStart),a.pinchFlag&&a.onPinchEnd(p);var M=p!=null&&p.touches?co(p):[],R=M.length;R===0||!a.options.keepDragging?a.flag=!1:a._addStore(new Du(M));var O=a._getPosition(),T=ra(),I=!C&&a.doubleFlag;a._prevInputEvent=null,a.prevTime=C||I?0:T,a.flag||(a._dettachDragEvent(),a._preventMouseEvent||a.emit("dragEnd",pr({data:a.data,datas:a.data,isDouble:I,isDrag:C,isClick:!C,isMouseEvent:a._isMouseEvent,isSecondaryButton:a._isSecondaryButton,inputEvent:p,isTrusted:a._isTrusted},O)),a.clientStores=[],a._isMouseEvent||(a._preventMouseEvent=!0,clearTimeout(a._preventMouseEventId),a._preventMouseEventId=setTimeout(function(){a._preventMouseEvent=!1},200)),a._isIdle=!0)}},a.onBlur=function(){a.onDragEnd()},a._allowClickEvent=function(){yr(a._window,"click",a._onClick,!0)},a._onClick=function(p){a._allowClickEvent(),a._allowMouseEvent();var m=a.options.preventClickEventByCondition;m!=null&&m(p)||(p.stopPropagation(),p.preventDefault())},a._onContextMenu=function(p){var m=a.options;m.preventRightClick?a.onDragEnd(p):p.preventDefault()},a._passCallback=function(){};var s=[].concat(e),u=s[0];a._window=Ld(u)?u:un(u),a.options=pr({checkInput:!1,container:u&&!("document"in u)?un(u):u,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var f=a.options,l=f.container,v=f.events,d=f.checkWindowBlur;if(a._useDrag=v.indexOf("drag")>-1,a._useTouch=v.indexOf("touch")>-1,a._useMouse=v.indexOf("mouse")>-1,a.targets=s,a._useDrag&&s.forEach(function(p){Or(p,"dragstart",a.onDragStart)}),a._useMouse&&(s.forEach(function(p){Or(p,"mousedown",a.onDragStart),Or(p,"mousemove",a._passCallback)}),Or(l,"contextmenu",a._onContextMenu)),d&&Or(un(),"blur",a.onBlur),a._useTouch){var h={passive:!1};s.forEach(function(p){Or(p,"touchstart",a.onDragStart,h),Or(p,"touchmove",a._passCallback,h)})}return a}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},t.prototype.getMovement=function(e){return this.getCurrentStore().getMovement(e)+this.clientStores.slice(1).reduce(function(n,a){return n+a.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isIdle=function(){return this._isIdle},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(e,n,a,s){s===void 0&&(s=!0),this.flag&&(this.clientStores[0].move(e,n),s&&this.onDrag(a,!0))},t.prototype.move=function(e,n){var a=e[0],s=e[1],u=this.getCurrentStore(),f=u.prevClients;return this.moveClients(f.map(function(l){var v=l.clientX,d=l.clientY;return{clientX:v+a,clientY:d+s,originalClientX:v,originalClientY:d}}),n,!0)},t.prototype.triggerDragStart=function(e){this.onDragStart(e,!1)},t.prototype.setEventData=function(e){var n=this.data;for(var a in e)n[a]=e[a];return this},t.prototype.setEventDatas=function(e){return this.setEventData(e)},t.prototype.getCurrentEvent=function(e){return e===void 0&&(e=this._prevInputEvent),pr(pr({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var e=this,n=this.targets,a=this.options.container;this.off(),yr(this._window,"blur",this.onBlur),this._useDrag&&n.forEach(function(s){yr(s,"dragstart",e.onDragStart)}),this._useMouse&&(n.forEach(function(s){yr(s,"mousedown",e.onDragStart)}),yr(a,"contextmenu",this._onContextMenu)),this._useTouch&&(n.forEach(function(s){yr(s,"touchstart",e.onDragStart)}),yr(a,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(e){var n=this,a=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>a)){var s=new Du(co(e));this.pinchFlag=!0,this._addStore(s);var u=this.emit("pinchStart",pr(pr({data:this.data,datas:this.data,angle:s.getAngle(),touches:this.getCurrentStore().getPositions()},s.getPosition()),{inputEvent:e,isTrusted:this._isTrusted,preventDefault:function(){e.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));u===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(e,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var a=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",pr(pr({data:this.data,datas:this.data,movement:this.getMovement(n),angle:a.getAngle(n),rotation:a.getRotation(n),touches:a.getPositions(n),scale:a.getScale(n),distance:a.getDistance(n)},a.getPosition(n)),{inputEvent:e,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(e){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var a=this.getCurrentStore();this.emit("pinchEnd",pr(pr({data:this.data,datas:this.data,isPinch:n,touches:a.getPositions()},a.getPosition()),{inputEvent:e}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(e,n,a){var s=this._getPosition(e,a),u=this.isDrag;(s.deltaX||s.deltaY)&&(this.isDrag=!0);var f=!1;return!u&&this.isDrag&&(f=!0),pr(pr({data:this.data,datas:this.data},s),{movement:this.getMovement(e),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:f})},t.prototype._addStore=function(e){this.clientStores.splice(0,0,e)},t.prototype._getPosition=function(e,n){var a=this.getCurrentStore(),s=a.getPosition(e,n),u=this.clientStores.slice(1).reduce(function(v,d){var h=d.getPosition();return v.distX+=h.distX,v.distY+=h.distY,v},s),f=u.distX,l=u.distY;return pr(pr({},s),{distX:f,distY:l})},t.prototype._attchDragEvent=function(){var e=this._window,n=this.options.container,a={passive:!1};this._isDragAPI&&(Or(n,"dragover",this.onDrag,a),Or(e,"dragend",this.onDragEnd)),this._useMouse&&(Or(n,"mousemove",this.onDrag),Or(e,"mouseup",this.onDragEnd)),this._useTouch&&(Or(n,"touchmove",this.onDrag,a),Or(e,"touchend",this.onDragEnd,a),Or(e,"touchcancel",this.onDragEnd,a))},t.prototype._dettachDragEvent=function(){var e=this._window,n=this.options.container;this._isDragAPI&&(yr(n,"dragover",this.onDrag),yr(e,"dragend",this.onDragEnd)),this._useMouse&&(yr(n,"mousemove",this.onDrag),yr(e,"mouseup",this.onDragEnd)),this._useTouch&&(yr(n,"touchstart",this.onDragStart),yr(n,"touchmove",this.onDrag),yr(e,"touchend",this.onDragEnd),yr(e,"touchcancel",this.onDragEnd))},t.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},t}($o);function Kb(r){for(var t=5381,e=r.length;e;)t=t*33^r.charCodeAt(--e);return t>>>0}var Zb=Kb;function Jb(r){return Zb(r).toString(36)}function Qb(r){if(r&&r.getRootNode){var t=r.getRootNode();if(t.nodeType===11)return t}}function jb(r,t,e){return e.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,a){var s=a.trim();return(s?Rn(s):[""]).map(function(u){var f=u.trim();return f.indexOf("@")===0?f:f.indexOf(":global")>-1?f.replace(/\:global/g,""):f.indexOf(":host")>-1?"".concat(f.replace(/\:host/g,".".concat(r))):f?".".concat(r," ").concat(f):".".concat(r)}).join(", ")+" {"})}function tE(r,t,e,n,a){var s=gi(n),u=s.createElement("style");return u.setAttribute("type","text/css"),u.setAttribute("data-styled-id",r),u.setAttribute("data-styled-count","1"),e.nonce&&u.setAttribute("nonce",e.nonce),u.innerHTML=jb(r,t,e),(a||s.head||s.body).appendChild(u),u}function rE(r){var t="rCS"+Jb(r);return{className:t,inject:function(e,n){n===void 0&&(n={});var a=Qb(e),s=(a||e.ownerDocument||document).querySelector('style[data-styled-id="'.concat(t,'"]'));if(!s)s=tE(t,r,n,e,a);else{var u=parseFloat(s.getAttribute("data-styled-count"))||0;s.setAttribute("data-styled-count","".concat(u+1))}return{destroy:function(){var f,l=parseFloat(s.getAttribute("data-styled-count"))||0;l<=1?(s.remove?s.remove():(f=s.parentNode)===null||f===void 0||f.removeChild(s),s=null):s.setAttribute("data-styled-count","".concat(l-1))}}}}}var Ku=function(){return Ku=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ku.apply(this,arguments)};function eE(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function cp(r,t){var e=rE(t),n=e.className;return QS(function(a,s){var u=a.className,f=u===void 0?"":u;a.cspNonce;var l=eE(a,["className","cspNonce"]),v=cb();return vb(s,function(){return v.current},[]),Kd(function(){var d=e.inject(v.current,{nonce:a.cspNonce});return function(){d.destroy()}},[]),_e(r,Ku({ref:v,"data-styled-id":n,className:"".concat(f," ").concat(n)},l))})}var Zu=function(r,t){return Zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},Zu(r,t)};function pa(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zu(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var B=function(){return B=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},B.apply(this,arguments)};function nE(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(e[n[a]]=r[n[a]]);return e}function iE(r,t,e,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(s=(a<3?u(s):a>3?u(t,e,s):u(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s}function aE(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),a,s=[],u;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(f){u={error:f}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(u)throw u.error}}return s}function rt(r,t,e){if(e||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))}function ha(r,t){return B({events:[],props:[],name:r},t)}var oE=["n","w","s","e"],Of=["n","w","s","e","nw","ne","sw","se"];function sE(r,t){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*r,'px" height="').concat(32*r,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(t,'deg);transform-origin: 16px 16px"></path></svg>')}function uE(r){var t=sE(1,r),e=Math.round(r/45)*45%180,n="ns-resize";return e===135?n="nwse-resize":e===45?n="nesw-resize":e===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(t,"') 16 16, ").concat(n,";")}var _i=mb(),vp=_i.browser.webkit,dp=vp&&function(){var r=typeof window>"u"?{userAgent:""}:window.navigator,t=/applewebkit\/([^\s]+)/g.exec(r.userAgent.toLowerCase());return t?parseFloat(t[1])<605:!1}(),pp=_i.browser.name,hp=parseInt(_i.browser.version,10),fE=pp==="chrome",lE=_i.browser.chromium,cE=parseInt(_i.browser.chromiumVersion,10)||0,vE=fE&&hp>=109||lE&&cE>=109,dE=pp==="firefox",pE=parseInt(_i.browser.webkitVersion,10)>=612||hp>=15,Rf="moveable-",hE=Of.map(function(r){var t="",e="",n="center",a="center",s="calc(var(--moveable-control-padding, 20) * -1px)";return r.indexOf("n")>-1&&(t="top: ".concat(s,";"),a="bottom"),r.indexOf("s")>-1&&(t="top: 0px;",a="top"),r.indexOf("w")>-1&&(e="left: ".concat(s,";"),n="right"),r.indexOf("e")>-1&&(e="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(r,`"] {
        `).concat(e).concat(t,`
        transform-origin: `).concat(n," ").concat(a,`;
    }`)}).join(`
`),gE=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(hE,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(r){return`
.direction[data-rotation="`.concat(r,'"], :global .view-control-rotation').concat(r,` {
`).concat(uE(r),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(dp?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),mE=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Ju=1e-4,Lr=1e-7,vo=1e-9,Qu=Math.pow(10,10),kv=-Qu,_E={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},Tf={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},gp={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},mp=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function ga(r,t,e,n,a,s){var u,f;s===void 0&&(s="draggable");var l=(f=(u=t.gestos[s])===null||u===void 0?void 0:u.move(e,r.inputEvent))!==null&&f!==void 0?f:{},v=l.originalDatas||l.datas,d=v[s]||(v[s]={});return B(B({},a?ah(t,l):l),{isPinch:!!n,parentEvent:!0,datas:d,originalDatas:r.originalDatas})}var ci=function(){function r(t){var e;t===void 0&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(e={},e[t]={},e)}return r.prototype.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),B(B({},this.move(t,e.inputEvent)),{type:"dragstart"})},r.prototype.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},r.prototype.move=function(t,e){var n,a,s=!1;if(!this.isFlag)this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],a=t[1],this.isFlag=!0;else{var u=this.isDrag;n=this.prevX+t[0],a=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0),!u&&this.isDrag&&(s=!0)}return this.prevX=n,this.prevY=a,{type:"drag",clientX:n,clientY:a,inputEvent:e,isFirstDrag:s,isDrag:this.isDrag,distX:n-this.startX,distY:a-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},r}();function ui(r,t,e,n){var a=r.length===16,s=a?4:3,u=Fn(r,e,n,s),f=F(u,4),l=F(f[0],2),v=l[0],d=l[1],h=F(f[1],2),p=h[0],m=h[1],_=F(f[2],2),x=_[0],y=_[1],S=F(f[3],2),E=S[0],C=S[1],M=F(or(r,t,s),2),R=M[0],O=M[1],T=Math.min(v,p,x,E),I=Math.min(d,m,y,C),P=Math.max(v,p,x,E),G=Math.max(d,m,y,C);v=v-T||0,p=p-T||0,x=x-T||0,E=E-T||0,d=d-I||0,m=m-I||0,y=y-I||0,C=C-I||0,R=R-T||0,O=O-I||0;var H=r[0],W=r[s+1],L=zr(H*W);return{left:T,top:I,right:P,bottom:G,origin:[R,O],pos1:[v,d],pos2:[p,m],pos3:[x,y],pos4:[E,C],direction:L}}function _p(r,t){var e=t.clientX,n=t.clientY,a=t.datas,s=r.state,u=s.moveableClientRect,f=s.rootMatrix,l=s.is3d,v=s.pos1,d=u.left,h=u.top,p=l?4:3,m=F(xt(pi(f,[e-d,n-h],p),v),2),_=m[0],x=m[1],y=F(Re({datas:a,distX:_,distY:x}),2),S=y[0],E=y[1];return[S,E]}function zn(r,t){var e=t.datas,n=r.state,a=n.allMatrix,s=n.beforeMatrix,u=n.is3d,f=n.left,l=n.top,v=n.origin,d=n.offsetMatrix,h=n.targetMatrix,p=n.transformOrigin,m=u?4:3;e.is3d=u,e.matrix=a,e.targetMatrix=h,e.beforeMatrix=s,e.offsetMatrix=d,e.transformOrigin=p,e.inverseMatrix=Oe(a,m),e.inverseBeforeMatrix=Oe(s,m),e.absoluteOrigin=In(Ht([f,l],v),m),e.startDragBeforeDist=Ir(e.inverseBeforeMatrix,e.absoluteOrigin,m),e.startDragDist=Ir(e.inverseMatrix,e.absoluteOrigin,m)}function xE(r){return ui(r.datas.beforeTransform,[50,50],100,100).direction}function qo(r,t,e){var n=t.datas,a=t.originalDatas.beforeRenderable,s=n.transformIndex,u=a.nextTransforms,f=u.length,l=a.nextTransformAppendedIndexes,v=-1;s===-1?(e==="translate"?v=0:e==="rotate"&&(v=$e(u,function(m){return m.match(/scale\(/g)})),v===-1&&(v=u.length),n.transformIndex=v):$r(l,function(m){return m.index===s&&m.functionName===e})?v=s:v=s+l.filter(function(m){return m.index<s}).length;var d=Xw(u,r.state,v),h=d.targetFunction,p=e==="rotate"?"rotateZ":e;n.beforeFunctionTexts=d.beforeFunctionTexts,n.afterFunctionTexts=d.afterFunctionTexts,n.beforeTransform=d.beforeFunctionMatrix,n.beforeTransform2=d.beforeFunctionMatrix2,n.targetTansform=d.targetFunctionMatrix,n.afterTransform=d.afterFunctionMatrix,n.afterTransform2=d.afterFunctionMatrix2,n.targetAllTransform=d.allFunctionMatrix,h.functionName===p?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):f>v&&(n.isAppendTransform=!0,a.nextTransformAppendedIndexes=rt(rt([],F(l),!1),[{functionName:e,index:v,isAppend:!0}],!1))}function Uo(r,t,e){return"".concat(r.beforeFunctionTexts.join(" ")," ").concat(r.isAppendTransform?e:t," ").concat(r.afterFunctionTexts.join(" "))}function yE(r){var t=r.datas,e=r.distX,n=r.distY,a=F(yp({datas:t,distX:e,distY:n}),2),s=a[0],u=a[1],f=xp(t,bb([s,u],4));return Ir(f,In([0,0,0],4),4)}function xp(r,t,e){var n=r.beforeTransform,a=r.afterTransform,s=r.beforeTransform2,u=r.afterTransform2,f=r.targetAllTransform,l=e?Jt(f,t,4):Jt(t,f,4),v=Jt(Oe(e?s:n,4),l,4),d=Jt(v,Oe(e?u:a,4),4);return d}function yp(r){var t=r.datas,e=r.distX,n=r.distY,a=t.inverseBeforeMatrix,s=t.is3d,u=t.startDragBeforeDist,f=t.absoluteOrigin,l=s?4:3;return xt(Ir(a,Ht(f,[e,n]),l),u)}function Re(r,t){var e=r.datas,n=r.distX,a=r.distY,s=e.inverseBeforeMatrix,u=e.inverseMatrix,f=e.is3d,l=e.startDragBeforeDist,v=e.startDragDist,d=e.absoluteOrigin,h=f?4:3;return xt(Ir(t?s:u,Ht(d,[n,a]),h),t?l:v)}function SE(r,t){var e=r.datas,n=r.distX,a=r.distY,s=e.beforeMatrix,u=e.matrix,f=e.is3d,l=e.startDragBeforeDist,v=e.startDragDist,d=e.absoluteOrigin,h=f?4:3;return xt(Ir(t?s:u,Ht(t?l:v,[n,a]),h),d)}function bE(r,t,e,n,a,s){return n===void 0&&(n=t),a===void 0&&(a=e),s===void 0&&(s=[0,0]),r?r.map(function(u,f){var l=ua(u),v=l.value,d=l.unit,h=f?a:n,p=f?e:t;if(u==="%"||isNaN(v)){var m=h?s[f]/h:0;return p*m}else if(d!=="%")return v;return p*v/100}):s}function Sp(r){var t=[];return r[1]>=0&&(r[0]>=0&&t.push(3),r[0]<=0&&t.push(2)),r[1]<=0&&(r[0]>=0&&t.push(1),r[0]<=0&&t.push(0)),t}function EE(r,t){return Sp(t).map(function(e){return r[e]})}function Mu(r,t){var e=(t+1)/2;return[Ro(r[0][0],r[1][0],e,1-e),Ro(r[0][1],r[1][1],e,1-e)]}function Er(r,t){var e=Mu([r[0],r[1]],t[0]),n=Mu([r[2],r[3]],t[0]);return Mu([e,n],t[1])}function wE(r,t,e,n,a,s){var u=Fn(t,e,n,a),f=Er(u,s),l=r[0]-f[0],v=r[1]-f[1];return[l,v]}function ma(r,t,e,n){return Jt(r,Qi(t,n,e),n)}function CE(r,t,e,n){var a=r.transformOrigin,s=r.offsetMatrix,u=r.is3d,f=u?4:3,l;if(Vr(e)){var v=t.beforeTransform,d=t.afterTransform;n?l=Se(na(e),4,f):l=Se(Jt(Jt(v,na([e]),4),d,4),4,f)}else l=e;return ma(s,l,a,f)}function DE(r,t){var e=r.transformOrigin,n=r.offsetMatrix,a=r.is3d,s=r.targetMatrix,u=r.targetAllTransform,f=a?4:3;return ma(n,Jt(u||s,Cf(t,f),f),e,f)}function Ko(r,t){var e=xi(t);return{setTransform:function(n,a){a===void 0&&(a=-1),e.startTransforms=mr(n)?n:fn(n),ju(r,t,a)},setTransformIndex:function(n){ju(r,t,n)}}}function Zo(r,t,e){var n=xi(t),a=n.startTransforms;ju(r,t,$e(a,function(s){return s.indexOf("".concat(e,"("))===0}))}function ju(r,t,e){var n=xi(t),a=t.datas;if(a.transformIndex=e,e!==-1){var s=n.startTransforms[e];if(s){var u=r.state,f=li([s],{"x%":function(l){return l/100*u.offsetWidth},"y%":function(l){return l/100*u.offsetHeight}});a.startValue=f[0].functionValue}}}function If(r,t){var e=xi(r);e.nextTransforms=fn(t)}function xi(r){return r.originalDatas.beforeRenderable}function Po(r){var t=r.originalDatas.beforeRenderable;return t.nextTransforms}function po(r){return(Po(r)||[]).join(" ")}function ho(r){return xi(r).nextStyle}function bp(r,t,e,n,a){If(a,t);var s=Gr.drag(r,ga(a,r.state,e,n,!1)),u=s?s.transform:t;return B(B({transform:t,drag:s},Fr({transform:u},a)),{afterTransform:u})}function Af(r,t,e,n,a,s){var u=CE(r.state,a,t,s),f=RE(r,e,n,u);return f}function Ep(r,t,e,n,a,s,u){var f=Af(r,t,e,a,s,u),l=r.state,v=l.left,d=l.top,h=r.props.groupable,p=h?v:0,m=h?d:0,_=xt(n,f);return xt(_,[p,m])}function ME(r,t,e,n,a,s,u){var f=Ep(r,t,e,n,a,s,u);return f}function OE(r,t,e){return[t?-1+r[0]/(t/2):0,e?-1+r[1]/(e/2):0]}function RE(r,t,e,n){n===void 0&&(n=r.state.allMatrix);var a=r.state,s=a.width,u=a.height,f=a.is3d,l=f?4:3,v=[s/2*(1+t[0])+e[0],u/2*(1+t[1])+e[1]];return or(n,v,l)}function TE(r,t,e){var n=e.fixedDirection,a=e.fixedPosition,s=e.fixedOffset;return Ep(r,"rotate(".concat(t,"deg)"),n,a,s,e)}function IE(r,t,e,n,a,s){var u=r.props.groupable,f=r.state,l=f.transformOrigin,v=f.offsetMatrix,d=f.is3d,h=f.width,p=f.height,m=f.left,_=f.top,x=s.fixedDirection,y=s.nextTargetMatrix||f.targetMatrix,S=d?4:3,E=bE(a,t,e,h,p,l),C=u?m:0,M=u?_:0,R=ma(v,y,E,S),O=wE(n,R,t,e,S,x);return xt(O,[C,M])}function AE(r,t){return Er(ve(r.state),t)}function PE(r,t){var e=r.targetGesto,n=r.controlGesto,a;return e!=null&&e.isFlag()&&(a=e.getEventData()[t]),!a&&(n!=null&&n.isFlag())&&(a=n.getEventData()[t]),a||{}}function BE(r){if(r&&r.getRootNode){var t=r.getRootNode();if(t.nodeType===11)return t}}function GE(r){var t=r("scale"),e=r("rotate"),n=r("translate"),a=[];return n&&n!=="0px"&&n!=="none"&&a.push("translate(".concat(n.split(/\s+/).join(","),")")),e&&e!=="1"&&e!=="none"&&a.push("rotate(".concat(e,")")),t&&t!=="1"&&t!=="none"&&a.push("scale(".concat(t.split(/\s+/).join(","),")")),a}function wp(r,t,e){for(var n=r,a=[],s=_f(r)||vn(r),u=!e&&r===t||r===s,f=u,l=!1,v=3,d,h,p,m=!1,_=aa(t,t,!0).offsetParent,x=1;n&&!f;){f=u;var y=qr(n),S=y("position"),E=Up(n),C=S==="fixed",M=GE(y),R=Eb(Aw(E)),O=void 0,T=!1,I=!1,P=0,G=0,H=0,W=0,L={hasTransform:!1,fixedContainer:null};C&&(m=!0,L=Fw(n),_=L.fixedContainer);var Y=R.length;!l&&(Y===16||M.length)&&(l=!0,v=4,of(a),p&&(p=Se(p,3,4))),l&&Y===9&&(R=Se(R,3,4));var X=zw(n,r),j=X.tagName,tt=X.hasOffset,U=X.isSVG,nt=X.origin,et=X.targetOrigin,$=X.offset,st=F($,2),lt=st[0],ot=st[1];j==="svg"&&!n.ownerSVGElement&&p&&(a.push({type:"target",target:n,matrix:Lw(n,v)}),a.push({type:"offset",target:n,matrix:nr(v)}));var ut=parseFloat(y("zoom"))||1;if(C)O=L.fixedContainer,T=!0;else{var it=aa(n,t,!1,!0,y),vt=it.offsetZoom;if(O=it.offsetParent,T=it.isEnd,I=it.isStatic,x*=vt,(it.isCustomElement||vt!==1)&&I)lt-=O.offsetLeft,ot-=O.offsetTop;else if(dE||vE){var ht=it.parentSlotElement;if(ht){for(var wt=O,Ft=0,at=0;wt&&BE(wt);)Ft+=wt.offsetLeft,at+=wt.offsetTop,wt=wt.offsetParent;lt-=Ft,ot-=at}}}if(vp&&!pE&&tt&&!U&&I&&(S==="relative"||S==="static")&&(lt-=O.offsetLeft,ot-=O.offsetTop,u=u||T),C)tt&&L.hasTransform&&(H=O.clientLeft,W=O.clientTop);else if(tt&&_!==O&&(P=O.clientLeft,G=O.clientTop),tt&&O===s){var pt=Kp(n,!1);lt+=pt[0],ot+=pt[1]}if(a.push({type:"target",target:n,matrix:Qi(R,v,nt)}),M.length&&(a.push({type:"offset",target:n,matrix:nr(v)}),a.push({type:"target",target:n,matrix:Qi(na(M),v,nt)})),tt){var Wt=n===r,mt=Wt?0:n.scrollLeft,Et=Wt?0:n.scrollTop;a.push({type:"offset",target:n,matrix:An([lt-mt+P-H,ot-Et+G-W],v)})}else a.push({type:"offset",target:n,origin:nt});if(ut!==1&&a.push({type:"zoom",target:n,matrix:Qi(Cf([ut,ut],v),v,[0,0])}),p||(p=R),d||(d=nt),h||(h=et),f||C)break;n=O,u=T,(!e||n===s)&&(f=u)}return p||(p=nr(v)),d||(d=[0,0]),h||(h=[0,0]),{zoom:x,offsetContainer:_,matrixes:a,targetMatrix:p,transformOrigin:d,targetOrigin:h,is3d:l,hasFixed:m}}var Cn=null,Dn=null,ii=null;function vi(r){r?(window.Map&&(Cn=new Map,Dn=new Map),ii=[]):(Cn=null,ii=null,Dn=null)}function zE(r){var t=Dn==null?void 0:Dn.get(r);if(t)return t;var e=ji(r,!0);return Dn&&Dn.set(r,e),e}function FE(r,t){if(ii){var e=$r(ii,function(a){return a[0][0]==r&&a[0][1]==t});if(e)return e[1]}var n=wp(r,t,!0);return ii&&ii.push([[r,t],n]),n}function qr(r){var t=Cn==null?void 0:Cn.get(r);if(!t){var e=un(r).getComputedStyle(r);if(!Cn)return function(s){return e[s]};t={style:e,cached:{}},Cn.set(r,t)}var n=t.cached,a=t.style;return function(s){return s in n||(n[s]=a[s]),n[s]}}function xe(r,t,e){var n=e.originalDatas;n.groupable=n.groupable||{};var a=n.groupable;a.childDatas=a.childDatas||[];var s=a.childDatas;return r.moveables.map(function(u,f){return s[f]=s[f]||{},s[f][t]=s[f][t]||{},B(B({},e),{isRequestChild:!0,datas:s[f][t],originalDatas:s[f]})})}function Ou(r,t,e,n,a,s,u){var f=!!e.match(/Start$/g),l=!!e.match(/End$/g),v=a.isPinch,d=a.datas,h=xe(r,t.name,a),p=r.moveables,m=[],_=h.map(function(x,y){var S=p[y],E=S.state,C=E.gestos,M=x;if(f)M=new ci(u).dragStart(n,x),m.push(M);else{if(C[u]||(C[u]=d.childGestos[y]),!C[u])return;M=ga(x,E,n,v,s,u),m.push(M)}var R=t[e](S,B(B({},M),{parentFlag:!0}));return l&&(C[u]=null),R});return f&&(d.childGestos=p.map(function(x){return x.state.gestos[u]})),{eventParams:_,childEvents:m}}function Ve(r,t,e,n,a,s){a===void 0&&(a=function(d,h){return h});var u=!!e.match(/End$/g),f=xe(r,t.name,n),l=r.moveables,v=f.map(function(d,h){var p=l[h],m=d;m=a(p,d);var _=t[e](p,B(B({},m),{parentFlag:!0}));return _&&s&&s(p,d,_,h),u&&(p.state.gestos={}),_});return v}function Bo(r,t,e,n){var a=e.fixedDirection,s=e.fixedPosition,u=n.datas.startPositions||ve(t.state),f=Er(u,a),l=F(Ir(da(-r.rotation/180*Math.PI,3),[f[0]-s[0],f[1]-s[1],1],3),2),v=l[0],d=l[1];return n.datas.originalX=v,n.datas.originalY=d,n}function Cp(r,t,e,n){var a=r.getState(),s=a.renderPoses,u=a.rotation,f=a.direction,l=Bn(r.props,t).zoom,v=Ji(u/Math.PI*180),d={},h=r.renderState;h.renderDirectionMap||(h.renderDirectionMap={});var p=h.renderDirectionMap;e.forEach(function(_){var x=_.dir;d[x]=!0});var m=zr(f);return e.map(function(_){var x=_.data,y=_.classNames,S=_.dir,E=Tf[S];if(!E||!d[S])return null;p[S]=!0;var C=(Ct(v,15)+m*gp[S]+720)%180,M={};return qe(x).forEach(function(R){M["data-".concat(R)]=x[R]}),n.createElement("div",B({className:_t.apply(void 0,rt(["control","direction",S,t],F(y),!1)),"data-rotation":C,"data-direction":S},M,{key:"direction-".concat(S),style:Lo.apply(void 0,rt([u,l],F(E.map(function(R){return s[R]})),!1))}))})}function Dp(r,t,e,n){var a=Bn(r.props,e),s=a.renderDirections,u=s===void 0?t:s,f=a.displayAroundControls;if(!u)return[];var l=u===!0?Of:u;return rt(rt([],F(f?Tp(r,n,e,l):[]),!1),F(Cp(r,e,l.map(function(v){return{data:{},classNames:[],dir:v}}),n)),!1)}function ia(r,t,e,n,a,s){for(var u=[],f=6;f<arguments.length;f++)u[f-6]=arguments[f];var l=dr(e,n),v=t?Ct(l/Math.PI*180,15)%180:-1;return r.createElement("div",{key:"line-".concat(s),className:_t.apply(void 0,rt(["line","direction",t?"edge":"",t],F(u),!1)),"data-rotation":v,"data-line-key":s,"data-direction":t,style:qi(e,n,a,l)})}function Mp(r,t,e,n,a){var s=e===!0?oE:e;return s.map(function(u,f){var l=F(Tf[u],2),v=l[0],d=l[1];if(d!=null)return ia(r,u,n[v],n[d],a,"".concat(t,"Edge").concat(f),t)}).filter(Boolean)}function Op(r){return function(t,e){var n=Bn(t.props,r).edge;return n&&(n===!0||n.length)?rt(rt([],F(Mp(e,r,n,t.getState().renderPoses,t.props.zoom)),!1),F(LE(t,r,e)),!1):Rp(t,r,e)}}function Rp(r,t,e){return Dp(r,Of,t,e)}function LE(r,t,e){return Dp(r,["nw","ne","sw","se"],t,e)}function Tp(r,t,e,n){var a=r.renderState;a.renderDirectionMap||(a.renderDirectionMap={});var s=r.getState(),u=s.renderPoses,f=s.rotation,l=s.direction,v=a.renderDirectionMap,d=r.props.zoom,h=zr(l),p=f/Math.PI*180;return(n||qe(v)).map(function(m){var _=Tf[m];if(!_)return null;var x=(Ct(p,15)+h*gp[m]+720)%180,y=["around-control"];return e&&y.push("direction",e),t.createElement("div",{className:_t.apply(void 0,rt([],F(y),!1)),"data-rotation":x,"data-direction":m,key:"direction-around-".concat(m),style:Lo.apply(void 0,rt([f,d],F(_.map(function(S){return u[S]})),!1))})})}function Pf(r,t,e){var n=r||{},a=n.position,s=a===void 0?"client":a,u=n.left,f=u===void 0?-1/0:u,l=n.top,v=l===void 0?-1/0:l,d=n.right,h=d===void 0?1/0:d,p=n.bottom,m=p===void 0?1/0:p,_={position:s,left:f,top:v,right:h,bottom:m};return{vertical:Wv(_,t,!0),horizontal:Wv(_,e,!1)}}function Jo(r,t){var e=r.state,n=e.containerClientRect,a=n.clientHeight,s=n.clientWidth,u=n.clientLeft,f=n.clientTop,l=e.snapOffset,v=l.left,d=l.top,h=l.right,p=l.bottom,m=t||r.props.bounds||{},_=m.position||"client",x=_==="css",y=m.left,S=y===void 0?-1/0:y,E=m.top,C=E===void 0?-1/0:E,M=m.right,R=M===void 0?x?-1/0:1/0:M,O=m.bottom,T=O===void 0?x?-1/0:1/0:O;return x&&(R=s+h-v-R,T=a+p-d-T),{left:S+v-u,right:R+v-u,top:C+d-f,bottom:T+d-f}}function NE(r,t,e){var n=Jo(r),a=n.left,s=n.top,u=n.right,f=n.bottom,l=F(e,2),v=l[0],d=l[1],h=F(xt(e,t),2),p=h[0],m=h[1];J(p)<Lr&&(p=0),J(m)<Lr&&(m=0);var _=m>0,x=p>0,y={isBound:!1,offset:0,pos:0},S={isBound:!1,offset:0,pos:0};if(p===0&&m===0)return{vertical:y,horizontal:S};if(p===0)_?f<d&&(S.pos=f,S.offset=d-f):s>d&&(S.pos=s,S.offset=d-s);else if(m===0)x?u<v&&(y.pos=u,y.offset=v-u):a>v&&(y.pos=a,y.offset=v-a);else{var E=m/p,C=e[1]-E*v,M=0,R=0,O=!1;x&&u<=v?(M=E*u+C,R=u,O=!0):!x&&v<=a&&(M=E*a+C,R=a,O=!0),O&&(M<s||M>f)&&(O=!1),O||(_&&f<=d?(M=f,R=(M-C)/E,O=!0):!_&&d<=s&&(M=s,R=(M-C)/E,O=!0)),O&&(y.isBound=!0,y.pos=R,y.offset=v-R,S.isBound=!0,S.pos=M,S.offset=d-M)}return{vertical:y,horizontal:S}}function Wv(r,t,e){var n=r[e?"left":"top"],a=r[e?"right":"bottom"],s=Math.min.apply(Math,rt([],F(t),!1)),u=Math.max.apply(Math,rt([],F(t),!1)),f=[];return n+1>s&&f.push({direction:"start",isBound:!0,offset:s-n,pos:n}),a-1<u&&f.push({direction:"end",isBound:!0,offset:u-a,pos:a}),f.length||f.push({isBound:!1,offset:0,pos:0}),f.sort(function(l,v){return J(v.offset)-J(l.offset)})}function Hv(r,t,e){var n=e?r.map(function(a){return va(a,e)}):r;return n.some(function(a){return a[0]<t.left&&J(a[0]-t.left)>.1||a[0]>t.right&&J(a[0]-t.right)>.1||a[1]<t.top&&J(a[1]-t.top)>.1||a[1]>t.bottom&&J(a[1]-t.bottom)>.1})}function kE(r,t,e){var n=ce(r),a=Math.sqrt(n*n-t*t)||0;return[a,-a].sort(function(s,u){return J(s-r[e?0:1])-J(u-r[e?0:1])}).map(function(s){return dr([0,0],e?[s,t]:[t,s])})}function WE(r,t,e,n,a){if(!r.props.bounds)return[];var s=a*Math.PI/180,u=Jo(r),f=u.left,l=u.top,v=u.right,d=u.bottom,h=f-n[0],p=v-n[0],m=l-n[1],_=d-n[1],x={left:h,top:m,right:p,bottom:_};if(!Hv(e,x,0))return[];var y=[];return[[h,0],[p,0],[m,1],[_,1]].forEach(function(S){var E=F(S,2),C=E[0],M=E[1];e.forEach(function(R){var O=dr([0,0],R);y.push.apply(y,rt([],F(kE(R,C,M).map(function(T){return s+T-O}).filter(function(T){return!Hv(t,x,T)}).map(function(T){return Ct(T*180/Math.PI,Lr)})),!1))})}),y}var HE=["left","right","center"],YE=["top","bottom","middle"],Yv={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},ln={start:"left",end:"right",center:"center"},cn={start:"top",end:"bottom",center:"middle"};function ai(){return{left:!1,top:!1,right:!1,bottom:!1}}function yi(r,t){var e=r.props,n=e.snappable,a=e.bounds,s=e.innerBounds,u=e.verticalGuidelines,f=e.horizontalGuidelines,l=e.snapGridWidth,v=e.snapGridHeight,d=r.state,h=d.guidelines,p=d.enableSnap;return!n||!p||t&&n!==!0&&n.indexOf(t)<0?!1:!!(l||v||a||s||h&&h.length||u&&u.length||f&&f.length)}function Bf(r){return r===!1?{}:r===!0||!r?{left:!0,right:!0,top:!0,bottom:!0}:r}function XE(r,t){var e=Bf(r),n={};for(var a in e)a in t&&e[a]&&(n[a]=t[a]);return n}function Gf(r,t){var e=XE(r,t),n=YE.filter(function(s){return s in e}),a=HE.filter(function(s){return s in e});return{horizontalNames:n,verticalNames:a,horizontal:n.map(function(s){return e[s]}),vertical:a.map(function(s){return e[s]})}}function VE(r,t,e){var n=or(r,[t.clientLeft,t.clientTop],e);return[t.left+n[0],t.top+n[1]]}function $E(r){var t=F(r,2),e=t[0],n=t[1],a=n[0]-e[0],s=n[1]-e[1];Math.abs(a)<gr&&(a=0),Math.abs(s)<gr&&(s=0);var u=0,f=0,l=0;return a?s?(u=-s/a,f=1,l=u*e[0]-e[1]):(f=1,l=-e[1]):(u=-1,l=e[0]),[u,f,l].map(function(v){return Ct(v,gr)})}var Ip="snapRotationThreshold",Ap="snapRotationDegrees",Pp="snapHorizontalThreshold",Bp="snapVerticalThreshold";function Qo(r,t,e,n,a,s,u){var f;n===void 0&&(n=[]),a===void 0&&(a=[]);var l=r.props,v=((f=r.state.snapThresholdInfo)===null||f===void 0?void 0:f.multiples)||[1,1],d=id(u,l[Pp],5),h=id(s,l[Bp],5);return Gp(r.state.guidelines,t,e,n,a,d,h,v)}function Gp(r,t,e,n,a,s,u,f){return{vertical:Vv(r,"vertical",t,u*f[0],n),horizontal:Vv(r,"horizontal",e,s*f[1],a)}}function qE(r,t,e){var n=F(e,2),a=n[0],s=n[1],u=F(t,2),f=u[0],l=u[1],v=F(xt(e,t),2),d=v[0],h=v[1],p=h>0,m=d>0;d=No(d),h=No(h);var _={isSnap:!1,offset:0,pos:0},x={isSnap:!1,offset:0,pos:0};if(d===0&&h===0)return{vertical:_,horizontal:x};var y=Qo(r,d?[a]:[],h?[s]:[],[],[],void 0,void 0),S=y.vertical,E=y.horizontal;S.posInfos.filter(function(j){var tt=j.pos;return m?tt>=f:tt<=f}),E.posInfos.filter(function(j){var tt=j.pos;return p?tt>=l:tt<=l}),S.isSnap=S.posInfos.length>0,E.isSnap=E.posInfos.length>0;var C=tf(S),M=C.isSnap,R=C.guideline,O=tf(E),T=O.isSnap,I=O.guideline,P=T?I.pos[1]:0,G=M?R.pos[0]:0;if(d===0)T&&(x.isSnap=!0,x.pos=I.pos[1],x.offset=s-x.pos);else if(h===0)M&&(_.isSnap=!0,_.pos=G,_.offset=a-G);else{var H=h/d,W=e[1]-H*a,L=0,Y=0,X=!1;M?(Y=G,L=H*Y+W,X=!0):T&&(L=P,Y=(L-W)/H,X=!0),X&&(_.isSnap=!0,_.pos=Y,_.offset=a-Y,x.isSnap=!0,x.pos=L,x.offset=s-L)}return{vertical:_,horizontal:x}}function on(r){var t="";return r===-1||r==="top"||r==="left"?t="start":r===0||r==="center"||r==="middle"?t="center":(r===1||r==="right"||r==="bottom")&&(t="end"),t}function Xv(r,t,e,n){var a=Gf(r.props.snapDirections,t),s=Qo(r,a.vertical,a.horizontal,a.verticalNames.map(function(l){return on(l)}),a.horizontalNames.map(function(l){return on(l)}),e,n),u=on(a.horizontalNames[s.horizontal.index]),f=on(a.verticalNames[s.vertical.index]);return{vertical:B(B({},s.vertical),{direction:f}),horizontal:B(B({},s.horizontal),{direction:u})}}function tf(r){var t=r.isSnap;if(!t)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var e=r.posInfos[0],n=e.guidelineInfos[0],a=n.offset,s=n.dist,u=n.guideline;return{isSnap:t,offset:a,dist:s,pos:e.pos,guideline:u}}function Vv(r,t,e,n,a){var s,u;if(a===void 0&&(a=[]),!r||!r.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var f=t==="vertical",l=f?0:1,v=e.map(function(h,p){var m=a[p]||"",_=r.map(function(x){var y=x.pos,S=h-y[l];return{offset:S,dist:J(S),guideline:x,direction:m}}).filter(function(x){var y=x.guideline,S=x.dist,E=y.type;return!(E!==t||S>n)}).sort(function(x,y){return x.dist-y.dist});return{pos:h,index:p,guidelineInfos:_,direction:m}}).filter(function(h){return h.guidelineInfos.length>0}).sort(function(h,p){return h.guidelineInfos[0].dist-p.guidelineInfos[0].dist}),d=v.length>0;return{isSnap:d,index:d?v[0].index:-1,direction:(u=(s=v[0])===null||s===void 0?void 0:s.direction)!==null&&u!==void 0?u:"",posInfos:v}}function UE(r,t,e,n,a){var s=[];e[0]&&e[1]?s=[e,[-e[0],e[1]],[e[0],-e[1]]]:!e[0]&&!e[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(p,m,_){var x=_[m+1]||_[0];s.push(p),s.push([(p[0]+x[0])/2,(p[1]+x[1])/2])}):r.props.keepRatio?s.push([-1,-1],[-1,1],[1,-1],[1,1],e):(s.push.apply(s,rt([],F(EE([[-1,-1],[1,-1],[-1,-1],[1,1]],e)),!1)),s.length>1&&s.push([(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]));var u=s.map(function(p){return Er(t,p)}),f=u.map(function(p){return p[0]}),l=u.map(function(p){return p[1]}),v=Qo(r,f,l,s.map(function(p){return on(p[0])}),s.map(function(p){return on(p[1])}),n,a),d=on(s.map(function(p){return p[0]})[v.vertical.index]),h=on(s.map(function(p){return p[1]})[v.horizontal.index]);return{vertical:B(B({},v.vertical),{direction:d}),horizontal:B(B({},v.horizontal),{direction:h})}}function zp(r,t){var e=J(r.offset),n=J(t.offset);return r.isBound&&t.isBound?n-e:r.isBound?-1:t.isBound?1:r.isSnap&&t.isSnap?n-e:r.isSnap?-1:t.isSnap||e<Lr?1:n<Lr?-1:e-n}function Go(r,t){return r.slice().sort(function(e,n){var a=e.sign[t],s=n.sign[t],u=e.offset[t],f=n.offset[t];if(a){if(!s)return-1}else return 1;return zp({isBound:e.isBound,isSnap:e.isSnap,offset:u},{isBound:n.isBound,isSnap:n.isSnap,offset:f})})[0]}function KE(r,t,e){var n=[];if(e)J(t[0])!==1||J(t[1])!==1?n.push([t,[-1,-1]],[t,[-1,1]],[t,[1,-1]],[t,[1,1]]):n.push([t,[r[0],-r[1]]],[t,[-r[0],r[1]]]),n.push([t,r]);else if(r[0]&&r[1]||!r[0]&&!r[1]){var a=r[0]?r:[1,1];[1,-1].forEach(function(u){[1,-1].forEach(function(f){var l=[u*a[0],f*a[1]];t[0]===l[0]&&t[1]===l[1]||n.push([t,l])})})}else if(r[0]){var s=J(t[0])===1?[1]:[1,-1];s.forEach(function(u){n.push([[t[0],-1],[u*r[0],-1]],[[t[0],0],[u*r[0],0]],[[t[0],1],[u*r[0],1]])})}else if(r[1]){var s=J(t[1])===1?[1]:[1,-1];s.forEach(function(f){n.push([[-1,t[1]],[-1,f*r[1]]],[[0,t[1]],[0,f*r[1]]],[[1,t[1]],[1,f*r[1]]])})}return n}function Fp(r,t){var e=Lu([t[0][0],t[1][0]]),n=Lu([t[0][1],t[1][1]]);return{vertical:e<=r[0],horizontal:n<=r[1]}}function zf(r,t){var e=F(t,2),n=e[0],a=e[1],s=a[0]-n[0],u=a[1]-n[1];J(s)<Lr&&(s=0),J(u)<Lr&&(u=0);var f,l;if(!s)f=n[0],l=r[0];else if(!u)f=n[1],l=r[1];else{var v=u/s;f=v*(r[0]-n[0])+n[1],l=r[1]}return f-l}function Lp(r,t,e,n){return n===void 0&&(n=Lr),r.every(function(a){var s=zf(a,t),u=s<=0;return u===e||J(s)<=n})}function $v(r,t,e,n,a){return a===void 0&&(a=0),n&&t-a<=r||!n&&r<=e+a?{isBound:!0,offset:n?t-r:e-r}:{isBound:!1,offset:0}}function ZE(r,t){var e=t.line,n=t.centerSign,a=t.verticalSign,s=t.horizontalSign,u=t.lineConstants,f=r.props.innerBounds;if(!f)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=f.left,v=f.top,d=f.width,h=f.height,p=[[l,v],[l,v+h]],m=[[l,v],[l+d,v]],_=[[l+d,v],[l+d,v+h]],x=[[l,v+h],[l+d,v+h]];if(Lp([[l,v],[l+d,v],[l,v+h],[l+d,v+h]],e,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var y=sn(e,u,m,a),S=sn(e,u,x,a),E=sn(e,u,p,s),C=sn(e,u,_,s),M=y.isBound&&S.isBound,R=y.isBound||S.isBound,O=E.isBound&&C.isBound,T=E.isBound||C.isBound,I=di(y.offset,S.offset),P=di(E.offset,C.offset),G=[0,0],H=!1,W=!1;return J(P)<J(I)?(G=[I,0],H=R,W=M):(G=[0,P],H=T,W=O),{isAllBound:W,isVerticalBound:R,isHorizontalBound:T,isBound:H,offset:G}}function sn(r,t,e,n,a,s){var u=F(t,2),f=u[0],l=u[1],v=r[0],d=e[0],h=e[1],p=No(h[1]-d[1]),m=No(h[0]-d[0]),_=l,x=f,y=-f/l;if(m){if(!p){if(s&&!_)return{isBound:!1,offset:0};if(x){var M=(d[1]-v[1])/y+v[0];return $v(M,d[0],h[0],n,a)}else{var E=d[1]-v[1],C=J(E)<=(a||0);return{isBound:C,offset:C?E:0}}}}else{if(s&&!x)return{isBound:!1,offset:0};if(_){var S=y*(d[0]-v[0])+v[1];return $v(S,d[1],h[1],n,a)}else{var E=d[0]-v[0],C=J(E)<=(a||0);return{isBound:C,offset:C?E:0}}}return{isBound:!1,offset:0}}function Np(r,t,e){return t.map(function(n){var a=ZE(r,n),s=a.isBound,u=a.offset,f=a.isVerticalBound,l=a.isHorizontalBound,v=n.multiple,d=Re({datas:e,distX:u[0],distY:u[1]}).map(function(h,p){return h*(v[p]?2/v[p]:0)});return{sign:v,isBound:s,isVerticalBound:f,isHorizontalBound:l,isSnap:!1,offset:d}})}function JE(r,t,e){var n,a=Ff(r,t,[0,0],!1).map(function(p){return B(B({},p),{multiple:p.multiple.map(function(m){return J(m)*2})})}),s=Np(r,a,e),u=Go(s,0),f=Go(s,1),l=0,v=0,d=u.isVerticalBound||f.isVerticalBound,h=u.isHorizontalBound||f.isHorizontalBound;return(d||h)&&(n=F(SE({datas:e,distX:-u.offset[0],distY:-f.offset[1]}),2),l=n[0],v=n[1]),{vertical:{isBound:d,offset:l},horizontal:{isBound:h,offset:v}}}function QE(r,t){var e=[],n=r[0],a=r[1];return n&&a?e.push([[0,a*2],r,[-n,a]],[[n*2,0],r,[n,-a]]):n?(e.push([[n*2,0],[n,1],[n,-1]]),t&&e.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):a?(e.push([[0,a*2],[1,a],[-1,a]]),t&&e.push([[-1,0],[-1,a],[-1,-a]],[[1,0],[1,a],[1,-a]])):e.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),e}function Ff(r,t,e,n){var a=r.state,s=a.allMatrix,u=a.is3d,f=Fn(s,100,100,u?4:3),l=Er(f,[0,0]);return QE(e,n).map(function(v){var d=F(v,3),h=d[0],p=d[1],m=d[2],_=[Er(f,p),Er(f,m)],x=$E(_),y=Fp(l,_),S=y.vertical,E=y.horizontal,C=zf(l,_)<=0;return{multiple:h,centerSign:C,verticalSign:S,horizontalSign:E,lineConstants:x,line:[Er(t,p),Er(t,m)]}})}function qv(r,t,e,n){var a=n?r.map(function(s){return va(s,n)}):r;return[[a[0],a[1]],[a[1],a[3]],[a[3],a[2]],[a[2],a[0]]].some(function(s){var u=zf(e,s)<=0;return!Lp(t,s,u)})}function jE(r){var t=F(r,2),e=t[0],n=t[1],a=n[0]-e[0],s=n[1]-e[1];if(!a)return J(e[0]);if(!s)return J(e[1]);var u=s/a;return J((-u*e[0]+e[1])/Math.sqrt(Math.pow(u,2)+1))}function tw(r){var t=F(r,2),e=t[0],n=t[1],a=n[0]-e[0],s=n[1]-e[1];if(!a)return[e[0],0];if(!s)return[0,e[1]];var u=s/a,f=-u*e[0]+e[1];return[-f/(u+1/u),f/(u*u+1)]}function rw(r,t,e,n,a){var s=r.props.innerBounds,u=a*Math.PI/180;if(!s)return[];var f=s.left,l=s.top,v=s.width,d=s.height,h=f-n[0],p=f+v-n[0],m=l-n[1],_=l+d-n[1],x=[[h,m],[p,m],[h,_],[p,_]],y=Er(e,[0,0]);if(!qv(e,x,y,0))return[];var S=[],E=x.map(function(C){return[ce(C),dr([0,0],C)]});return[[e[0],e[1]],[e[1],e[3]],[e[3],e[2]],[e[2],e[0]]].forEach(function(C){var M=dr([0,0],tw(C)),R=jE(C);S.push.apply(S,rt([],F(E.filter(function(O){var T=F(O,1),I=T[0];return I&&R<=I}).map(function(O){var T=F(O,2),I=T[0],P=T[1],G=Math.acos(I?R/I:0),H=P+G,W=P-G;return[u+H-M,u+W-M]}).reduce(function(O,T){return O.push.apply(O,rt([],F(T),!1)),O},[]).filter(function(O){return!qv(t,x,y,O)}).map(function(O){return Ct(O*180/Math.PI,Lr)})),!1))}),S}function ew(r){var t=r.props.innerBounds,e=ai();if(!t)return{boundMap:e,vertical:[],horizontal:[]};var n=r.getRect(),a=n.pos1,s=n.pos2,u=n.pos3,f=n.pos4,l=[a,s,u,f],v=Er(l,[0,0]),d=t.left,h=t.top,p=t.width,m=t.height,_=[[d,h],[d,h+m]],x=[[d,h],[d+p,h]],y=[[d+p,h],[d+p,h+m]],S=[[d,h+m],[d+p,h+m]],E=Ff(r,l,[0,0],!1),C=[],M=[];return E.forEach(function(R){var O=R.line,T=R.lineConstants,I=Fp(v,O),P=I.horizontal,G=I.vertical,H=sn(O,T,x,G,1,!0),W=sn(O,T,S,G,1,!0),L=sn(O,T,_,P,1,!0),Y=sn(O,T,y,P,1,!0);H.isBound&&!e.top&&(C.push(h),e.top=!0),W.isBound&&!e.bottom&&(C.push(h+m),e.bottom=!0),L.isBound&&!e.left&&(M.push(d),e.left=!0),Y.isBound&&!e.right&&(M.push(d+p),e.right=!0)}),{boundMap:e,horizontal:C,vertical:M}}function nw(r,t,e,n){var a=t[0]-r[0],s=t[1]-r[1];if(J(a)<gr&&(a=0),J(s)<gr&&(s=0),!a)return n?[0,0]:[0,e];if(!s)return n?[e,0]:[0,0];var u=s/a,f=r[1]-u*r[0];if(n){var l=u*(t[0]+e)+f;return[e,l-t[1]]}else{var v=(t[1]+e-f)/u;return[v-t[0],e]}}function rf(r,t,e,n,a){var s=nw(r,t,e,n);if(!s)return{isOutside:!1,offset:[0,0]};var u=Xe(r,t),f=Xe(s,r),l=Xe(s,t),v=f>u||l>u,d=F(Re({datas:a,distX:s[0],distY:s[1]}),2),h=d[0],p=d[1];return{offset:[h,p],isOutside:v}}function zo(r,t){return r.isBound?r.offset:t.isSnap?tf(t).offset:0}function iw(r,t,e,n,a){var s=F(t,2),u=s[0],f=s[1],l=F(e,2),v=l[0],d=l[1],h=F(n,2),p=h[0],m=h[1],_=F(a,2),x=_[0],y=_[1],S=-x,E=-y;if(r&&u&&f){S=0,E=0;var C=[];if(v&&d?C.push([0,y],[x,0]):v?C.push([x,0]):d?C.push([0,y]):p&&m?C.push([0,y],[x,0]):p?C.push([x,0]):m&&C.push([0,y]),C.length){C.sort(function(T,I){return ce(xt([u,f],T))-ce(xt([u,f],I))});var M=C[0];if(M[0]&&J(u)>gr)S=-M[0],E=f*J(u+S)/J(u)-f;else if(M[1]&&J(f)>gr){var R=f;E=-M[1],S=u*J(f+E)/J(R)-u}if(r&&d&&v)if(J(S)>gr&&J(S)<J(x)){var O=J(x)/J(S);S*=O,E*=O}else if(J(E)>gr&&J(E)<J(y)){var O=J(y)/J(E);S*=O,E*=O}else S=di(-x,S),E=di(-y,E)}}else S=u||v?-x:0,E=f||d?-y:0;return[S,E]}function aw(r,t,e,n,a,s){if(!yi(r,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var u=kf(s.absolutePoses,[t,e]),f=le(u),l=f.left,v=f.right,d=f.top,h=f.bottom,p={horizontal:u.map(function(Y){return Y[1]}),vertical:u.map(function(Y){return Y[0]})},m=Bf(r.props.snapDirections),_=Gf(m,{left:l,right:v,top:d,bottom:h,center:(l+v)/2,middle:(d+h)/2}),x=jo(r,a,_,p),y=x.vertical,S=x.horizontal,E=JE(r,u,s),C=E.vertical,M=E.horizontal,R=y.isSnap,O=S.isSnap,T=y.isBound||C.isBound,I=S.isBound||M.isBound,P=di(y.offset,C.offset),G=di(S.offset,M.offset),H=F(iw(n,[t,e],[T,I],[R,O],[P,G]),2),W=H[0],L=H[1];return[{isBound:T,isSnap:R,offset:W},{isBound:I,isSnap:O,offset:L}]}function jo(r,t,e,n){n===void 0&&(n=e);var a=Pf(Jo(r),n.vertical,n.horizontal),s=a.horizontal,u=a.vertical,f=t?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Qo(r,e.vertical,e.horizontal,void 0,void 0,void 0,void 0),l=f.horizontal,v=f.vertical,d=zo(s[0],l),h=zo(u[0],v),p=J(d),m=J(h);return{horizontal:{isBound:s[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:d,dist:p,bounds:s,snap:l},vertical:{isBound:u[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:h,dist:m,bounds:u,snap:v}}}function Uv(r,t,e,n,a,s,u){u===void 0&&(u=[1,1]);var f=Pf(t,e,n),l=f.horizontal,v=f.vertical,d=Gp(r,e,n,[],[],a,s,u),h=d.horizontal,p=d.vertical,m=zo(l[0],h),_=zo(v[0],p),x=J(m),y=J(_);return{horizontal:{isBound:l[0].isBound,isSnap:h.isSnap,snapIndex:h.index,offset:m,dist:x,bounds:l,snap:h},vertical:{isBound:v[0].isBound,isSnap:p.isSnap,snapIndex:p.index,offset:_,dist:y,bounds:v,snap:p}}}function ow(r,t,e,n){var a=dr(r,t)/Math.PI*180,s=e.vertical,u=s.isBound,f=s.isSnap,l=s.dist,v=e.horizontal,d=v.isBound,h=v.isSnap,p=v.dist,m=a%180,_=m<3||m>177,x=m>87&&m<93;return p<l&&(u||f&&!x&&(!n||!_))?"vertical":d||h&&!_&&(!n||!x)?"horizontal":""}function sw(r,t,e,n,a,s){return e.map(function(u){var f=F(u,2),l=f[0],v=f[1],d=Er(t,l),h=Er(t,v),p=n?uw(r,d,h,a):jo(r,a,{vertical:[h[0]],horizontal:[h[1]]}),m=p.horizontal,_=m.offset,x=m.isBound,y=m.isSnap,S=p.vertical,E=S.offset,C=S.isBound,M=S.isSnap,R=xt(v,l);if(!E&&!_)return{isBound:C||x,isSnap:M||y,sign:R,offset:[0,0]};var O=ow(d,h,p,n);if(!O)return{sign:R,isBound:!1,isSnap:!1,offset:[0,0]};var T=O==="vertical",I=[0,0];return!n&&J(v[0])===1&&J(v[1])===1&&l[0]!==v[0]&&l[1]!==v[1]?I=Re({datas:s,distX:-E,distY:-_}):I=rf(d,h,-(T?E:_),T,s).offset,I=I.map(function(P,G){return P*(R[G]?2/R[G]:0)}),{sign:R,isBound:T?C:x,isSnap:T?M:y,offset:I}})}function Kv(r,t){return r.isBound?r.offset:t.isSnap?t.offset:0}function uw(r,t,e,n){var a=NE(r,t,e),s=a.horizontal,u=a.vertical,f=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:qE(r,t,e),l=f.horizontal,v=f.vertical,d=Kv(s,l),h=Kv(u,v),p=J(d),m=J(h);return{horizontal:{isBound:s.isBound,isSnap:l.isSnap,offset:d,dist:p},vertical:{isBound:u.isBound,isSnap:v.isSnap,offset:h,dist:m}}}function fw(r,t,e,n,a){var s=[-e[0],-e[1]],u=r.state,f=u.width,l=u.height,v=r.props.bounds,d=1/0,h=1/0;if(v){var p=[[e[0],-e[1]],[-e[0],e[1]]],m=v.left,_=m===void 0?-1/0:m,x=v.top,y=x===void 0?-1/0:x,S=v.right,E=S===void 0?1/0:S,C=v.bottom,M=C===void 0?1/0:C;p.forEach(function(R){var O=R[0]!==s[0],T=R[1]!==s[1],I=Er(t,R),P=dr(n,I)*360/Math.PI;if(T){var G=I.slice();(J(P-360)<2||J(P-180)<2)&&(G[1]=n[1]);var H=rf(n,G,(n[1]<I[1]?M:y)-I[1],!1,a),W=F(H.offset,2),L=W[1],Y=H.isOutside;isNaN(L)||(h=l+(Y?1:-1)*J(L))}if(O){var G=I.slice();(J(P-90)<2||J(P-270)<2)&&(G[0]=n[0]);var X=rf(n,G,(n[0]<I[0]?E:_)-I[0],!0,a),j=F(X.offset,1),tt=j[0],U=X.isOutside;isNaN(tt)||(d=f+(U?1:-1)*J(tt))}})}return{maxWidth:d,maxHeight:h}}var Gr={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(r,t){var e=r.props,n=e.hideThrottleDragRotateLine,a=e.throttleDragRotate,s=e.zoom,u=r.getState(),f=u.dragInfo,l=u.beforeOrigin;if(n||!a||!f)return[];var v=f.dist;if(!v[0]&&!v[1])return[];var d=ce(v),h=dr(v,[0,0]);return[t.createElement("div",{className:_t("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(d,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(h,"rad) scaleY(").concat(s,")")}})]},dragStart:function(r,t){var e=t.datas,n=t.parentEvent,a=t.parentGesto,s=r.state,u=s.gestos,f=s.style;if(u.draggable)return!1;u.draggable=a||r.targetGesto,e.datas={},e.left=parseFloat(f.left||"")||0,e.top=parseFloat(f.top||"")||0,e.bottom=parseFloat(f.bottom||"")||0,e.right=parseFloat(f.right||"")||0,e.startValue=[0,0],zn(r,t),Zo(r,t,"translate"),Ow(r,e),e.prevDist=[0,0],e.prevBeforeDist=[0,0],e.isDrag=!1,e.deltaOffset=[0,0];var l=Ot(r,t,B({set:function(d){e.startValue=d}},Ko(r,t))),v=n||ct(r,"onDragStart",l);return v!==!1?(e.isDrag=!0,r.state.dragInfo={startRect:r.getRect(),dist:[0,0]}):(u.draggable=null,e.isPinch=!1),e.isDrag?l:!1},drag:function(r,t){if(t){qo(r,t,"translate");var e=t.datas,n=t.parentEvent,a=t.parentFlag,s=t.isPinch,u=t.deltaOffset,f=t.useSnap,l=t.isRequest,v=t.isGroup,d=t.parentThrottleDrag,h=t.distX,p=t.distY,m=e.isDrag,_=e.prevDist,x=e.prevBeforeDist,y=e.startValue;if(m){u&&(h+=u[0],p+=u[1]);var S=r.props,E=S.parentMoveable,C=v?0:S.throttleDrag||d||0,M=n?0:S.throttleDragRotate||0,R=0,O=!1,T=!1,I=!1,P=!1;if(!n&&M>0&&(h||p)){var G=S.startDragRotate||0,H=Ct(G+dr([0,0],[h,p])*180/Math.PI,M)-G,W=p*Math.abs(Math.cos((H-90)/180*Math.PI)),L=h*Math.abs(Math.cos(H/180*Math.PI)),Y=ce([L,W]);R=H*Math.PI/180,h=Y*Math.cos(R),p=Y*Math.sin(R)}if(!s&&!n&&!a){var X=F(aw(r,h,p,M,!f&&l||u,e),2),j=X[0],tt=X[1];O=j.isSnap,T=j.isBound,I=tt.isSnap,P=tt.isBound;var U=j.offset,nt=tt.offset;h+=U,p+=nt}var et=Ht(yp({datas:e,distX:h,distY:p}),y),$=Ht(yE({datas:e,distX:h,distY:p}),y);Ov($,Lr),Ov(et,Lr),M||(!O&&!T&&($[0]=Ct($[0],C),et[0]=Ct(et[0],C)),!I&&!P&&($[1]=Ct($[1],C),et[1]=Ct(et[1],C)));var st=xt(et,y),lt=xt($,y),ot=xt(lt,_),ut=xt(st,x);e.prevDist=lt,e.prevBeforeDist=st,e.passDelta=ot,e.passDist=lt;var it=e.left+st[0],vt=e.top+st[1],ht=e.right-st[0],wt=e.bottom-st[1],Ft=Uo(e,"translate(".concat($[0],"px, ").concat($[1],"px)"),"translate(".concat(lt[0],"px, ").concat(lt[1],"px)"));if(If(t,Ft),r.state.dragInfo.dist=n?[0,0]:lt,!(!n&&!E&&ot.every(function(Et){return!Et})&&ut.some(function(Et){return!Et}))){var at=r.state,pt=at.width,Wt=at.height,mt=Ot(r,t,B({transform:Ft,dist:lt,delta:ot,translate:$,beforeDist:st,beforeDelta:ut,beforeTranslate:et,left:it,top:vt,right:ht,bottom:wt,width:pt,height:Wt,isPinch:s},Fr({transform:Ft},t)));return!n&&ct(r,"onDrag",mt),mt}}}},dragAfter:function(r,t){var e=t.datas,n=e.deltaOffset;return n[0]||n[1]?(e.deltaOffset=[0,0],this.drag(r,B(B({},t),{deltaOffset:n}))):!1},dragEnd:function(r,t){var e=t.parentEvent,n=t.datas;if(r.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var a=te(r,t,{});return!e&&ct(r,"onDragEnd",a),a}},dragGroupStart:function(r,t){var e,n,a=t.datas,s=t.clientX,u=t.clientY,f=this.dragStart(r,t);if(!f)return!1;var l=Ou(r,this,"dragStart",[s||0,u||0],t,!1,"draggable"),v=l.childEvents,d=l.eventParams,h=B(B({},f),{targets:r.props.targets,events:d}),p=ct(r,"onDragGroupStart",h);a.isDrag=p!==!1;var m=(n=(e=v[0])===null||e===void 0?void 0:e.datas.startValue)!==null&&n!==void 0?n:[0,0];return a.throttleOffset=[m[0]%1,m[1]%1],a.isDrag?f:!1},dragGroup:function(r,t){var e=t.datas;if(e.isDrag){var n=this.drag(r,B(B({},t),{parentThrottleDrag:r.props.throttleDrag})),a=t.datas.passDelta,s=Ou(r,this,"drag",a,t,!1,"draggable").eventParams;if(n){var u=B({targets:r.props.targets,events:s},n);return ct(r,"onDragGroup",u),u}}},dragGroupEnd:function(r,t){var e=t.isDrag,n=t.datas;if(n.isDrag){this.dragEnd(r,t);var a=Ou(r,this,"dragEnd",[0,0],t,!1,"draggable").eventParams;return ct(r,"onDragGroupEnd",te(r,t,{targets:r.props.targets,events:a})),e}},request:function(r){var t={},e=r.getRect(),n=0,a=0,s=!1;return{isControl:!1,requestStart:function(u){return s=u.useSnap,{datas:t,useSnap:s}},request:function(u){return"x"in u?n=u.x-e.left:"deltaX"in u&&(n+=u.deltaX),"y"in u?a=u.y-e.top:"deltaY"in u&&(a+=u.deltaY),{datas:t,distX:n,distY:a,useSnap:s}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:s}}}},unset:function(r){r.state.gestos.draggable=null,r.state.dragInfo=null}};function kp(r,t){var e=Er(r,t),n=[0,0];return{fixedPosition:e,fixedDirection:t,fixedOffset:n}}function lw(r,t){var e=r.allMatrix,n=r.is3d,a=r.width,s=r.height,u=n?4:3,f=[a/2*(1+t[0]),s/2*(1+t[1])],l=or(e,f,u),v=[0,0];return{fixedPosition:l,fixedDirection:t,fixedOffset:v}}function Wp(r,t){var e=r.allMatrix,n=r.is3d,a=r.width,s=r.height,u=n?4:3,f=OE(t,a,s),l=or(e,t,u),v=[a?0:t[0],s?0:t[1]];return{fixedPosition:l,fixedDirection:f,fixedOffset:v}}var Zv=Yf("resizable"),ef={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:Op("resizable"),dragControlCondition:Zv,viewClassName:Hf("resizable"),dragControlStart:function(r,t){var e,n=t.inputEvent,a=t.isPinch,s=t.isGroup,u=t.parentDirection,f=t.parentGesto,l=t.datas,v=t.parentFixedDirection,d=t.parentEvent,h=th(u,a,n,l),p=r.state,m=p.target,_=p.width,x=p.height,y=p.gestos;if(!h||!m||y.resizable)return!1;y.resizable=f||r.controlGesto,!a&&zn(r,t),l.datas={},l.direction=h,l.startOffsetWidth=_,l.startOffsetHeight=x,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=p.inlineCSSWidth||p.cssWidth,l.startHeight=p.inlineCSSHeight||p.cssHeight,l.maxSize=[1/0,1/0],s||(l.minSize=[p.minOffsetWidth,p.minOffsetHeight],l.maxSize=[p.maxOffsetWidth,p.maxOffsetHeight]);var S=r.props.transformOrigin||"% %";l.transformOrigin=S&&Vr(S)?S.split(" "):S,l.startOffsetMatrix=p.offsetMatrix,l.startTransformOrigin=p.transformOrigin,l.isWidth=(e=t==null?void 0:t.parentIsWidth)!==null&&e!==void 0?e:!h[0]&&!h[1]||h[0]||!h[1];function E(P){l.ratio=P&&isFinite(P)?P:0}l.startPositions=ve(r.state);function C(P){var G=kp(l.startPositions,P);l.fixedDirection=G.fixedDirection,l.fixedPosition=G.fixedPosition,l.fixedOffset=G.fixedOffset}function M(P){var G=Wp(r.state,P);l.fixedDirection=G.fixedDirection,l.fixedPosition=G.fixedPosition,l.fixedOffset=G.fixedOffset}function R(P){l.minSize=[Zt("".concat(P[0]),0)||0,Zt("".concat(P[1]),0)||0]}function O(P){var G=[P[0]||1/0,P[1]||1/0];(!fi(G[0])||isFinite(G[0]))&&(G[0]=Zt("".concat(G[0]),0)||1/0),(!fi(G[1])||isFinite(G[1]))&&(G[1]=Zt("".concat(G[1]),0)||1/0),l.maxSize=G}E(_/x),C(v||[-h[0],-h[1]]),l.setFixedDirection=C,l.setFixedPosition=M,l.setMin=R,l.setMax=O;var T=Ot(r,t,{direction:h,startRatio:l.ratio,set:function(P){var G=F(P,2),H=G[0],W=G[1];l.startWidth=H,l.startHeight=W},setMin:R,setMax:O,setRatio:E,setFixedDirection:C,setFixedPosition:M,setOrigin:function(P){l.transformOrigin=P},dragStart:Gr.dragStart(r,new ci().dragStart([0,0],t))}),I=d||ct(r,"onResizeStart",T);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,I!==!1&&(l.isResize=!0,r.state.snapRenderInfo={request:t.isRequest,direction:h}),l.isResize?T:!1},dragControl:function(r,t){var e,n=t.datas,a=t.parentFlag,s=t.isPinch,u=t.parentKeepRatio,f=t.dragClient,l=t.parentDist,v=t.useSnap,d=t.isRequest,h=t.isGroup,p=t.parentEvent,m=t.resolveMatrix,_=n.isResize,x=n.transformOrigin,y=n.startWidth,S=n.startHeight,E=n.prevWidth,C=n.prevHeight,M=n.minSize,R=n.maxSize,O=n.ratio,T=n.startOffsetWidth,I=n.startOffsetHeight,P=n.isWidth;if(!_)return;if(m){var G=r.state.is3d,H=n.startOffsetMatrix,W=n.startTransformOrigin,L=G?4:3,Y=na(Po(t)),X=Math.sqrt(Y.length);L!==X&&(Y=Se(Y,X,L));var j=ma(H,Y,W,L),tt=Fn(j,T,I,L);n.startPositions=tt,n.nextTargetMatrix=Y,n.nextAllMatrix=j}var U=Bn(r.props,"resizable"),nt=U.resizeFormat,et=U.throttleResize,$=et===void 0?a?0:1:et,st=U.parentMoveable,lt=U.keepRatioFinally,ot=n.direction,ut=ot,it=0,vt=0;!ot[0]&&!ot[1]&&(ut=[1,1]);var ht=O&&(u??U.keepRatio)||!1;function wt(){var sr=n.fixedDirection,tr=sh(ut,ht,n,t);it=tr.distWidth,vt=tr.distHeight;var be=ut[0]-sr[0]||ht?Math.max(T+it,Lr):T,Nr=ut[1]-sr[1]||ht?Math.max(I+vt,Lr):I;return ht&&T&&I&&(P?Nr=be/O:be=Nr*O),[be,Nr]}var Ft=F(wt(),2),at=Ft[0],pt=Ft[1];p||(n.setFixedDirection(n.fixedDirection),ct(r,"onBeforeResize",Ot(r,t,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(sr){var tr;return n.setFixedDirection(sr),tr=F(wt(),2),at=tr[0],pt=tr[1],[at,pt]},setFixedPosition:function(sr){var tr;return n.setFixedPosition(sr),tr=F(wt(),2),at=tr[0],pt=tr[1],[at,pt]},boundingWidth:at,boundingHeight:pt,setSize:function(sr){var tr;tr=F(sr,2),at=tr[0],pt=tr[1]}},!0)));var Wt=f;f||(!a&&s?Wt=AE(r,[0,0]):Wt=n.fixedPosition);var mt=[0,0];s||(mt=Dw(r,at,pt,ot,Wt,!v&&d,n)),l&&(!l[0]&&(mt[0]=0),!l[1]&&(mt[1]=0));function Et(){var sr;nt&&(sr=F(nt([at,pt]),2),at=sr[0],pt=sr[1]),at=Ct(at,$),pt=Ct(pt,$)}if(ht){ut[0]&&ut[1]&&mt[0]&&mt[1]&&(J(mt[0])>J(mt[1])?mt[1]=0:mt[0]=0);var At=!mt[0]&&!mt[1];At&&Et(),ut[0]&&!ut[1]||mt[0]&&!mt[1]||At&&P?(at+=mt[0],pt=at/O):(!ut[0]&&ut[1]||!mt[0]&&mt[1]||At&&!P)&&(pt+=mt[1],at=pt*O)}else at+=mt[0],pt+=mt[1],at=Math.max(0,at),pt=Math.max(0,pt);e=F(Pd([at,pt],M,R,ht?O:!1),2),at=e[0],pt=e[1],Et(),ht&&(h||lt)&&(P?pt=at/O:at=pt*O),it=at-T,vt=pt-I;var Gt=[it-E,vt-C];n.prevWidth=it,n.prevHeight=vt;var Vt=IE(r,at,pt,Wt,x,n);if(!(!st&&Gt.every(function(sr){return!sr})&&Vt.every(function(sr){return!sr}))){var Rt=Gr.drag(r,ga(t,r.state,Vt,!!s,!1,"draggable")),Lt=Rt.transform,$t=y+it,fr=S+vt,lr=Ot(r,t,B({width:$t,height:fr,offsetWidth:Math.round(at),offsetHeight:Math.round(pt),startRatio:O,boundingWidth:at,boundingHeight:pt,direction:ot,dist:[it,vt],delta:Gt,isPinch:!!s,drag:Rt},eh({style:{width:"".concat($t,"px"),height:"".concat(fr,"px")},transform:Lt},Rt,t)));return!p&&ct(r,"onResize",lr),lr}},dragControlAfter:function(r,t){var e=t.datas,n=e.isResize,a=e.startOffsetWidth,s=e.startOffsetHeight,u=e.prevWidth,f=e.prevHeight;if(!(!n||r.props.checkResizableError===!1)){var l=r.state,v=l.width,d=l.height,h=v-(a+u),p=d-(s+f),m=J(h)>3,_=J(p)>3;if(m&&(e.startWidth+=h,e.startOffsetWidth+=h,e.prevWidth+=h),_&&(e.startHeight+=p,e.startOffsetHeight+=p,e.prevHeight+=p),m||_)return this.dragControl(r,t)}},dragControlEnd:function(r,t){var e=t.datas,n=t.parentEvent;if(e.isResize){e.isResize=!1;var a=te(r,t,{});return!n&&ct(r,"onResizeEnd",a),a}},dragGroupControlCondition:Zv,dragGroupControlStart:function(r,t){var e=t.datas,n=this.dragControlStart(r,B(B({},t),{isGroup:!0}));if(!n)return!1;var a=xe(r,"resizable",t),s=e.startOffsetWidth,u=e.startOffsetHeight;function f(){var m=e.minSize;a.forEach(function(_){var x=_.datas,y=x.minSize,S=x.startOffsetWidth,E=x.startOffsetHeight,C=s*(S?y[0]/S:0),M=u*(E?y[1]/E:0);m[0]=Math.max(m[0],C),m[1]=Math.max(m[1],M)})}function l(){var m=e.maxSize;a.forEach(function(_){var x=_.datas,y=x.maxSize,S=x.startOffsetWidth,E=x.startOffsetHeight,C=s*(S?y[0]/S:0),M=u*(E?y[1]/E:0);m[0]=Math.min(m[0],C),m[1]=Math.min(m[1],M)})}var v=Ve(r,this,"dragControlStart",t,function(m,_){return Bo(r,m,e,_)});f(),l();var d=function(m){n.setFixedDirection(m),v.forEach(function(_,x){_.setFixedDirection(m),Bo(r,_.moveable,e,a[x])})};e.setFixedDirection=d;var h=B(B({},n),{targets:r.props.targets,events:v.map(function(m){return B(B({},m),{setMin:function(_){m.setMin(_),f()},setMax:function(_){m.setMax(_),l()}})}),setFixedDirection:d,setMin:function(m){n.setMin(m),f()},setMax:function(m){n.setMax(m),l()}}),p=ct(r,"onResizeGroupStart",h);return e.isResize=p!==!1,e.isResize?n:!1},dragGroupControl:function(r,t){var e=t.datas;if(e.isResize){var n=Bn(r.props,"resizable");rs(r,"onBeforeResize",function(m){ct(r,"onBeforeResizeGroup",Ot(r,t,B(B({},m),{targets:n.targets}),!0))});var a=this.dragControl(r,B(B({},t),{isGroup:!0}));if(a){var s=a.boundingWidth,u=a.boundingHeight,f=a.dist,l=n.keepRatio,v=[s/(s-f[0]),u/(u-f[1])],d=e.fixedPosition,h=Ve(r,this,"dragControl",t,function(m,_){var x=F(Ir(da(r.rotation/180*Math.PI,3),[_.datas.originalX*v[0],_.datas.originalY*v[1],1],3),2),y=x[0],S=x[1];return B(B({},_),{parentDist:null,parentScale:v,dragClient:Ht(d,[y,S]),parentKeepRatio:l})}),p=B({targets:n.targets,events:h},a);return ct(r,"onResizeGroup",p),p}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(n.isResize){this.dragControlEnd(r,t);var a=Ve(r,this,"dragControlEnd",t),s=te(r,t,{targets:r.props.targets,events:a});return ct(r,"onResizeGroupEnd",s),e}},request:function(r){var t={},e=0,n=0,a=!1,s=r.getRect();return{isControl:!0,requestStart:function(u){var f;return a=u.useSnap,{datas:t,parentDirection:u.direction||[1,1],parentIsWidth:(f=u==null?void 0:u.horizontal)!==null&&f!==void 0?f:!0,useSnap:a}},request:function(u){return"offsetWidth"in u?e=u.offsetWidth-s.offsetWidth:"deltaWidth"in u&&(e+=u.deltaWidth),"offsetHeight"in u?n=u.offsetHeight-s.offsetHeight:"deltaHeight"in u&&(n+=u.deltaHeight),{datas:t,parentDist:[e,n],parentKeepRatio:u.keepRatio,useSnap:a}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:a}}}},unset:function(r){r.state.gestos.resizable=null}};function Ru(r,t,e,n,a){var s=r.props.groupable,u=r.state,f=u.is3d?4:3,l=t.origin,v=or(r.state.rootMatrix,xt([l[0],l[1]],s?[0,0]:[u.left,u.top]),f),d=Ht([a.left,a.top],v);t.startAbsoluteOrigin=d,t.prevDeg=dr(d,[e,n])/Math.PI*180,t.defaultDeg=t.prevDeg,t.prevSnapDeg=0,t.loop=0,t.startDist=Xe(d,[e,n])}function Do(r,t,e){var n=e.defaultDeg,a=e.prevDeg,s=a%360,u=Math.floor(a/360);s<0&&(s+=360),s>r&&s>270&&r<90?++u:s<r&&s<90&&r>270&&--u;var f=t*(u*360+r-n);return e.prevDeg=n+f,f}function Tu(r,t,e,n){return Do(dr(n.startAbsoluteOrigin,[r,t])/Math.PI*180,e,n)}function Iu(r,t,e,n,a,s){var u=r.props.throttleRotate,f=u===void 0?0:u,l=e.prevSnapDeg,v=0,d=!1;if(s){var h=Cw(r,t,n,a+n);d=h.isSnap,v=a+h.dist}d||(v=Ct(a+n,f));var p=v-a;return e.prevSnapDeg=p,[p-l,p,v]}function Hp(r,t,e){var n=F(t,4),a=n[0],s=n[1],u=n[2],f=n[3];if(r==="none")return[];if(mr(r))return r.map(function(y){return Hp(y,[a,s,u,f],e)[0]});var l=F((r||"top").split("-"),2),v=l[0],d=l[1],h=[a,s];v==="left"?h=[u,a]:v==="right"?h=[s,f]:v==="bottom"&&(h=[f,u]);var p=[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2],m=Qp(h,e);if(d){var _=d==="top"||d==="left",x=v==="bottom"||v==="left";p=h[_&&!x||!_&&x?0:1]}return[[p,m]]}function nf(r,t){if(t.isRequest)return t.requestAble==="rotatable";var e=t.inputEvent.target;if(br(e,_t("rotation-control"))||r.props.rotateAroundControls&&br(e,_t("around-control"))||br(e,_t("control"))&&br(e,_t("rotatable")))return!0;var n=r.props.rotationTarget;return n?Xf(n,!0).some(function(a){return a?e===a||e.contains(a):!1}):!1}var cw=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,vw={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[cw],viewClassName:function(r){return r.isDragging("rotatable")?_t("view-rotation-dragging"):""},render:function(r,t){var e=Bn(r.props,"rotatable"),n=e.rotatable,a=e.rotationPosition,s=e.zoom,u=e.renderDirections,f=e.rotateAroundControls,l=e.resolveAblesWithRotatable,v=r.getState(),d=v.renderPoses,h=v.direction;if(!n)return null;var p=Hp(a,d,h),m=[];if(p.forEach(function(S,E){var C=F(S,2),M=C[0],R=C[1];m.push(t.createElement("div",{key:"rotation".concat(E),className:_t("rotation"),style:{transform:"translate(-50%) translate(".concat(M[0],"px, ").concat(M[1],"px) rotate(").concat(R,"rad)")}},t.createElement("div",{className:_t("line rotation-line"),style:{transform:"scaleX(".concat(s,")")}}),t.createElement("div",{className:_t("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(s,")")}})))}),u){var _=qe(l||{}),x={};_.forEach(function(S){l[S].forEach(function(E){x[E]=S})});var y=[];mr(u)&&(y=u.map(function(S){var E=x[S];return{data:E?{resolve:E}:{},classNames:E?["move"]:[],dir:S}})),m.push.apply(m,rt([],F(Cp(r,"rotatable",y,t)),!1))}return f&&m.push.apply(m,rt([],F(Tp(r,t)),!1)),m},dragControlCondition:nf,dragControlStart:function(r,t){var e,n,a=t.datas,s=t.clientX,u=t.clientY,f=t.parentRotate,l=t.parentFlag,v=t.isPinch,d=t.isRequest,h=r.state,p=h.target,m=h.left,_=h.top,x=h.direction,y=h.beforeDirection,S=h.targetTransform,E=h.moveableClientRect,C=h.offsetMatrix,M=h.targetMatrix,R=h.allMatrix,O=h.width,T=h.height;if(!d&&!p)return!1;var I=r.getRect();a.rect=I,a.transform=S,a.left=m,a.top=_;var P=function(ut){var it=Wp(r.state,ut);a.fixedDirection=it.fixedDirection,a.fixedOffset=it.fixedOffset,a.fixedPosition=it.fixedPosition,$&&$.setFixedPosition(ut)},G=function(ut){var it=lw(r.state,ut);a.fixedDirection=it.fixedDirection,a.fixedOffset=it.fixedOffset,a.fixedPosition=it.fixedPosition,$&&$.setFixedDirection(ut)},H=s,W=u;if(d||v||l){var L=f||0;a.beforeInfo={origin:I.beforeOrigin,prevDeg:L,defaultDeg:L,prevSnapDeg:0,startDist:0},a.afterInfo=B(B({},a.beforeInfo),{origin:I.origin}),a.absoluteInfo=B(B({},a.beforeInfo),{origin:I.origin,startValue:L})}else{var Y=(n=t.inputEvent)===null||n===void 0?void 0:n.target;if(Y){var X=Y.getAttribute("data-direction")||"",j=_E[X];if(j){a.isControl=!0,a.isAroundControl=br(Y,_t("around-control")),a.controlDirection=j;var tt=Y.getAttribute("data-resolve");tt&&(a.resolveAble=tt);var U=Ww(h.rootMatrix,h.renderPoses,E);e=F(Er(U,j),2),H=e[0],W=e[1]}}a.beforeInfo={origin:I.beforeOrigin},a.afterInfo={origin:I.origin},a.absoluteInfo={origin:I.origin,startValue:I.rotation};var nt=P;P=function(ut){var it=h.is3d?4:3,vt=F(Ht(ip(M,it),ut),2),ht=vt[0],wt=vt[1],Ft=Ir(C,In([ht,wt],it)),at=Ir(R,In([ut[0],ut[1]],it));nt(ut);var pt=h.posDelta;a.beforeInfo.origin=xt(Ft,pt),a.afterInfo.origin=xt(at,pt),a.absoluteInfo.origin=xt(at,pt),Ru(r,a.beforeInfo,H,W,E),Ru(r,a.afterInfo,H,W,E),Ru(r,a.absoluteInfo,H,W,E)},G=function(ut){var it=Er([[0,0],[O,0],[0,T],[O,T]],ut);P(it)}}a.startClientX=H,a.startClientY=W,a.direction=x,a.beforeDirection=y,a.startValue=0,a.datas={},Zo(r,t,"rotate");var et=!1,$=!1;if(a.isControl&&a.resolveAble){var st=a.resolveAble;st==="resizable"&&($=ef.dragControlStart(r,B(B({},new ci("resizable").dragStart([0,0],t)),{parentPosition:a.controlPosition,parentFixedPosition:a.fixedPosition})))}$||(et=Gr.dragStart(r,new ci().dragStart([0,0],t))),P(Hw(r));var lt=Ot(r,t,B(B({set:function(ut){a.startValue=ut*Math.PI/180},setFixedDirection:G,setFixedPosition:P},Ko(r,t)),{dragStart:et,resizeStart:$})),ot=ct(r,"onRotateStart",lt);return a.isRotate=ot!==!1,h.snapRenderInfo={request:t.isRequest},a.isRotate?lt:!1},dragControl:function(r,t){var e,n,a,s=t.datas,u=t.clientDistX,f=t.clientDistY,l=t.parentRotate,v=t.parentFlag,d=t.isPinch,h=t.groupDelta,p=t.resolveMatrix,m=s.beforeDirection,_=s.beforeInfo,x=s.afterInfo,y=s.absoluteInfo,S=s.isRotate,E=s.startValue,C=s.rect,M=s.startClientX,R=s.startClientY;if(S){qo(r,t,"rotate");var O=xE(t),T=m*O,I=r.props.parentMoveable,P=0,G,H,W=0,L,Y,X=0,j,tt,U=180/Math.PI*E,nt=y.startValue,et=!1,$=M+u,st=R+f;if(!v&&"parentDist"in t){var lt=t.parentDist;G=lt,L=lt,j=lt}else d||v?(G=Do(l,m,_),L=Do(l,T,x),j=Do(l,T,y)):(G=Tu($,st,m,_),L=Tu($,st,T,x),j=Tu($,st,T,y),et=!0);if(H=U+G,Y=U+L,tt=nt+j,ct(r,"onBeforeRotate",Ot(r,t,{beforeRotation:H,rotation:Y,absoluteRotation:tt,setRotation:function(Wt){L=Wt-U,G=L,j=L}},!0)),e=F(Iu(r,C,_,G,U,et),3),P=e[0],G=e[1],H=e[2],n=F(Iu(r,C,x,L,U,et),3),W=n[0],L=n[1],Y=n[2],a=F(Iu(r,C,y,j,nt,et),3),X=a[0],j=a[1],tt=a[2],!(!X&&!W&&!P&&!I&&!p)){var ot=Uo(s,"rotate(".concat(Y,"deg)"),"rotate(".concat(L,"deg)"));p&&(s.fixedPosition=Af(r,s.targetAllTransform,s.fixedDirection,s.fixedOffset,s));var ut=TE(r,L,s),it=xt(Ht(h||[0,0],ut),s.prevInverseDist||[0,0]);s.prevInverseDist=ut,s.requestValue=null;var vt=bp(r,ot,it,d,t),ht=vt,wt=Xe([$,st],y.startAbsoluteOrigin)-y.startDist,Ft=void 0;if(s.resolveAble==="resizable"){var at=ef.dragControl(r,B(B({},ga(t,r.state,[t.deltaX,t.deltaY],!!d,!1,"resizable")),{resolveMatrix:!0,parentDistance:wt}));at&&(Ft=at,ht=eh(ht,at,t))}var pt=Ot(r,t,B(B({delta:W,dist:L,rotate:Y,rotation:Y,beforeDist:G,beforeDelta:P,beforeRotate:H,beforeRotation:H,absoluteDist:j,absoluteDelta:X,absoluteRotate:tt,absoluteRotation:tt,isPinch:!!d,resize:Ft},vt),ht));return ct(r,"onRotate",pt),pt}}},dragControlEnd:function(r,t){var e=t.datas;if(e.isRotate){e.isRotate=!1;var n=te(r,t,{});return ct(r,"onRotateEnd",n),n}},dragGroupControlCondition:nf,dragGroupControlStart:function(r,t){var e=t.datas,n=r.state,a=n.left,s=n.top,u=n.beforeOrigin,f=this.dragControlStart(r,t);if(!f)return!1;f.set(e.beforeDirection*r.rotation);var l=Ve(r,this,"dragControlStart",t,function(h,p){var m=h.state,_=m.left,x=m.top,y=m.beforeOrigin,S=Ht(xt([_,x],[a,s]),xt(y,u));return p.datas.startGroupClient=S,p.datas.groupClient=S,B(B({},p),{parentRotate:0})}),v=B(B({},f),{targets:r.props.targets,events:l}),d=ct(r,"onRotateGroupStart",v);return e.isRotate=d!==!1,e.isRotate?f:!1},dragGroupControl:function(r,t){var e=t.datas;if(e.isRotate){rs(r,"onBeforeRotate",function(v){ct(r,"onBeforeRotateGroup",Ot(r,t,B(B({},v),{targets:r.props.targets}),!0))});var n=this.dragControl(r,t);if(n){var a=e.beforeDirection,s=n.beforeDist,u=s/180*Math.PI,f=Ve(r,this,"dragControl",t,function(v,d){var h=d.datas.startGroupClient,p=F(d.datas.groupClient,2),m=p[0],_=p[1],x=F(va(h,u*a),2),y=x[0],S=x[1],E=[y-m,S-_];return d.datas.groupClient=[y,S],B(B({},d),{parentRotate:s,groupDelta:E})});r.rotation=a*n.beforeRotation;var l=B({targets:r.props.targets,events:f,set:function(v){r.rotation=v},setGroupRotation:function(v){r.rotation=v}},n);return ct(r,"onRotateGroup",l),l}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(n.isRotate){this.dragControlEnd(r,t);var a=Ve(r,this,"dragControlEnd",t),s=te(r,t,{targets:r.props.targets,events:a});return ct(r,"onRotateGroupEnd",s),e}},request:function(r){var t={},e=0,n=r.getRotation();return{isControl:!0,requestStart:function(){return{datas:t}},request:function(a){return"deltaRotate"in a?e+=a.deltaRotate:"rotate"in a&&(e=a.rotate-n),{datas:t,parentDist:e}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function dw(r,t){var e,n=r.direction,a=r.classNames,s=r.size,u=r.pos,f=r.zoom,l=r.key,v=n==="horizontal",d=v?"Y":"X";return t.createElement("div",{key:l,className:a.join(" "),style:(e={},e[v?"width":"height"]="".concat(s),e.transform="translate(".concat(u[0],", ").concat(u[1],") translate").concat(d,"(-50%) scale").concat(d,"(").concat(f,")"),e)})}function Lf(r,t){return dw(B(B({},r),{classNames:rt([_t("line","guideline",r.direction)],F(r.classNames),!1).filter(function(e){return e}),size:r.size||"".concat(r.sizeValue,"px"),pos:r.pos||r.posValue.map(function(e){return"".concat(Ct(e,.1),"px")})}),t)}function Jv(r,t,e,n,a,s,u,f){var l=r.props.zoom;return e.map(function(v,d){var h=v.type,p=v.pos,m=[0,0];return m[u]=n,m[u?0:1]=-a+p,Lf({key:"".concat(t,"TargetGuideline").concat(d),classNames:[_t("target","bold",h)],posValue:m,sizeValue:s,zoom:l,direction:t},f)})}function Qv(r,t,e,n,a,s){var u=r.props,f=u.zoom,l=u.isDisplayInnerSnapDigit,v=t==="horizontal"?ln:cn,d=a[v.start],h=a[v.end];return e.filter(function(p){var m=p.hide,_=p.elementRect;if(m)return!1;if(l&&_){var x=_.rect;if(x[v.start]<=d&&h<=x[v.end])return!1}return!0}).map(function(p,m){var _=p.pos,x=p.size,y=p.element,S=p.className,E=[-n[0]+_[0],-n[1]+_[1]];return Lf({key:"".concat(t,"-default-guideline-").concat(m),classNames:y?[_t("bold"),S]:[_t("normal"),S],direction:t,posValue:E,sizeValue:x,zoom:f},s)})}function $i(r,t,e,n,a,s,u,f){var l,v=r.props,d=v.snapDigit,h=d===void 0?0:d,p=v.isDisplaySnapDigit,m=p===void 0?!0:p,_=v.snapDistFormat,x=_===void 0?function(R,O){return R}:_,y=v.zoom,S=t==="horizontal"?"X":"Y",E=t==="vertical"?"height":"width",C=Math.abs(a),M=m?parseFloat(C.toFixed(h)):0;return f.createElement("div",{key:"".concat(t,"-").concat(e,"-guideline-").concat(n),className:_t("guideline-group",t),style:(l={left:"".concat(s[0],"px"),top:"".concat(s[1],"px")},l[E]="".concat(C,"px"),l)},Lf({direction:t,classNames:[_t(e),u],size:"100%",posValue:[0,0],sizeValue:C,zoom:y},f),f.createElement("div",{className:_t("size-value","gap"),style:{transform:"translate".concat(S,"(-50%) scale(").concat(y,")")}},M>0?x(M,t):""))}function pw(r,t,e,n){var a=r==="vertical"?0:1,s=r==="vertical"?1:0,u=a?ln:cn,f=e[u.start],l=e[u.end];return nh(t,function(v){return v.pos[a]}).map(function(v){var d=[],h=[],p=[];return v.forEach(function(m){var _,x,y=m.element,S=m.elementRect.rect;if(S[u.end]<f)d.push(m);else if(l<S[u.start])h.push(m);else if(S[u.start]<=f&&l<=S[u.end]&&n){var E=m.pos,C={element:y,rect:B(B({},S),(_={},_[u.end]=S[u.start],_))},M={element:y,rect:B(B({},S),(x={},x[u.start]=S[u.end],x))},R=[0,0],O=[0,0];R[a]=E[a],R[s]=E[s],O[a]=E[a],O[s]=E[s]+m.size,d.push({type:r,pos:R,size:0,elementRect:C,direction:"",elementDirection:"end"}),h.push({type:r,pos:O,size:0,elementRect:M,direction:"",elementDirection:"start"})}}),d.sort(function(m,_){return _.pos[s]-m.pos[s]}),h.sort(function(m,_){return m.pos[s]-_.pos[s]}),{total:v,start:d,end:h,inner:p}})}function hw(r,t,e,n,a){var s=r.props.isDisplayInnerSnapDigit,u=[];return["vertical","horizontal"].forEach(function(f){var l=t.filter(function(y){return y.type===f}),v=f==="vertical"?1:0,d=v?0:1,h=pw(f,l,n,s),p=v?cn:ln,m=v?ln:cn,_=n[p.start],x=n[p.end];h.forEach(function(y){var S=y.total,E=y.start,C=y.end,M=y.inner,R=e[d]+S[0].pos[d]-n[m.start],O=n;E.forEach(function(T){var I=T.elementRect.rect,P=O[p.start]-I[p.end];if(P>0){var G=[0,0];G[v]=e[v]+O[p.start]-_-P,G[d]=R,u.push($i(r,f,"dashed",u.length,P,G,T.className,a))}O=I}),O=n,C.forEach(function(T){var I=T.elementRect.rect,P=I[p.start]-O[p.end];if(P>0){var G=[0,0];G[v]=e[v]+O[p.end]-_,G[d]=R,u.push($i(r,f,"dashed",u.length,P,G,T.className,a))}O=I}),M.forEach(function(T){var I=T.elementRect.rect,P=_-I[p.start],G=I[p.end]-x,H=[0,0],W=[0,0];H[v]=e[v]-P,H[d]=R,W[v]=e[v]+x-_,W[d]=R,u.push($i(r,f,"dashed",u.length,P,H,T.className,a)),u.push($i(r,f,"dashed",u.length,G,W,T.className,a))})})}),u}function gw(r,t,e,n,a){var s=[];return["horizontal","vertical"].forEach(function(u){var f=t.filter(function(y){return y.type===u}).slice(0,1),l=u==="vertical"?0:1,v=l?0:1,d=l?cn:ln,h=l?ln:cn,p=n[d.start],m=n[d.end],_=n[h.start],x=n[h.end];f.forEach(function(y){var S=y.gap,E=y.gapRects,C=Math.max.apply(Math,rt([_],F(E.map(function(O){var T=O.rect;return T[h.start]})),!1)),M=Math.min.apply(Math,rt([x],F(E.map(function(O){var T=O.rect;return T[h.end]})),!1)),R=(C+M)/2;C===M||R===(_+x)/2||E.forEach(function(O){var T=O.rect,I=O.className,P=[e[0],e[1]];if(T[d.end]<p)P[l]+=T[d.end]-p;else if(m<T[d.start])P[l]+=T[d.start]-p-S;else return;P[v]+=R-_,s.push($i(r,l?"vertical":"horizontal","gap",s.length,S,P,I,a))})})}),s}function af(r){var t,e,n=r.state,a=n.containerClientRect,s=n.hasFixed,u=a.overflow,f=a.scrollHeight,l=a.scrollWidth,v=a.clientHeight,d=a.clientWidth,h=a.clientLeft,p=a.clientTop,m=r.props,_=m.snapGap,x=_===void 0?!0:_,y=m.verticalGuidelines,S=m.horizontalGuidelines,E=m.snapThreshold,C=E===void 0?5:E,M=m.maxSnapElementGuidelineDistance,R=M===void 0?1/0:M,O=m.isDisplayGridGuidelines,T=le(ve(r.state)),I=T.top,P=T.left,G=T.bottom,H=T.right,W={top:I,left:P,bottom:G,right:H,center:(P+H)/2,middle:(I+G)/2},L=yw(r),Y=rt([],F(L),!1),X=((e=(t=n.snapThresholdInfo)===null||t===void 0?void 0:t.multiples)!==null&&e!==void 0?e:[1,1]).map(function(nt){return nt*C});x&&Y.push.apply(Y,rt([],F(mw(r,W,X)),!1));var j=B({},n.snapOffset||{left:0,top:0,bottom:0,right:0});if(Y.push.apply(Y,rt([],F(xw(r,u?l:d,u?f:v,h,p,j,O)),!1)),s){var tt=a.left,U=a.top;j.left+=tt,j.top+=U,j.right+=tt,j.bottom+=U}return Y.push.apply(Y,rt([],F(Xp(S||!1,y||!1,u?l:d,u?f:v,h,p,j)),!1)),Y=Y.filter(function(nt){var et=nt.element,$=nt.elementRect,st=nt.type;if(!et||!$)return!0;var lt=$.rect;return Yp(W,lt,st,R)}),Y}function mw(r,t,e){var n=r.props,a=n.maxSnapElementGuidelineDistance,s=a===void 0?1/0:a,u=n.maxSnapElementGapDistance,f=u===void 0?1/0:u,l=r.state.elementRects,v=[];return[["vertical",ln,cn],["horizontal",cn,ln]].forEach(function(d){var h=F(d,3),p=h[0],m=h[1],_=h[2],x=t[m.start],y=t[m.end],S=t[m.center],E=t[_.start],C=t[_.end],M={left:e[0],top:e[1]};function R(I){var P=I.rect,G=M[m.start];return P[m.end]<x+G?x-P[m.end]:y-G<P[m.start]?P[m.start]-y:-1}var O=l.filter(function(I){var P=I.rect;return P[_.start]>C||P[_.end]<E?!1:R(I)>0}).sort(function(I,P){return R(I)-R(P)}),T=[];O.forEach(function(I){O.forEach(function(P){if(I!==P){var G=I.rect,H=P.rect,W=G[_.start],L=G[_.end],Y=H[_.start],X=H[_.end];W>X||Y>L||T.push([I,P])}})}),T.forEach(function(I){var P=F(I,2),G=P[0],H=P[1],W=G.rect,L=H.rect,Y=W[m.start],X=W[m.end],j=L[m.start],tt=L[m.end],U=M[m.start],nt=0,et=0,$=!1,st=!1,lt=!1;if(X<=x&&y<=j){if(st=!0,nt=(j-X-(y-x))/2,et=X+nt+(y-x)/2,J(et-S)>U)return}else if(X<j&&tt<x+U){if($=!0,nt=j-X,et=tt+nt,J(et-x)>U)return}else if(X<j&&y-U<Y){if(lt=!0,nt=j-X,et=Y-nt,J(et-y)>U)return}else return;nt&&Yp(t,L,p,s)&&(nt>f||v.push({type:p,pos:p==="vertical"?[et,0]:[0,et],element:H.element,size:0,className:H.className,isStart:$,isCenter:st,isEnd:lt,gap:nt,hide:!0,gapRects:[G,H],direction:"",elementDirection:""}))})}),v}function _w(r,t,e,n){var a,s,u=r.props,f=r.state,l=u.snapGridAll,v=u.snapGridWidth,d=v===void 0?0:v,h=u.snapGridHeight,p=h===void 0?0:h,m=f.snapRenderInfo,_=m&&(((a=m.direction)===null||a===void 0?void 0:a[0])||((s=m.direction)===null||s===void 0?void 0:s[1])),x=r.moveables;if(l&&x&&_&&(d||p)){if(f.snapThresholdInfo)return;f.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var y=r.getRect(),S=y.children,E=m.direction;if(S){var C=E.map(function(R,O){var T=O===0?{snapSize:d,posName:"left",sizeName:"width",clientOffset:n.left-t}:{snapSize:p,posName:"top",sizeName:"height",clientOffset:n.top-e},I=T.snapSize,P=T.posName,G=T.sizeName,H=T.clientOffset;if(!I)return{dir:R,multiple:1,snapSize:I,snapOffset:0};var W=y[G],L=y[P],Y=Bd(S.map(function($){return[$[P]-L,$[G],W-$[G]-$[P]+L]})).filter(function($){return $}).sort(function($,st){return $-st}),X=Y[0],j=Y.map(function($){return Ct($/X,.1)*I}),tt=1,U=Ct(W/X,.1);for(tt=1;tt<=10&&!j.every(function($){return $*tt%1===0});++tt);var nt=(-R+1)/2,et=Ro(L-H,L-H+W,nt,1-nt);return{multiple:U*tt,dir:R,snapSize:I,snapOffset:Math.round(et/I)}}),M=C.map(function(R){return R.multiple||1});f.snapThresholdInfo.multiples=M,f.snapThresholdInfo.offset=C.map(function(R){return R.snapOffset}),C.forEach(function(R,O){R.snapSize})}}else f.snapThresholdInfo=null}function xw(r,t,e,n,a,s,u){n===void 0&&(n=0),a===void 0&&(a=0);var f=r.props,l=r.state,v=f.snapGridWidth,d=v===void 0?0:v,h=f.snapGridHeight,p=h===void 0?0:h,m=[],_=s.left,x=s.top,y=[0,0];_w(r,n,a,s);var S=l.snapThresholdInfo,E=d,C=p;if(S&&(d*=S.multiples[0]||1,p*=S.multiples[1]||1,y=S.offset),p){for(var M=function(O){m.push({type:"horizontal",pos:[_,Ct(y[1]*C+O-a+x,.1)],className:_t("grid-guideline"),size:t,hide:!u,direction:"",grid:!0})},R=0;R<=e*2;R+=p)M(R);for(var R=-p;R>=-e;R-=p)M(R)}if(d){for(var M=function(T){m.push({type:"vertical",pos:[Ct(y[0]*E+T-n+_,.1),x],className:_t("grid-guideline"),size:e,hide:!u,direction:"",grid:!0})},R=0;R<=t*2;R+=d)M(R);for(var R=-d;R>=-t;R-=d)M(R)}return m}function Yp(r,t,e,n){return e==="horizontal"?J(r.right-t.left)<=n||J(r.left-t.right)<=n||r.left<=t.right&&t.left<=r.right:e==="vertical"?J(r.bottom-t.top)<=n||J(r.top-t.bottom)<=n||r.top<=t.bottom&&t.top<=r.bottom:!0}function yw(r){var t=r.state,e=r.props.elementGuidelines,n=e===void 0?[]:e;if(!n.length)return t.elementRects=[],[];var a=(t.elementRects||[]).filter(function(p){return!p.refresh}),s=n.map(function(p){return ye(p)&&"element"in p?B(B({},p),{element:Me(p.element,!0)}):{element:Me(p,!0)}}).filter(function(p){return p.element}),u=Tb(a.map(function(p){return p.element}),s.map(function(p){return p.element})),f=u.maintained,l=u.added,v=[];f.forEach(function(p){var m=F(p,2),_=m[0],x=m[1];v[x]=a[_]}),Sw(r,l.map(function(p){return s[p]})).map(function(p,m){v[l[m]]=p}),t.elementRects=v;var d=Bf(r.props.elementSnapDirections),h=[];return v.forEach(function(p){var m=p.element,_=p.top,x=_===void 0?d.top:_,y=p.left,S=y===void 0?d.left:y,E=p.right,C=E===void 0?d.right:E,M=p.bottom,R=M===void 0?d.bottom:M,O=p.center,T=O===void 0?d.center:O,I=p.middle,P=I===void 0?d.middle:I,G=p.className,H=p.rect,W=Gf({top:x,right:C,left:S,bottom:R,center:T,middle:P},H),L=W.horizontal,Y=W.vertical,X=W.horizontalNames,j=W.verticalNames,tt=H.top,U=H.left,nt=H.right-U,et=H.bottom-tt,$=[nt,et];Y.forEach(function(st,lt){h.push({type:"vertical",element:m,pos:[Ct(st,.1),tt],size:et,sizes:$,className:G,elementRect:p,elementDirection:Yv[j[lt]]||j[lt],direction:""})}),L.forEach(function(st,lt){h.push({type:"horizontal",element:m,pos:[U,Ct(st,.1)],size:nt,sizes:$,className:G,elementRect:p,elementDirection:Yv[X[lt]]||X[lt],direction:""})})}),h}function jv(r,t){return r?r.map(function(e){var n=ye(e)?e:{pos:e},a=n.pos;return fi(a)?n:B(B({},n),{pos:Zt(a,t)})}):[]}function Xp(r,t,e,n,a,s,u){a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u={left:0,top:0,right:0,bottom:0});var f=[],l=u.left,v=u.top,d=u.bottom,h=u.right,p=e+h-l,m=n+d-v;return jv(r,m).forEach(function(_){f.push({type:"horizontal",pos:[l,Ct(_.pos-s+v,.1)],size:p,className:_.className,direction:""})}),jv(t,p).forEach(function(_){f.push({type:"vertical",pos:[Ct(_.pos-a+l,.1),v],size:m,className:_.className,direction:""})}),f}function Sw(r,t){if(!t.length)return[];var e=r.props.groupable,n=r.state,a=n.containerClientRect,s=n.rootMatrix,u=n.is3d,f=n.offsetDelta,l=u?4:3,v=F(VE(s,a,l),2),d=v[0],h=v[1],p=e?0:f[0],m=e?0:f[1];return t.map(function(_){var x=_.element.getBoundingClientRect(),y=x.left-d-p,S=x.top-h-m,E=S+x.height,C=y+x.width,M=F(pi(s,[y,S],l),2),R=M[0],O=M[1],T=F(pi(s,[C,E],l),2),I=T[0],P=T[1];return B(B({},_),{rect:{left:R,right:I,top:O,bottom:P,center:(R+I)/2,middle:(O+P)/2}})})}function go(r){var t=r.state,e=t.container,n=r.props.snapContainer||e;if(t.snapContainer===n&&t.guidelines&&t.guidelines.length)return!1;var a=t.containerClientRect,s={left:0,top:0,bottom:0,right:0};if(e!==n){var u=Me(n,!0);if(u){var f=ji(u),l=ad(t,[f.left-a.left,f.top-a.top]),v=ad(t,[f.right-a.right,f.bottom-a.bottom]);s.left=Ct(l[0],1e-5),s.top=Ct(l[1],1e-5),s.right=Ct(v[0],1e-5),s.bottom=Ct(v[1],1e-5)}}return t.snapContainer=n,t.snapOffset=s,t.guidelines=af(r),t.enableSnap=!0,!0}function Vp(r,t,e,n,a,s){var u=Fn(r,t,e,s?4:3),f=Er(u,n);return kf(u,xt(a,f))}function td(r){return r?r/J(r):0}function bw(r,t,e,n,a,s){var u=s.fixedDirection,f=KE(e,u,n),l=Ff(r,t,e,n),v=rt(rt([],F(sw(r,t,f,n,a,s)),!1),F(Np(r,l,s)),!1),d=Go(v,0),h=Go(v,1);return{width:{isBound:d.isBound,offset:d.offset[0]},height:{isBound:h.isBound,offset:h.offset[1]}}}function Ew(r,t,e,n,a,s,u,f,l){var v=Er(t,u),d=jo(r,f,{vertical:[v[0]],horizontal:[v[1]]}),h=d.horizontal.offset,p=d.vertical.offset;if(Ct(p,Ju)||Ct(h,Ju)){var m=F(Re({datas:l,distX:-p,distY:-h}),2),_=m[0],x=m[1],y=Math.min(a||1/0,e+u[0]*_),S=Math.min(s||1/0,n+u[1]*x);return[y-e,S-n]}return[0,0]}function $p(r,t,e,n,a,s,u,f){for(var l=ve(r.state),v=r.props.keepRatio,d=0,h=0,p=0;p<2;++p){var m=t(d,h),_=bw(r,m,a,v,u,f),x=_.width,y=_.height,S=x.isBound,E=y.isBound,C=x.offset,M=y.offset;if(p===1&&(S||(C=0),E||(M=0)),p===0&&u&&!S&&!E)return[0,0];if(v){var R=J(C)*(e?1/e:1),O=J(M)*(n?1/n:1),T=S&&E?R<O:E||!S&&R<O;T?C=e*M/n:M=n*C/e}d+=C,h+=M}if(!v&&a[0]&&a[1]){var I=fw(r,l,a,s,f),P=I.maxWidth,G=I.maxHeight,H=F(Ew(r,t(d,h).map(function(Y){return Y.map(function(X){return Ct(X,Ju)})}),e+d,n+h,P,G,a,u,f),2),C=H[0],M=H[1];d+=C,h+=M}return[d,h]}function Ji(r){return r<0&&(r=r%360+360),r%=360,r}function ww(r,t){t=Ji(t);var e=Math.floor(r/360),n=e*360+360-t,a=e*360+t;return J(r-n)<J(r-a)?n:a}function Au(r,t){r=Ji(r),t=Ji(t);var e=Ji(r-t);return Math.min(e,360-e)}function Cw(r,t,e,n){var a,s=r.props,u=(a=s[Ip])!==null&&a!==void 0?a:5,f=s[Ap];if(yi(r,"rotatable")){var l=t.pos1,v=t.pos2,d=t.pos3,h=t.pos4,p=t.origin,m=e*Math.PI/180,_=[l,v,d,h].map(function(M){return xt(M,p)}),x=_.map(function(M){return va(M,m)}),y=rt(rt([],F(WE(r,_,x,p,e)),!1),F(rw(r,_,x,p,e)),!1);y.sort(function(M,R){return J(M-e)-J(R-e)});var S=y.length>0;if(S)return{isSnap:S,dist:S?y[0]:e}}if(f!=null&&f.length&&u){var E=f.slice().sort(function(M,R){return Au(M,n)-Au(R,n)}),C=E[0];if(Au(C,n)<=u)return{isSnap:!0,dist:e+ww(n,C)-n}}return{isSnap:!1,dist:e}}function Dw(r,t,e,n,a,s,u){if(!yi(r,"resizable"))return[0,0];var f=u.fixedDirection,l=u.nextAllMatrix,v=r.state,d=v.allMatrix,h=v.is3d;return $p(r,function(p,m){return Vp(l||d,t+p,e+m,f,a,h)},t,e,n,a,s,u)}function Mw(r,t,e,n,a){if(!yi(r,"scalable"))return[0,0];var s=a.startOffsetWidth,u=a.startOffsetHeight,f=a.fixedPosition,l=a.fixedDirection,v=a.is3d,d=$p(r,function(h,p){return Vp(DE(a,Ht(t,[h/s,p/u])),s,u,l,f,v)},s,u,e,f,n,a);return[d[0]/s,d[1]/u]}function Ow(r,t){t.absolutePoses=ve(r.state)}function rd(r){var t=[];return r.forEach(function(e){e.guidelineInfos.forEach(function(n){var a=n.guideline;$r(t,function(s){return s.guideline===a})||(a.direction="",t.push({guideline:a,posInfo:e}))})}),t.map(function(e){var n=e.guideline,a=e.posInfo;return B(B({},n),{direction:a.direction})})}function ed(r,t,e,n,a,s){var u=Pf(Jo(r,s),t,e),f=u.vertical,l=u.horizontal,v=ai();f.forEach(function(_){_.isBound&&(_.direction==="start"&&(v.left=!0),_.direction==="end"&&(v.right=!0),n.push({type:"bounds",pos:_.pos}))}),l.forEach(function(_){_.isBound&&(_.direction==="start"&&(v.top=!0),_.direction==="end"&&(v.bottom=!0),a.push({type:"bounds",pos:_.pos}))});var d=ew(r),h=d.boundMap,p=d.vertical,m=d.horizontal;return p.forEach(function(_){$e(n,function(x){var y=x.type,S=x.pos;return y==="bounds"&&S===_})>=0||n.push({type:"bounds",pos:_})}),m.forEach(function(_){$e(a,function(x){var y=x.type,S=x.pos;return y==="bounds"&&S===_})>=0||a.push({type:"bounds",pos:_})}),{boundMap:v,innerBoundMap:h}}var Rw=Yf("",["resizable","scalable"]),Tw={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",Ip,Ap,Pp,Bp,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(r,t){var e=r.state,n=e.top,a=e.left,s=e.pos1,u=e.pos2,f=e.pos3,l=e.pos4,v=e.snapRenderInfo,d=r.props.snapRenderThreshold,h=d===void 0?1:d;if(!v||!v.render||!yi(r,""))return si(r,"boundMap",ai(),function(ot){return JSON.stringify(ot)}),si(r,"innerBoundMap",ai(),function(ot){return JSON.stringify(ot)}),[];e.guidelines=af(r);var p=Math.min(s[0],u[0],f[0],l[0]),m=Math.min(s[1],u[1],f[1],l[1]),_=v.externalPoses||[],x=ve(r.state),y=[],S=[],E=[],C=[],M=[],R=le(x),O=R.width,T=R.height,I=R.top,P=R.left,G=R.bottom,H=R.right,W={left:P,right:H,top:I,bottom:G,center:(P+H)/2,middle:(I+G)/2},L=_.length>0,Y=L?le(_):{};if(!v.request){if(v.direction&&M.push(UE(r,x,v.direction,h,h)),v.snap){var X=le(x);v.center&&(X.middle=(X.top+X.bottom)/2,X.center=(X.left+X.right)/2),M.push(Xv(r,X,h,h))}L&&(v.center&&(Y.middle=(Y.top+Y.bottom)/2,Y.center=(Y.left+Y.right)/2),M.push(Xv(r,Y,h,h))),M.forEach(function(ot){var ut=ot.vertical.posInfos,it=ot.horizontal.posInfos;y.push.apply(y,rt([],F(ut.filter(function(vt){var ht=vt.guidelineInfos;return ht.some(function(wt){var Ft=wt.guideline;return!Ft.hide})}).map(function(vt){return{type:"snap",pos:vt.pos}})),!1)),S.push.apply(S,rt([],F(it.filter(function(vt){var ht=vt.guidelineInfos;return ht.some(function(wt){var Ft=wt.guideline;return!Ft.hide})}).map(function(vt){return{type:"snap",pos:vt.pos}})),!1)),E.push.apply(E,rt([],F(rd(ut)),!1)),C.push.apply(C,rt([],F(rd(it)),!1))})}var j=ed(r,[P,H],[I,G],y,S),tt=j.boundMap,U=j.innerBoundMap;L&&ed(r,[Y.left,Y.right],[Y.top,Y.bottom],y,S,v.externalBounds);var nt=rt(rt([],F(E),!1),F(C),!1),et=nt.filter(function(ot){return ot.element&&!ot.gapRects}),$=nt.filter(function(ot){return ot.gapRects}).sort(function(ot,ut){return ot.gap-ut.gap});ct(r,"onSnap",{guidelines:nt.filter(function(ot){var ut=ot.element;return!ut}),elements:et,gaps:$},!0);var st=si(r,"boundMap",tt,function(ot){return JSON.stringify(ot)},ai()),lt=si(r,"innerBoundMap",U,function(ot){return JSON.stringify(ot)},ai());return(tt===st||U===lt)&&ct(r,"onBound",{bounds:tt,innerBounds:U},!0),rt(rt(rt(rt(rt(rt([],F(hw(r,et,[p,m],W,t)),!1),F(gw(r,$,[p,m],W,t)),!1),F(Qv(r,"horizontal",C,[a,n],W,t)),!1),F(Qv(r,"vertical",E,[a,n],W,t)),!1),F(Jv(r,"horizontal",S,p,n,O,0,t)),!1),F(Jv(r,"vertical",y,m,a,T,1,t)),!1)},dragStart:function(r,t){r.state.snapRenderInfo={request:t.isRequest,snap:!0,center:!0},go(r)},drag:function(r){var t=r.state;go(r)||(t.guidelines=af(r)),t.snapRenderInfo&&(t.snapRenderInfo.render=!0)},pinchStart:function(r){this.unset(r)},dragEnd:function(r){this.unset(r)},dragControlCondition:function(r,t){if(Rw(r,t)||nf(r,t))return!0;if(!t.isRequest&&t.inputEvent)return br(t.inputEvent.target,_t("snap-control"))},dragControlStart:function(r){r.state.snapRenderInfo=null,go(r)},dragControl:function(r){this.drag(r)},dragControlEnd:function(r){this.unset(r)},dragGroupStart:function(r,t){this.dragStart(r,t)},dragGroup:function(r){this.drag(r)},dragGroupEnd:function(r){this.unset(r)},dragGroupControlStart:function(r){r.state.snapRenderInfo=null,go(r)},dragGroupControl:function(r){this.drag(r)},dragGroupControlEnd:function(r){this.unset(r)},unset:function(r){var t=r.state;t.enableSnap=!1,t.guidelines=[],t.snapRenderInfo=null,t.elementRects=[]}};function Iw(r,t){return[r[0]*t[0],r[1]*t[1]]}function _t(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return wS.apply(void 0,rt([Rf],F(r),!1))}function qp(r){r()}function Aw(r){return!r||r==="none"?[1,0,0,1,0,0]:ye(r)?r:na(r)}function Qi(r,t,e){return Io(t,An(e,t),r,An(e.map(function(n){return-n}),t))}function Pw(r,t,e){if(t==="%"){var n=Nf(r.ownerSVGElement);return n[e?"width":"height"]/100}return 1}function Bw(r){var t=Gw(Wf(r,":before"));return t.map(function(e,n){var a=ua(e),s=a.value,u=a.unit;return s*Pw(r,u,n===0)})}function Fo(r){return r?r.split(" "):["0","0"]}function Gw(r){return Fo(r.transformOrigin)}function Up(r){var t=qr(r),e=t("transform");if(e&&e!=="none")return e;if("transform"in r){var n=r.transform,a=n.baseVal;if(!a)return"";var s=a.length;if(!s)return"";for(var u=[],f=function(v){var d=a[v].matrix;u.push("matrix(".concat(["a","b","c","d","e","f"].map(function(h){return d[h]}).join(", "),")"))},l=0;l<s;++l)f(l);return u.join(" ")}return""}function aa(r,t,e,n,a){var s,u,f=_f(r)||vn(r),l=!1,v,d;if(!r||e)v=r;else{var h=(s=r==null?void 0:r.assignedSlot)===null||s===void 0?void 0:s.parentElement,p=r.parentElement;h?(l=!0,d=p,v=h):v=p}for(var m=!1,_=r===t||v===t,x="relative",y=1,S=parseFloat(a==null?void 0:a("zoom"))||1,E=a==null?void 0:a("position");v&&v!==f;){t===v&&(_=!0);var C=qr(v),M=v.tagName.toLowerCase(),R=Up(v),O=C("willChange"),T=parseFloat(C("zoom"))||1;if(x=C("position"),n&&T!==1){y=T;break}if(!e&&n&&S!==1&&E&&E!=="absolute"||M==="svg"||M==="foreignobject"||x!=="static"||R&&R!=="none"||O==="transform")break;var I=(u=r==null?void 0:r.assignedSlot)===null||u===void 0?void 0:u.parentNode,P=v.parentNode;I&&(l=!0,d=P);var G=P;if(G&&G.nodeType===11){v=G.host,m=!0,x=qr(v)("position");break}v=G,x="relative"}return{offsetZoom:y,hasSlot:l,parentSlotElement:d,isCustomElement:m,isStatic:x==="static",isEnd:_||!v||v===f,offsetParent:v||f}}function zw(r,t){var e,n=r.tagName.toLowerCase(),a=r.offsetLeft,s=r.offsetTop,u=qr(r),f=sa(a),l=!f,v,d;return!l&&(n!=="svg"||r.ownerSVGElement)?(v=dp?Bw(r):Fo(u("transformOrigin")).map(function(h){return parseFloat(h)}),d=v.slice(),l=!0,n==="svg"?(a=0,s=0):(e=F(Nw(r,v,r===t&&t.tagName.toLowerCase()==="g"),4),a=e[0],s=e[1],v[0]=e[2],v[1]=e[3])):(v=Fo(u("transformOrigin")).map(function(h){return parseFloat(h)}),d=v.slice()),{tagName:n,isSVG:f,hasOffset:l,offset:[a||0,s||0],origin:v,targetOrigin:d}}function Kp(r,t){var e=qr(r),n=qr(vn(r)),a=n("position");if(!t&&(!a||a==="static"))return[0,0];var s=parseInt(n("marginLeft"),10),u=parseInt(n("marginTop"),10);return e("position")==="absolute"&&((e("top")!=="auto"||e("bottom")!=="auto")&&(u=0),(e("left")!=="auto"||e("right")!=="auto")&&(s=0)),[s,u]}function of(r){r.forEach(function(t){var e=t.matrix;e&&(t.matrix=Se(e,3,4))})}function Fw(r){for(var t=r.parentElement,e=!1,n=vn(r);t;){var a=Wf(t).transform;if(a&&a!=="none"){e=!0;break}if(t===n)break;t=t.parentElement}return{fixedContainer:t||n,hasTransform:e}}function ts(r,t){return t===void 0&&(t=r.length>9),"".concat(t?"matrix3d":"matrix","(").concat(ap(r,!t).join(","),")")}function Nf(r){var t=r.clientWidth,e=r.clientHeight;if(!r)return{x:0,y:0,width:0,height:0,clientWidth:t,clientHeight:e};var n=r.viewBox,a=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:a.x,y:a.y,width:a.width||t,height:a.height||e,clientWidth:t,clientHeight:e}}function Lw(r,t){var e,n=Nf(r),a=n.width,s=n.height,u=n.clientWidth,f=n.clientHeight,l=u/a,v=f/s,d=r.preserveAspectRatio.baseVal,h=d.align,p=d.meetOrSlice,m=[0,0],_=[l,v],x=[0,0];if(h!==1){var y=(h-2)%3,S=Math.floor((h-2)/3);m[0]=a*y/2,m[1]=s*S/2;var E=p===2?Math.max(v,l):Math.min(l,v);_[0]=E,_[1]=E,x[0]=(u-a)/2*y,x[1]=(f-s)/2*S}var C=Cf(_,t);return e=F(x,2),C[t*(t-1)]=e[0],C[t*(t-1)+1]=e[1],Qi(C,t,m)}function Nw(r,t,e){var n=r.tagName.toLowerCase();if(!r.getBBox||!e&&n==="g")return[0,0,0,0];var a=qr(r),s=a("transform-box")==="fill-box",u=r.getBBox(),f=Nf(r.ownerSVGElement),l=u.x,v=u.y;n==="foreignobject"&&!l&&!v&&(l=parseFloat(r.getAttribute("x"))||0,v=parseFloat(r.getAttribute("y"))||0);var d=l-f.x,h=v-f.y,p=s?t[0]:t[0]-d,m=s?t[1]:t[1]-h;return[d,h,p,m]}function or(r,t,e){return Ir(r,In(t,e),e)}function Fn(r,t,e,n){return[[0,0],[t,0],[0,e],[t,e]].map(function(a){return or(r,a,n)})}function le(r){var t=r.map(function(v){return v[0]}),e=r.map(function(v){return v[1]}),n=Math.min.apply(Math,rt([],F(t),!1)),a=Math.min.apply(Math,rt([],F(e),!1)),s=Math.max.apply(Math,rt([],F(t),!1)),u=Math.max.apply(Math,rt([],F(e),!1)),f=s-n,l=u-a;return{left:n,top:a,right:s,bottom:u,width:f,height:l}}function nd(r,t,e,n){var a=Fn(r,t,e,n);return le(a)}function kw(r,t,e,n,a){var s,u=r.target,f=r.origin,l=t.matrix,v=Jp(u),d=v.offsetWidth,h=v.offsetHeight,p=e.getBoundingClientRect(),m=[0,0];e===vn(e)&&(m=Kp(u,!0));for(var _=u.getBoundingClientRect(),x=_.left-p.left+e.scrollLeft-(e.clientLeft||0)+m[0],y=_.top-p.top+e.scrollTop-(e.clientTop||0)+m[1],S=_.width,E=_.height,C=Io(n,a,l),M=nd(C,d,h,n),R=M.left,O=M.top,T=M.width,I=M.height,P=or(C,f,n),G=xt(P,[R,O]),H=[x+G[0]*S/T,y+G[1]*E/I],W=[0,0],L=0;++L<10;){var Y=Oe(a,n);s=F(xt(or(Y,H,n),or(Y,P,n)),2),W[0]=s[0],W[1]=s[1];var X=Io(n,a,An(W,n),l),j=nd(X,d,h,n),tt=j.left,U=j.top,nt=tt-x,et=U-y;if(J(nt)<2&&J(et)<2)break;H[0]-=nt,H[1]-=et}return W.map(function($){return Math.round($)})}function Ww(r,t,e){var n=r.length===16,a=n?4:3,s=t.map(function(l){return or(r,l,a)}),u=e.left,f=e.top;return s.map(function(l){return[l[0]+u,l[1]+f]})}function ce(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Zp(r,t){return ce([t[0]-r[0],t[1]-r[1]])}function qi(r,t,e,n){e===void 0&&(e=1),n===void 0&&(n=dr(r,t));var a=Zp(r,t);return{transform:"translateY(-50%) translate(".concat(r[0],"px, ").concat(r[1],"px) rotate(").concat(n,"rad) scaleY(").concat(e,")"),width:"".concat(a,"px")}}function Lo(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=e.length,s=e.reduce(function(f,l){return f+l[0]},0)/a,u=e.reduce(function(f,l){return f+l[1]},0)/a;return{transform:"translateZ(0px) translate(".concat(s,"px, ").concat(u,"px) rotate(").concat(r,"rad) scale(").concat(t,")")}}function Bn(r,t){var e=r[t];return ye(e)?B(B({},r),e):r}function Jp(r){var t=r&&!sa(r.offsetWidth),e=0,n=0,a=0,s=0,u=0,f=0,l=0,v=0,d=0,h=0,p=0,m=0,_=1/0,x=1/0,y=1/0,S=1/0,E=0,C=0,M=!1;if(r)if(!t&&r.ownerSVGElement){var R=r.getBBox();M=!0,e=R.width,n=R.height,u=e,f=n,l=e,v=n,a=e,s=n}else{var O=qr(r),T=r.style,I=O("boxSizing")==="border-box",P=parseFloat(O("borderLeftWidth"))||0,G=parseFloat(O("borderRightWidth"))||0,H=parseFloat(O("borderTopWidth"))||0,W=parseFloat(O("borderBottomWidth"))||0,L=parseFloat(O("paddingLeft"))||0,Y=parseFloat(O("paddingRight"))||0,X=parseFloat(O("paddingTop"))||0,j=parseFloat(O("paddingBottom"))||0,tt=L+Y,U=X+j,nt=P+G,et=H+W,$=tt+nt,st=U+et,lt=O("position"),ot=0,ut=0;if("clientLeft"in r){var it=null;if(lt==="absolute"){var vt=aa(r,vn(r));it=vt.offsetParent}else it=r.parentElement;if(it){var ht=qr(it);ot=parseFloat(ht("width")),ut=parseFloat(ht("height"))}}d=Math.max(tt,Zt(O("minWidth"),ot)||0),h=Math.max(U,Zt(O("minHeight"),ut)||0),_=Zt(O("maxWidth"),ot),x=Zt(O("maxHeight"),ut),isNaN(_)&&(_=1/0),isNaN(x)&&(x=1/0),E=Zt(T.width,0)||0,C=Zt(T.height,0)||0,u=parseFloat(O("width"))||0,f=parseFloat(O("height"))||0,l=J(u-E)<1?Fu(d,E||u,_):u,v=J(f-C)<1?Fu(h,C||f,x):f,e=l,n=v,a=l,s=v,I?(y=_,S=x,p=d,m=h,l=e-$,v=n-st):(y=_+$,S=x+st,p=d+$,m=h+st,e=l+$,n=v+st),a=l+tt,s=v+U}return{svg:M,offsetWidth:e,offsetHeight:n,clientWidth:a,clientHeight:s,contentWidth:l,contentHeight:v,inlineCSSWidth:E,inlineCSSHeight:C,cssWidth:u,cssHeight:f,minWidth:d,minHeight:h,maxWidth:_,maxHeight:x,minOffsetWidth:p,minOffsetHeight:m,maxOffsetWidth:y,maxOffsetHeight:S}}function Qp(r,t){return dr(t>0?r[0]:r[1],t>0?r[1]:r[0])}function mo(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function jp(r,t){var e=r===vn(r)||r===_f(r),n={clientLeft:r.clientLeft,clientTop:r.clientTop,clientWidth:r.clientWidth,clientHeight:r.clientHeight,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight,overflow:!1};return e&&(n.clientHeight=Math.max(t.height,n.clientHeight),n.scrollHeight=Math.max(t.height,n.scrollHeight)),n.overflow=qr(r)("overflow")!=="visible",B(B({},t),n)}function Pu(r,t,e,n){var a=r.left,s=r.right,u=r.top,f=r.bottom,l=t.top,v=t.left,d={left:v+a,top:l+u,right:v+s,bottom:l+f,width:s-a,height:f-u};return e&&n?jp(e,d):d}function ji(r,t){var e=0,n=0,a=0,s=0;if(r){var u=r.getBoundingClientRect();e=u.left,n=u.top,a=u.width,s=u.height}var f={left:e,top:n,width:a,height:s,right:e+a,bottom:n+s};return r&&t?jp(r,f):f}function Hw(r){var t=r.props,e=t.groupable,n=t.svgOrigin,a=r.getState(),s=a.offsetWidth,u=a.offsetHeight,f=a.svg,l=a.transformOrigin;return!e&&f&&n?Vf(n,s,u):l}function th(r,t,e,n){var a;if(r)a=r;else if(t)a=[0,0];else{var s=e.target;a=rh(s,n)}return a}function rh(r,t){if(r){var e=r.getAttribute("data-rotation")||"",n=r.getAttribute("data-direction");if(t.deg=e,!!n){var a=[0,0];return n.indexOf("w")>-1&&(a[0]=-1),n.indexOf("e")>-1&&(a[0]=1),n.indexOf("n")>-1&&(a[1]=-1),n.indexOf("s")>-1&&(a[1]=1),a}}}function kf(r,t){return[Ht(t,r[0]),Ht(t,r[1]),Ht(t,r[2]),Ht(t,r[3])]}function ve(r){var t=r.left,e=r.top,n=r.pos1,a=r.pos2,s=r.pos3,u=r.pos4;return kf([n,a,s,u],[t,e])}function sf(r,t){r[t?"controlAbles":"targetAbles"].forEach(function(e){e.unset&&e.unset(r)})}function oi(r,t){var e=t?"controlGesto":"targetGesto",n=r[e];(n==null?void 0:n.isIdle())===!1&&sf(r,t),n==null||n.unset(),r[e]=null}function Fr(r,t){if(t){var e=xi(t);e.nextStyle=B(B({},e.nextStyle),r)}return{style:r,cssText:qe(r).map(function(n){return"".concat(Co(n,"-"),": ").concat(r[n],";")}).join("")}}function eh(r,t,e){var n=t.afterTransform||t.transform;return B(B({},Fr(B(B(B({},r.style),t.style),{transform:n}),e)),{afterTransform:n,transform:r.transform})}function Ot(r,t,e,n){var a=t.datas;a.datas||(a.datas={});var s=B(B({},e),{target:r.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:r,moveable:r,datas:a.datas,isRequest:t.isRequest,isRequestChild:t.isRequestChild,isFirstDrag:!!t.isFirstDrag,isTrusted:t.isTrusted!==!1,stopAble:function(){a.isEventStart=!1},stopDrag:function(){var u;(u=t.stop)===null||u===void 0||u.call(t)}});return a.isStartEvent?n||(a.lastEvent=s):a.isStartEvent=!0,s}function te(r,t,e){var n=t.datas,a="isDrag"in e?e.isDrag:t.isDrag;return n.datas||(n.datas={}),B(B({isDrag:a},e),{moveable:r,target:r.state.target,clientX:t.clientX,clientY:t.clientY,inputEvent:t.inputEvent,currentTarget:r,lastEvent:n.lastEvent,isDouble:t.isDouble,datas:n.datas,isFirstDrag:!!t.isFirstDrag})}function rs(r,t,e){r._emitter.on(t,e)}function ct(r,t,e,n,a){return r.triggerEvent(t,e,n,a)}function Wf(r,t){return un(r).getComputedStyle(r,t)}function _o(r,t,e){var n={},a={};return r.filter(function(s){var u=s.name;if(n[u]||!t.some(function(f){return s[f]}))return!1;if(!e&&s.ableGroup){if(a[s.ableGroup])return!1;a[s.ableGroup]=!0}return n[u]=!0,!0})}function uf(r,t){return r===t||r==null&&t==null}function id(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=r.length-1,n=0;n<e;++n){var a=r[n];if(!sa(a))return a}return r[e]}function nh(r,t){var e=[],n=[];return r.forEach(function(a,s){var u=t(a,s,r),f=n.indexOf(u),l=e[f]||[];f===-1&&(n.push(u),e.push(l)),l.push(a)}),e}function Yw(r,t){var e=[],n={};return r.forEach(function(a,s){var u=t(a,s,r),f=n[u];f||(f=[],n[u]=f,e.push(f)),f.push(a)}),e}function ih(r){return r.reduce(function(t,e){return t.concat(e)},[])}function di(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.sort(function(e,n){return J(n)-J(e)}),r[0]}function pi(r,t,e){return Ir(Oe(r,e),In(t,e),e)}function ah(r,t){var e,n=r.is3d,a=r.rootMatrix,s=n?4:3;return e=F(pi(a,[t.distX,t.distY],s),2),t.distX=e[0],t.distY=e[1],t}function fe(r,t,e,n){if(!e[0]&&!e[1])return t;var a=or(r,[td(e[0]||1),0],n),s=or(r,[0,td(e[1]||1)],n),u=or(r,[e[0]/ce(a),e[1]/ce(s)],n);return Ht(t,u)}function me(r,t,e){return e?"".concat(r/t*100,"%"):"".concat(r,"px")}function No(r){return J(r)<=Lr?0:r}function Hf(r){return function(t){if(!t.isDragging(r))return"";var e=PE(t,r),n=e.deg;return n?_t("view-control-rotation".concat(n)):""}}function Yf(r,t){return t===void 0&&(t=[r]),function(e,n){if(n.isRequest)return t.some(function(s){return n.requestAble===s})?n.parentDirection:!1;var a=n.inputEvent.target;return br(a,_t("direction"))&&(!r||br(a,_t(r)))}}function Xw(r,t,e){var n,a=li(r,{"x%":function(R){return R/100*t.offsetWidth},"y%":function(R){return R/100*t.offsetHeight}}),s=r.slice(0,e<0?void 0:e),u=r.slice(0,e<0?void 0:e+1),f=r[e]||"",l=e<0?[]:r.slice(e),v=e<0?[]:r.slice(e+1),d=a.slice(0,e<0?void 0:e),h=a.slice(0,e<0?void 0:e+1),p=(n=a[e])!==null&&n!==void 0?n:li([""])[0],m=e<0?[]:a.slice(e),_=e<0?[]:a.slice(e+1),x=p?[p]:[],y=ei(d),S=ei(h),E=ei(m),C=ei(_),M=Jt(y,E,4);return{transforms:r,beforeFunctionMatrix:y,beforeFunctionMatrix2:S,targetFunctionMatrix:ei(x),afterFunctionMatrix:E,afterFunctionMatrix2:C,allFunctionMatrix:M,beforeFunctions:d,beforeFunctions2:h,targetFunction:x[0],afterFunctions:m,afterFunctions2:_,beforeFunctionTexts:s,beforeFunctionTexts2:u,targetFunctionText:f,afterFunctionTexts:l,afterFunctionTexts2:v}}function Vw(r){return!r||!ye(r)||mi(r)?!1:mr(r)||"length"in r}function Me(r,t){return r?mi(r)?r:Vr(r)?t?document.querySelector(r):r:hf(r)?r():Ld(r)?r:"current"in r?r.current:r:null}function Xf(r,t){if(!r)return[];var e=Vw(r)?[].slice.call(r):[r];return e.reduce(function(n,a){return Vr(a)&&t?rt(rt([],F(n),!1),F([].slice.call(document.querySelectorAll(a))),!1):(mr(a)?n.push(Xf(a,t)):n.push(Me(a,t)),n)},[])}function $w(r,t,e){var n=dr(r,t)/Math.PI*180;return n=e>=0?n:180-n,n=n>=0?n:360+n,n}function ad(r,t){var e=r.rootMatrix,n=r.is3d,a=n?4:3,s=Oe(e,a);return n||(s=Se(s,3,4)),s[12]=0,s[13]=0,s[14]=0,Ob(s,t)}function oh(r,t,e,n,a){var s=F(r,2),u=s[0],f=s[1],l=0,v=0;if(a&&u&&f){var d=dr([0,0],t),h=dr([0,0],n),p=ce(t),m=Math.cos(d-h)*p;if(!n[0])v=m,l=v*e;else if(!n[1])l=m,v=l/e;else{var _=n[0]*u,x=n[1]*f,y=Math.atan2(_+t[0],x+t[1]),S=Math.atan2(_,x);y<0&&(y+=Math.PI*2),S<0&&(S+=Math.PI*2);var E=0;J(y-S)<Math.PI/2||J(y-S)>Math.PI/2*3||(S+=Math.PI),E=y-S,E>Math.PI*2?E-=Math.PI*2:E>Math.PI?E=2*Math.PI-E:E<-Math.PI&&(E=-2*Math.PI-E);var C=ce([_+t[0],x+t[1]])*Math.cos(E);l=C*Math.sin(S)-_,v=C*Math.cos(S)-x,n[0]<0&&(l*=-1),n[1]<0&&(v*=-1)}}else l=n[0]*t[0],v=n[1]*t[1];return[l,v]}function sh(r,t,e,n){var a,s=e.ratio,u=e.startOffsetWidth,f=e.startOffsetHeight,l=0,v=0,d=n.distX,h=n.distY,p=n.pinchScale,m=n.parentDistance,_=n.parentDist,x=n.parentScale,y=e.fixedDirection,S=[0,1].map(function(T){return J(r[T]-y[T])}),E=[0,1].map(function(T){var I=S[T];return I!==0&&(I=2/I),I});if(_)l=_[0],v=_[1],t&&(l?v||(v=l/s):l=v*s);else if(fi(p))l=(p-1)*u,v=(p-1)*f;else if(x)l=(x[0]-1)*u,v=(x[1]-1)*f;else if(m){var C=u*S[0],M=f*S[1],R=ce([C,M]);l=m/R*C*E[0],v=m/R*M*E[1]}else{var O=Re({datas:e,distX:d,distY:h});O=E.map(function(T,I){return O[I]*T}),a=F(oh([u,f],O,s,r,t),2),l=a[0],v=a[1]}return{distWidth:l,distHeight:v}}function ff(r,t){if(t){if(r==="left")return{x:"0%",y:"50%"};if(r==="top")return{x:"50%",y:"50%"};if(r==="center")return{x:"50%",y:"50%"};if(r==="right")return{x:"100%",y:"50%"};if(r==="bottom")return{x:"50%",y:"100%"};var e=F(r.split(" "),2),n=e[0],a=e[1],s=ff(n||""),u=ff(a||""),f=B(B({},s),u),l={x:"50%",y:"50%"};return f.x&&(l.x=f.x),f.y&&(l.y=f.y),f.value&&(f.x&&!f.y&&(l.y=f.value),!f.x&&f.y&&(l.x=f.value)),l}return r==="left"?{x:"0%"}:r==="right"?{x:"100%"}:r==="top"?{y:"0%"}:r==="bottom"?{y:"100%"}:r?r==="center"?{value:"50%"}:{value:r}:{}}function Vf(r,t,e){var n=ff(r,!0),a=n.x,s=n.y;return[Zt(a,t)||0,Zt(s,e)||0]}function qw(r,t,e){var n=r.map(function(s){return xt(s,t)}),a=n.map(function(s){return va(s,e)});return{prev:n,next:a,result:a.map(function(s){return Ht(s,t)})}}function uh(r,t){return r.length===t.length&&r.every(function(e,n){var a=t[n],s=mr(e),u=mr(a);return s&&u?uh(e,a):!s&&!u?e===a:!1})}function si(r,t,e,n,a){var s=r._store,u=s[t];if(!(t in s))if(a!=null)s[t]=a,u=a;else return s[t]=e,e;return u===e||n(u)===n(e)?u:(s[t]=e,e)}function zr(r){return r>=0?1:-1}function J(r){return Math.abs(r)}function Bu(r,t){return WS(r).map(function(e){return t(e)})}function fh(r){return fi(r)?{top:r,left:r,right:r,bottom:r}:{left:r.left||0,top:r.top||0,right:r.right||0,bottom:r.bottom||0}}var Uw=ha("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(r,t){var e=t.datas,n=t.targets,a=t.angle,s=t.originalDatas,u=r.props,f=u.pinchable,l=u.ables;if(!f)return!1;var v="onPinch".concat(n?"Group":"","Start"),d="drag".concat(n?"Group":"","ControlStart"),h=(f===!0?r.controlAbles:l.filter(function(x){return f.indexOf(x.name)>-1})).filter(function(x){return x.canPinch&&x[d]}),p=Ot(r,t,{});n&&(p.targets=n);var m=ct(r,v,p);e.isPinch=m!==!1,e.ables=h;var _=e.isPinch;return _?(h.forEach(function(x){if(s[x.name]=s[x.name]||{},!!x[d]){var y=B(B({},t),{datas:s[x.name],parentRotate:a,isPinch:!0});x[d](r,y)}}),r.state.snapRenderInfo={request:t.isRequest,direction:[0,0]},_):!1},pinch:function(r,t){var e=t.datas,n=t.scale,a=t.distance,s=t.originalDatas,u=t.inputEvent,f=t.targets,l=t.angle;if(e.isPinch){var v=a*(1-1/n),d=Ot(r,t,{});f&&(d.targets=f);var h="onPinch".concat(f?"Group":"");ct(r,h,d);var p=e.ables,m="drag".concat(f?"Group":"","Control");return p.forEach(function(_){_[m]&&_[m](r,B(B({},t),{datas:s[_.name],inputEvent:u,resolveMatrix:!0,pinchScale:n,parentDistance:v,parentRotate:l,isPinch:!0}))}),d}},pinchEnd:function(r,t){var e=t.datas,n=t.isPinch,a=t.inputEvent,s=t.targets,u=t.originalDatas;if(e.isPinch){var f="onPinch".concat(s?"Group":"","End"),l=te(r,t,{isDrag:n});s&&(l.targets=s),ct(r,f,l);var v=e.ables,d="drag".concat(s?"Group":"","ControlEnd");return v.forEach(function(h){h[d]&&h[d](r,B(B({},t),{isDrag:n,datas:u[h.name],inputEvent:a,isPinch:!0}))}),n}},pinchGroupStart:function(r,t){return this.pinchStart(r,B(B({},t),{targets:r.props.targets}))},pinchGroup:function(r,t){return this.pinch(r,B(B({},t),{targets:r.props.targets}))},pinchGroupEnd:function(r,t){return this.pinchEnd(r,B(B({},t),{targets:r.props.targets}))}}),od=Yf("scalable"),Kw={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:Op("scalable"),dragControlCondition:od,viewClassName:Hf("scalable"),dragControlStart:function(r,t){var e=t.datas,n=t.isPinch,a=t.inputEvent,s=t.parentDirection,u=th(s,n,a,e),f=r.state,l=f.width,v=f.height,d=f.targetTransform,h=f.target,p=f.pos1,m=f.pos2,_=f.pos4;if(!u||!h)return!1;n||zn(r,t),e.datas={},e.transform=d,e.prevDist=[1,1],e.direction=u,e.startOffsetWidth=l,e.startOffsetHeight=v,e.startValue=[1,1];var x=!u[0]&&!u[1]||u[0]||!u[1];Zo(r,t,"scale"),e.isWidth=x;function y(O){e.ratio=O&&isFinite(O)?O:0}e.startPositions=ve(r.state);function S(O){var T=kp(e.startPositions,O);e.fixedDirection=T.fixedDirection,e.fixedPosition=T.fixedPosition,e.fixedOffset=T.fixedOffset}e.setFixedDirection=S,y(Xe(p,m)/Xe(m,_)),S([-u[0],-u[1]]);var E=function(O){e.minScaleSize=O},C=function(O){e.maxScaleSize=O};E([-1/0,-1/0]),C([1/0,1/0]);var M=Ot(r,t,B(B({direction:u,set:function(O){e.startValue=O},setRatio:y,setFixedDirection:S,setMinScaleSize:E,setMaxScaleSize:C},Ko(r,t)),{dragStart:Gr.dragStart(r,new ci().dragStart([0,0],t))})),R=ct(r,"onScaleStart",M);return e.startFixedDirection=e.fixedDirection,R!==!1&&(e.isScale=!0,r.state.snapRenderInfo={request:t.isRequest,direction:u}),e.isScale?M:!1},dragControl:function(r,t){qo(r,t,"scale");var e=t.datas,n=t.parentKeepRatio,a=t.parentFlag,s=t.isPinch,u=t.dragClient,f=t.isRequest,l=t.useSnap,v=t.resolveMatrix,d=e.prevDist,h=e.direction,p=e.startOffsetWidth,m=e.startOffsetHeight,_=e.isScale,x=e.startValue,y=e.isWidth,S=e.ratio;if(!_)return!1;var E=r.props,C=E.throttleScale,M=E.parentMoveable,R=h;!h[0]&&!h[1]&&(R=[1,1]);var O=S&&(n??E.keepRatio)||!1,T=r.state,I=[x[0],x[1]];function P(){var at=sh(R,O,e,t),pt=at.distWidth,Wt=at.distHeight,mt=p?(p+pt)/p:1,Et=m?(m+Wt)/m:1;x[0]||(I[0]=pt/p),x[1]||(I[1]=Wt/m);var At=(R[0]||O?mt:1)*I[0],Gt=(R[1]||O?Et:1)*I[1];return At===0&&(At=zr(d[0])*vo),Gt===0&&(Gt=zr(d[1])*vo),[At,Gt]}var G=P();if(!s&&r.props.groupable){var H=T.snapRenderInfo||{},W=H.direction;mr(W)&&(W[0]||W[1])&&(T.snapRenderInfo={direction:h,request:t.isRequest})}ct(r,"onBeforeScale",Ot(r,t,{scale:G,setFixedDirection:function(at){return e.setFixedDirection(at),G=P(),G},startFixedDirection:e.startFixedDirection,setScale:function(at){G=at}},!0));var L=[G[0]/I[0],G[1]/I[1]],Y=u,X=[0,0],j=zr(L[0]*L[1]),tt=!u&&!a&&s;if(tt||v?Y=Af(r,e.targetAllTransform,[0,0],[0,0],e):u||(Y=e.fixedPosition),s||(X=Mw(r,L,h,!l&&f,e)),O){R[0]&&R[1]&&X[0]&&X[1]&&(Math.abs(X[0]*p)>Math.abs(X[1]*m)?X[1]=0:X[0]=0);var U=!X[0]&&!X[1];if(U&&(y?L[0]=Ct(L[0]*I[0],C)/I[0]:L[1]=Ct(L[1]*I[1],C)/I[1]),R[0]&&!R[1]||X[0]&&!X[1]||U&&y){L[0]+=X[0];var nt=p*L[0]*I[0]/S;L[1]=zr(j*L[0])*J(nt/m/I[1])}else if(!R[0]&&R[1]||!X[0]&&X[1]||U&&!y){L[1]+=X[1];var et=m*L[1]*I[1]*S;L[0]=zr(j*L[1])*J(et/p/I[0])}}else L[0]+=X[0],L[1]+=X[1],X[0]||(L[0]=Ct(L[0]*I[0],C)/I[0]),X[1]||(L[1]=Ct(L[1]*I[1],C)/I[1]);L[0]===0&&(L[0]=zr(d[0])*vo),L[1]===0&&(L[1]=zr(d[1])*vo),G=Iw(L,[I[0],I[1]]);var $=[p,m],st=[p*G[0],m*G[1]];st=Pd(st,e.minScaleSize,e.maxScaleSize,O?S:!1),G=Bu(2,function(at){return $[at]?st[at]/$[at]:st[at]}),L=Bu(2,function(at){return G[at]/I[at]});var lt=Bu(2,function(at){return d[at]?L[at]/d[at]:L[at]}),ot="scale(".concat(L.join(", "),")"),ut="scale(".concat(G.join(", "),")"),it=Uo(e,ut,ot),vt=!x[0]||!x[1],ht=ME(r,vt?ut:ot,e.fixedDirection,Y,e.fixedOffset,e,vt),wt=tt?ht:xt(ht,e.prevInverseDist||[0,0]);if(e.prevDist=L,e.prevInverseDist=ht,G[0]===d[0]&&G[1]===d[1]&&wt.every(function(at){return!at})&&!M&&!tt)return!1;var Ft=Ot(r,t,B({offsetWidth:p,offsetHeight:m,direction:h,scale:G,dist:L,delta:lt,isPinch:!!s},bp(r,it,wt,s,t)));return ct(r,"onScale",Ft),Ft},dragControlEnd:function(r,t){var e=t.datas;if(!e.isScale)return!1;e.isScale=!1;var n=te(r,t,{});return ct(r,"onScaleEnd",n),n},dragGroupControlCondition:od,dragGroupControlStart:function(r,t){var e=t.datas,n=this.dragControlStart(r,t);if(!n)return!1;var a=xe(r,"resizable",t);e.moveableScale=r.scale;var s=Ve(r,this,"dragControlStart",t,function(v,d){return Bo(r,v,e,d)}),u=function(v){n.setFixedDirection(v),s.forEach(function(d,h){d.setFixedDirection(v),Bo(r,d.moveable,e,a[h])})};e.setFixedDirection=u;var f=B(B({},n),{targets:r.props.targets,events:s,setFixedDirection:u}),l=ct(r,"onScaleGroupStart",f);return e.isScale=l!==!1,e.isScale?f:!1},dragGroupControl:function(r,t){var e=t.datas;if(e.isScale){rs(r,"onBeforeScale",function(d){ct(r,"onBeforeScaleGroup",Ot(r,t,B(B({},d),{targets:r.props.targets}),!0))});var n=this.dragControl(r,t);if(n){var a=n.dist,s=e.moveableScale;r.scale=[a[0]*s[0],a[1]*s[1]];var u=r.props.keepRatio,f=e.fixedPosition,l=Ve(r,this,"dragControl",t,function(d,h){var p=F(Ir(da(r.rotation/180*Math.PI,3),[h.datas.originalX*a[0],h.datas.originalY*a[1],1],3),2),m=p[0],_=p[1];return B(B({},h),{parentDist:null,parentScale:a,parentKeepRatio:u,dragClient:Ht(f,[m,_])})}),v=B({targets:r.props.targets,events:l},n);return ct(r,"onScaleGroup",v),v}}},dragGroupControlEnd:function(r,t){var e=t.isDrag,n=t.datas;if(n.isScale){this.dragControlEnd(r,t);var a=Ve(r,this,"dragControlEnd",t),s=te(r,t,{targets:r.props.targets,events:a});return ct(r,"onScaleGroupEnd",s),e}},request:function(){var r={},t=0,e=0,n=!1;return{isControl:!0,requestStart:function(a){return n=a.useSnap,{datas:r,parentDirection:a.direction||[1,1],useSnap:n}},request:function(a){return t+=a.deltaWidth,e+=a.deltaHeight,{datas:r,parentDist:[t,e],parentKeepRatio:a.keepRatio,useSnap:n}},requestEnd:function(){return{datas:r,isDrag:!0,useSnap:n}}}}};function an(r,t){return r.map(function(e,n){return Ro(e,t[n],1,2)})}function sd(r,t,e){var n=dr(r,t),a=dr(r,e),s=a-n;return s>=0?s:s+2*Math.PI}function Zw(r,t){var e=sd(r[0],r[1],r[2]),n=sd(t[0],t[1],t[2]),a=Math.PI;return!(e>=a&&n<=a||e<=a&&n>=a)}var Jw={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:Hf("warpable"),render:function(r,t){var e=r.props,n=e.resizable,a=e.scalable,s=e.warpable,u=e.zoom;if(n||a||!s)return[];var f=r.state,l=f.pos1,v=f.pos2,d=f.pos3,h=f.pos4,p=an(l,v),m=an(v,l),_=an(l,d),x=an(d,l),y=an(d,h),S=an(h,d),E=an(v,h),C=an(h,v);return rt([t.createElement("div",{className:_t("line"),key:"middeLine1",style:qi(p,y,u)}),t.createElement("div",{className:_t("line"),key:"middeLine2",style:qi(m,S,u)}),t.createElement("div",{className:_t("line"),key:"middeLine3",style:qi(_,E,u)}),t.createElement("div",{className:_t("line"),key:"middeLine4",style:qi(x,C,u)})],F(Rp(r,"warpable",t)),!1)},dragControlCondition:function(r,t){if(t.isRequest)return!1;var e=t.inputEvent.target;return br(e,_t("direction"))&&br(e,_t("warpable"))},dragControlStart:function(r,t){var e=t.datas,n=t.inputEvent,a=r.props.target,s=n.target,u=rh(s,e);if(!u||!a)return!1;var f=r.state,l=f.transformOrigin,v=f.is3d,d=f.targetTransform,h=f.targetMatrix,p=f.width,m=f.height,_=f.left,x=f.top;e.datas={},e.targetTransform=d,e.warpTargetMatrix=v?h:Se(h,3,4),e.targetInverseMatrix=np(Oe(e.warpTargetMatrix,4),3,4),e.direction=u,e.left=_,e.top=x,e.poses=[[0,0],[p,0],[0,m],[p,m]].map(function(E){return xt(E,l)}),e.nextPoses=e.poses.map(function(E){var C=F(E,2),M=C[0],R=C[1];return Ir(e.warpTargetMatrix,[M,R,0,1],4)}),e.startValue=nr(4),e.prevMatrix=nr(4),e.absolutePoses=ve(f),e.posIndexes=Sp(u),zn(r,t),Zo(r,t,"matrix3d"),f.snapRenderInfo={request:t.isRequest,direction:u};var y=Ot(r,t,B({set:function(E){e.startValue=E}},Ko(r,t))),S=ct(r,"onWarpStart",y);return S!==!1&&(e.isWarp=!0),e.isWarp},dragControl:function(r,t){var e=t.datas,n=t.isRequest,a=t.distX,s=t.distY,u=e.targetInverseMatrix,f=e.prevMatrix,l=e.isWarp,v=e.startValue,d=e.poses,h=e.posIndexes,p=e.absolutePoses;if(!l)return!1;if(qo(r,t,"matrix3d"),yi(r,"warpable")){var m=h.map(function(P){return p[P]});m.length>1&&m.push([(m[0][0]+m[1][0])/2,(m[0][1]+m[1][1])/2]);var _=jo(r,n,{horizontal:m.map(function(P){return P[1]+s}),vertical:m.map(function(P){return P[0]+a})}),x=_.horizontal,y=_.vertical;s-=x.offset,a-=y.offset}var S=Re({datas:e,distX:a,distY:s},!0),E=e.nextPoses.slice();if(h.forEach(function(P){E[P]=Ht(E[P],S)}),!mE.every(function(P){return Zw(P.map(function(G){return d[G]}),P.map(function(G){return E[G]}))}))return!1;var C=Df(d[0],d[2],d[1],d[3],E[0],E[2],E[1],E[3]);if(!C.length)return!1;var M=Jt(u,C,4),R=xp(e,M,!0),O=Jt(Oe(f,4),R,4);e.prevMatrix=R;var T=Jt(v,R,4),I=Uo(e,"matrix3d(".concat(T.join(", "),")"),"matrix3d(".concat(R.join(", "),")"));return If(t,I),ct(r,"onWarp",Ot(r,t,B({delta:O,matrix:T,dist:R,multiply:Jt,transform:I},Fr({transform:I},t)))),!0},dragControlEnd:function(r,t){var e=t.datas,n=t.isDrag;return e.isWarp?(e.isWarp=!1,ct(r,"onWarpEnd",te(r,t,{})),n):!1}},Qw=_t("area-pieces"),xo=_t("area-piece"),lh=_t("avoid"),jw=_t("view-dragging");function Gu(r){var t=r.areaElement;if(t){var e=r.state,n=e.width,a=e.height;Fd(t,lh),t.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(a,"px")}}function ud(r){return r.createElement("div",{key:"area_pieces",className:Qw},r.createElement("div",{className:xo}),r.createElement("div",{className:xo}),r.createElement("div",{className:xo}),r.createElement("div",{className:xo}))}var ch={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(r,t){var e=r.props,n=e.target,a=e.dragArea,s=e.groupable,u=e.passDragArea,f=r.getState(),l=f.width,v=f.height,d=f.renderPoses,h=u?_t("area","pass"):_t("area");if(s)return[t.createElement("div",{key:"area",ref:Ye(r,"areaElement"),className:h}),ud(t)];if(!n||!a)return[];var p=Df([0,0],[l,0],[0,v],[l,v],d[0],d[1],d[2],d[3]),m=p.length?ts(p,!0):"none";return[t.createElement("div",{key:"area",ref:Ye(r,"areaElement"),className:h,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(v,"px"),transformOrigin:"0 0",transform:m}}),ud(t)]},dragStart:function(r,t){var e=t.datas,n=t.clientX,a=t.clientY,s=t.inputEvent;if(!s)return!1;e.isDragArea=!1;var u=r.areaElement,f=r.state,l=f.moveableClientRect,v=f.renderPoses,d=f.rootMatrix,h=f.is3d,p=l.left,m=l.top,_=le(v),x=_.left,y=_.top,S=_.width,E=_.height,C=h?4:3,M=F(pi(d,[n-p,a-m],C),2),R=M[0],O=M[1];R-=x,O-=y;var T=[{left:x,top:y,width:S,height:O-10},{left:x,top:y,width:R-10,height:E},{left:x,top:y+O+10,width:S,height:E-O-10},{left:x+R+10,top:y,width:S-R-10,height:E}],I=[].slice.call(u.nextElementSibling.children);T.forEach(function(P,G){I[G].style.cssText="left: ".concat(P.left,"px;top: ").concat(P.top,"px; width: ").concat(P.width,"px; height: ").concat(P.height,"px;")}),zd(u,lh),f.disableNativeEvent=!0},drag:function(r,t){var e=t.datas,n=t.inputEvent;if(this.enableNativeEvent(r),!n)return!1;e.isDragArea||(e.isDragArea=!0,Gu(r))},dragEnd:function(r,t){this.enableNativeEvent(r);var e=t.inputEvent,n=t.datas;if(!e)return!1;n.isDragArea||Gu(r)},dragGroupStart:function(r,t){return this.dragStart(r,t)},dragGroup:function(r,t){return this.drag(r,t)},dragGroupEnd:function(r,t){return this.dragEnd(r,t)},unset:function(r){Gu(r),r.state.disableNativeEvent=!1},enableNativeEvent:function(r){var t=r.state;t.disableNativeEvent&&Ad(function(){t.disableNativeEvent=!1})}},tC=ha("origin",{props:["origin","svgOrigin"],render:function(r,t){var e=r.props,n=e.zoom,a=e.svgOrigin,s=e.groupable,u=r.getState(),f=u.beforeOrigin,l=u.rotation,v=u.svg,d=u.allMatrix,h=u.is3d,p=u.left,m=u.top,_=u.offsetWidth,x=u.offsetHeight,y;if(!s&&v&&a){var S=F(Vf(a,_,x),2),E=S[0],C=S[1],M=h?4:3,R=or(d,[E,C],M);y=Lo(l,n,xt(R,[p,m]))}else y=Lo(l,n,f);return[t.createElement("div",{className:_t("control","origin"),style:y,key:"beforeOrigin"})]}});function rC(r){var t=r.scrollContainer;return[t.scrollLeft,t.scrollTop]}var eC={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(r,t){var e=r.props,n=e.scrollContainer,a=n===void 0?r.getContainer():n,s=e.scrollOptions,u=new zb,f=Me(a,!0);t.datas.dragScroll=u,r.state.dragScroll=u;var l=t.isControl?"controlGesto":"targetGesto",v=t.targets;u.on("scroll",function(d){var h=d.container,p=d.direction,m=Ot(r,t,{scrollContainer:h,direction:p}),_=v?"onScrollGroup":"onScroll";v&&(m.targets=v),ct(r,_,m)}).on("move",function(d){var h=d.offsetX,p=d.offsetY,m=d.inputEvent;r[l].scrollBy(h,p,m.inputEvent,!1)}).on("scrollDrag",function(d){var h=d.next;h(r[l].getCurrentEvent())}),u.dragStart(t,B({container:f},s))},checkScroll:function(r,t){var e=t.datas.dragScroll;if(e){var n=r.props,a=n.scrollContainer,s=a===void 0?r.getContainer():a,u=n.scrollThreshold,f=u===void 0?0:u,l=n.scrollThrottleTime,v=l===void 0?0:l,d=n.getScrollPosition,h=d===void 0?rC:d,p=n.scrollOptions;return e.drag(t,B({container:s,threshold:f,throttleTime:v,getScrollPosition:function(m){return h({scrollContainer:m.container,direction:m.direction})}},p)),!0}},drag:function(r,t){return this.checkScroll(r,t)},dragEnd:function(r,t){t.datas.dragScroll.dragEnd(),t.datas.dragScroll=null},dragControlStart:function(r,t){return this.dragStart(r,B(B({},t),{isControl:!0}))},dragControl:function(r,t){return this.drag(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupStart:function(r,t){return this.dragStart(r,B(B({},t),{targets:r.props.targets}))},dragGroup:function(r,t){return this.drag(r,B(B({},t),{targets:r.props.targets}))},dragGroupEnd:function(r,t){return this.dragEnd(r,B(B({},t),{targets:r.props.targets}))},dragGroupControlStart:function(r,t){return this.dragStart(r,B(B({},t),{targets:r.props.targets,isControl:!0}))},dragGroupControl:function(r,t){return this.drag(r,B(B({},t),{targets:r.props.targets}))},dragGroupControEnd:function(r,t){return this.dragEnd(r,B(B({},t),{targets:r.props.targets}))},unset:function(r){var t,e=r.state;(t=e.dragScroll)===null||t===void 0||t.dragEnd(),e.dragScroll=null}},vh={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},nC=ha("padding",{props:["padding"],render:function(r,t){var e=r.props;if(e.dragArea)return[];var n=fh(e.padding||{}),a=n.left,s=n.top,u=n.right,f=n.bottom,l=r.getState(),v=l.renderPoses,d=l.pos1,h=l.pos2,p=l.pos3,m=l.pos4,_=[d,h,p,m],x=[];return a>0&&x.push([0,2]),s>0&&x.push([0,1]),u>0&&x.push([1,3]),f>0&&x.push([2,3]),x.map(function(y,S){var E=F(y,2),C=E[0],M=E[1],R=_[C],O=_[M],T=v[C],I=v[M],P=Df([0,0],[100,0],[0,100],[100,100],R,O,T,I);if(P.length)return t.createElement("div",{key:"padding".concat(S),className:_t("padding"),style:{transform:ts(P,!0)}})})}}),fd=["nw","ne","se","sw"];function yo(r,t){var e=r[0]+r[1],n=e>t?t/e:1;return r[0]*=n,r[1]=t-r[1]*n,r}var iC=[1,2,5,6],aC=[0,3,4,7],Mn=[1,-1,-1,1],On=[1,1,-1,-1];function $f(r,t,e,n,a,s,u,f){a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=e),f===void 0&&(f=n);var l=[],v=!1,d=r.filter(function(p){return!p.virtual}),h=d.map(function(p){var m=p.horizontal,_=p.vertical,x=p.pos;if(_&&!v&&(v=!0,l.push("/")),v){var y=Math.max(0,_===1?x[1]-s:f-x[1]);return l.push(me(y,n,t)),y}else{var y=Math.max(0,m===1?x[0]-a:u-x[0]);return l.push(me(y,e,t)),y}});return{radiusPoses:d,styles:l,raws:h}}function dh(r){for(var t=[0,0],e=[0,0],n=r.length,a=0;a<n;++a){var s=r[a];s.sub&&(s.horizontal&&(t[1]===0&&(t[0]=a),t[1]=a-t[0]+1,e[0]=a+1),s.vertical&&(e[1]===0&&(e[0]=a),e[1]=a-e[0]+1))}return{horizontalRange:t,verticalRange:e}}function ph(r,t,e,n,a,s,u){var f,l,v,d;s===void 0&&(s=[0,0]),u===void 0&&(u=!1);var h=r.indexOf("/"),p=(h>-1?r.slice(0,h):r).length,m=r.slice(0,p),_=r.slice(p+1),x=m.length,y=_.length,S=y>0,E=F(m,4),C=E[0],M=C===void 0?"0px":C,R=E[1],O=R===void 0?M:R,T=E[2],I=T===void 0?M:T,P=E[3],G=P===void 0?O:P,H=F(_,4),W=H[0],L=W===void 0?M:W,Y=H[1],X=Y===void 0?S?L:O:Y,j=H[2],tt=j===void 0?S?L:I:j,U=H[3],nt=U===void 0?S?X:G:U,et=[M,O,I,G].map(function(it){return Zt(it,t)}),$=[L,X,tt,nt].map(function(it){return Zt(it,e)}),st=et.slice(),lt=$.slice();f=F(yo([st[0],st[1]],t),2),st[0]=f[0],st[1]=f[1],l=F(yo([st[3],st[2]],t),2),st[3]=l[0],st[2]=l[1],v=F(yo([lt[0],lt[3]],e),2),lt[0]=v[0],lt[3]=v[1],d=F(yo([lt[1],lt[2]],e),2),lt[1]=d[0],lt[2]=d[1];var ot=u?st:st.slice(0,Math.max(s[0],x)),ut=u?lt:lt.slice(0,Math.max(s[1],y));return rt(rt([],F(ot.map(function(it,vt){var ht=fd[vt];return{virtual:vt>=x,horizontal:Mn[vt],vertical:0,pos:[n+it,a+(On[vt]===-1?e:0)],sub:!0,raw:et[vt],direction:ht}})),!1),F(ut.map(function(it,vt){var ht=fd[vt];return{virtual:vt>=y,horizontal:0,vertical:On[vt],pos:[n+(Mn[vt]===-1?t:0),a+it],sub:!0,raw:$[vt],direction:ht}})),!1)}function oC(r,t,e,n,a){a===void 0&&(a=t.length);var s=dh(r.slice(n)),u=s.horizontalRange,f=s.verticalRange,l=e-n,v=0;if(l===0)v=a;else if(l>0&&l<u[1])v=u[1]-l;else if(l>=f[0])v=f[0]+f[1]-l;else return;r.splice(e,v),t.splice(e,v)}function sC(r,t,e,n,a,s,u,f,l,v,d){v===void 0&&(v=0),d===void 0&&(d=0);var h=dh(r.slice(e)),p=h.horizontalRange,m=h.verticalRange;if(n>-1)for(var _=Mn[n]===1?s-v:f-s,x=p[1];x<=n;++x){var y=On[x]===1?d:l,S=0;if(n===x?S=s:x===0?S=v+_:Mn[x]===-1&&(S=f-(t[e][0]-v)),r.splice(e+x,0,{horizontal:Mn[x],vertical:0,pos:[S,y]}),t.splice(e+x,0,[S,y]),x===0)break}else if(a>-1){var E=On[a]===1?u-d:l-u;if(p[1]===0&&m[1]===0){var C=[v+E,d];r.push({horizontal:Mn[0],vertical:0,pos:C}),t.push(C)}for(var M=m[0],x=m[1];x<=a;++x){var S=Mn[x]===1?v:f,y=0;if(a===x?y=u:x===0?y=d+E:On[x]===1?y=t[e+M][1]:On[x]===-1&&(y=l-(t[e+M][1]-d)),r.push({horizontal:0,vertical:On[x],pos:[S,y]}),t.push([S,y]),x===0)break}}}function uC(r,t){t===void 0&&(t=r.map(function(a){return a.raw}));var e=r.map(function(a,s){return a.horizontal?t[s]:null}).filter(function(a){return a!=null}),n=r.map(function(a,s){return a.vertical?t[s]:null}).filter(function(a){return a!=null});return{horizontals:e,verticals:n}}var fC=[[0,-1,"n"],[1,0,"e"]],lC=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function qf(r,t,e){var n=r.props.clipRelative,a=r.state,s=a.width,u=a.height,f=t,l=f.type,v=f.poses,d=l==="rect",h=l==="circle";if(l==="polygon")return e.map(function(O){return"".concat(me(O[0],s,n)," ").concat(me(O[1],u,n))});if(d||l==="inset"){var p=e[1][1],m=e[3][0],_=e[7][0],x=e[5][1];if(d)return[p,m,x,_].map(function(O){return"".concat(O,"px")});var y=[p,s-m,u-x,_].map(function(O,T){return me(O,T%2?s:u,n)});if(e.length>8){var S=F(xt(e[4],e[0]),2),E=S[0],C=S[1];y.push.apply(y,rt(["round"],F($f(v.slice(8).map(function(O,T){return B(B({},O),{pos:e[T]})}),n,E,C,_,p,m,x).styles),!1))}return y}else if(h||l==="ellipse"){var M=e[0],R=me(J(e[1][1]-M[1]),h?Math.sqrt((s*s+u*u)/2):u,n),y=h?[R]:[me(J(e[2][0]-M[0]),s,n),R];return y.push("at",me(M[0],s,n),me(M[1],u,n)),y}}function ko(r,t,e,n){var a=[n,(n+t)/2,t],s=[r,(r+e)/2,e];return lC.map(function(u){var f=F(u,3),l=f[0],v=f[1],d=f[2],h=a[l+1],p=s[v+1];return{vertical:J(v),horizontal:J(l),direction:d,pos:[h,p]}})}function hh(r){var t=[1/0,-1/0],e=[1/0,-1/0];return r.forEach(function(n){var a=n.pos;t[0]=Math.min(t[0],a[0]),t[1]=Math.max(t[1],a[0]),e[0]=Math.min(e[0],a[1]),e[1]=Math.max(e[1],a[1])}),[J(t[1]-t[0]),J(e[1]-e[0])]}function ld(r,t,e,n,a){var s,u,f,l,v,d,h,p,m;if(r){var _=a;if(!_){var x=qr(r),y=x("clipPath");_=y!=="none"?y:x("clip")}if(!((!_||_==="none"||_==="auto")&&(_=n,!_))){var S=Id(_),E=S.prefix,C=E===void 0?_:E,M=S.value,R=M===void 0?"":M,O=C==="circle",T=" ";if(C==="polygon"){var I=Rn(R||"0% 0%, 100% 0%, 100% 100%, 0% 100%");T=",";var P=I.map(function($t){var fr=F($t.split(" "),2),lr=fr[0],sr=fr[1];return{vertical:1,horizontal:1,pos:[Zt(lr,t),Zt(sr,e)]}}),G=Pn(P.map(function($t){return $t.pos}));return{type:C,clipText:_,poses:P,splitter:T,left:G.minX,right:G.maxX,top:G.minY,bottom:G.maxY}}else if(O||C==="ellipse"){var H="",W="",L=0,Y=0,I=fn(R);if(O){var X="";s=F(I,4),u=s[0],X=u===void 0?"50%":u,f=s[2],H=f===void 0?"50%":f,l=s[3],W=l===void 0?"50%":l,L=Zt(X,Math.sqrt((t*t+e*e)/2)),Y=L}else{var j="",tt="";v=F(I,5),d=v[0],j=d===void 0?"50%":d,h=v[1],tt=h===void 0?"50%":h,p=v[3],H=p===void 0?"50%":p,m=v[4],W=m===void 0?"50%":m,L=Zt(j,t),Y=Zt(tt,e)}var U=[Zt(H,t),Zt(W,e)],P=rt([{vertical:1,horizontal:1,pos:U,direction:"nesw"}],F(fC.slice(0,O?1:2).map(function(lr){return{vertical:J(lr[1]),horizontal:lr[0],direction:lr[2],sub:!0,pos:[U[0]+lr[0]*L,U[1]+lr[1]*Y]}})),!1);return{type:C,clipText:_,radiusX:L,radiusY:Y,left:U[0]-L,top:U[1]-Y,right:U[0]+L,bottom:U[1]+Y,poses:P,splitter:T}}else if(C==="inset"){var I=fn(R||"0 0 0 0"),nt=I.indexOf("round"),et=(nt>-1?I.slice(0,nt):I).length,$=I.slice(et+1),st=F(I.slice(0,et),4),lt=st[0],ot=st[1],ut=ot===void 0?lt:ot,it=st[2],vt=it===void 0?lt:it,ht=st[3],wt=ht===void 0?ut:ht,Ft=F([lt,vt].map(function(lr){return Zt(lr,e)}),2),at=Ft[0],pt=Ft[1],Wt=F([wt,ut].map(function(lr){return Zt(lr,t)}),2),mt=Wt[0],Et=Wt[1],At=t-Et,Gt=e-pt,Vt=ph($,At-mt,Gt-at,mt,at),P=rt(rt([],F(ko(at,At,Gt,mt)),!1),F(Vt),!1);return{type:"inset",clipText:_,poses:P,top:at,left:mt,right:At,bottom:Gt,radius:$,splitter:T}}else if(C==="rect"){var I=Rn(R||"0px, ".concat(t,"px, ").concat(e,"px, 0px"));T=",";var Rt=F(I.map(function(be){var Nr=ua(be).value;return Nr}),4),Lt=Rt[0],Et=Rt[1],pt=Rt[2],mt=Rt[3],P=ko(Lt,Et,pt,mt);return{type:"rect",clipText:_,poses:P,top:Lt,right:Et,bottom:pt,left:mt,values:I,splitter:T}}}}}function cC(r,t,e,n,a){var s=r[t],u=s.direction,f=s.sub,l=r.map(function(){return[0,0]}),v=u?u.split(""):[];if(n&&t<8){var d=v.filter(function(L){return L==="w"||L==="e"}),h=v.filter(function(L){return L==="n"||L==="s"}),p=d[0],m=h[0];l[t]=e;var _=F(hh(r),2),x=_[0],y=_[1],S=x&&y?x/y:0;if(S&&a){var E=(t+4)%8,C=r[E].pos,M=[0,0];u.indexOf("w")>-1?M[0]=-1:u.indexOf("e")>-1&&(M[0]=1),u.indexOf("n")>-1?M[1]=-1:u.indexOf("s")>-1&&(M[1]=1);var R=oh([x,y],e,S,M,!0),O=x+R[0],T=y+R[1],I=C[1],P=C[1],G=C[0],H=C[0];M[0]===-1?G=H-O:M[0]===1?H=G+O:(G=G-O/2,H=H+O/2),M[1]===-1?I=P-T:(M[1]===1||(I=P-T/2),P=I+T);var W=ko(I,H,P,G);r.forEach(function(L,Y){l[Y][0]=W[Y].pos[0]-L.pos[0],l[Y][1]=W[Y].pos[1]-L.pos[1]})}else r.forEach(function(L,Y){var X=L.direction;X&&(X.indexOf(p)>-1&&(l[Y][0]=e[0]),X.indexOf(m)>-1&&(l[Y][1]=e[1]))}),p&&(l[1][0]=e[0]/2,l[5][0]=e[0]/2),m&&(l[3][1]=e[1]/2,l[7][1]=e[1]/2)}else u&&!f?v.forEach(function(L){var Y=L==="n"||L==="s";r.forEach(function(X,j){var tt=X.direction,U=X.horizontal,nt=X.vertical;!tt||tt.indexOf(L)===-1||(l[j]=[Y||!U?0:e[0],!Y||!nt?0:e[1]])})}):l[t]=e;return l}function vC(r,t){var e=F(_p(r,t),2),n=e[0],a=e[1],s=t.datas,u=s.clipPath,f=s.clipIndex,l=u,v=l.type,d=l.poses,h=l.splitter,p=d.map(function(E){return E.pos});if(v==="polygon")p.splice(f,0,[n,a]);else if(v==="inset"){var m=iC.indexOf(f),_=aC.indexOf(f),x=d.length;if(sC(d,p,8,m,_,n,a,p[4][0],p[4][1],p[0][0],p[0][1]),x===d.length)return}else return;var y=qf(r,u,p),S="".concat(v,"(").concat(y.join(h),")");ct(r,"onClip",Ot(r,t,B({clipEventType:"added",clipType:v,poses:p,clipStyles:y,clipStyle:S,distX:0,distY:0},Fr({clipPath:S},t))))}function dC(r,t){var e=t.datas,n=e.clipPath,a=e.clipIndex,s=n,u=s.type,f=s.poses,l=s.splitter,v=f.map(function(m){return m.pos}),d=v.length;if(u==="polygon")f.splice(a,1),v.splice(a,1);else if(u==="inset"){if(a<8||(oC(f,v,a,8,d),d===f.length))return}else return;var h=qf(r,n,v),p="".concat(u,"(").concat(h.join(l),")");ct(r,"onClip",Ot(r,t,B({clipEventType:"removed",clipType:u,poses:v,clipStyles:h,clipStyle:p,distX:0,distY:0},Fr({clipPath:p},t))))}var pC={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(r,t){var e=r.props,n=e.customClipPath,a=e.defaultClipPath,s=e.clipArea,u=e.zoom,f=e.groupable,l=r.getState(),v=l.target,d=l.width,h=l.height,p=l.allMatrix,m=l.is3d,_=l.left,x=l.top,y=l.pos1,S=l.pos2,E=l.pos3,C=l.pos4,M=l.clipPathState,R=l.snapBoundInfos,O=l.rotation;if(!v||f)return[];var T=ld(v,d,h,a||"inset",M||n);if(!T)return[];var I=m?4:3,P=T.type,G=T.poses,H=G.map(function(Et){var At=or(p,Et.pos,I);return[At[0]-_,At[1]-x]}),W=[],L=[],Y=P==="rect",X=P==="inset",j=P==="polygon";if(Y||X||j){var tt=X?H.slice(0,8):H;L=tt.map(function(Et,At){var Gt=At===0?tt[tt.length-1]:tt[At-1],Vt=dr(Gt,Et),Rt=Zp(Gt,Et);return t.createElement("div",{key:"clipLine".concat(At),className:_t("line","clip-line","snap-control"),"data-clip-index":At,style:{width:"".concat(Rt,"px"),transform:"translate(".concat(Gt[0],"px, ").concat(Gt[1],"px) rotate(").concat(Vt,"rad) scaleY(").concat(u,")")}})})}if(W=H.map(function(Et,At){return t.createElement("div",{key:"clipControl".concat(At),className:_t("control","clip-control","snap-control"),"data-clip-index":At,style:{transform:"translate(".concat(Et[0],"px, ").concat(Et[1],"px) rotate(").concat(O,"rad) scale(").concat(u,")")}})}),X&&W.push.apply(W,rt([],F(H.slice(8).map(function(Et,At){return t.createElement("div",{key:"clipRadiusControl".concat(At),className:_t("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+At,style:{transform:"translate(".concat(Et[0],"px, ").concat(Et[1],"px) rotate(").concat(O,"rad) scale(").concat(u,")")}})})),!1)),P==="circle"||P==="ellipse"){var U=T.left,nt=T.top,et=T.radiusX,$=T.radiusY,st=F(xt(or(p,[U,nt],I),or(p,[0,0],I)),2),lt=st[0],ot=st[1],ut="none";if(!s){for(var it=Math.max(10,et/5,$/5),vt=[],ht=0;ht<=it;++ht){var wt=Math.PI*2/it*ht;vt.push([et+(et-u)*Math.cos(wt),$+($-u)*Math.sin(wt)])}vt.push([et,-2]),vt.push([-2,-2]),vt.push([-2,$*2+2]),vt.push([et*2+2,$*2+2]),vt.push([et*2+2,-2]),vt.push([et,-2]),ut="polygon(".concat(vt.map(function(Et){return"".concat(Et[0],"px ").concat(Et[1],"px")}).join(", "),")")}W.push(t.createElement("div",{key:"clipEllipse",className:_t("clip-ellipse","snap-control"),style:{width:"".concat(et*2,"px"),height:"".concat($*2,"px"),clipPath:ut,transform:"translate(".concat(-_+lt,"px, ").concat(-x+ot,"px) ").concat(ts(p))}}))}if(s){var Ft=le(rt([y,S,E,C],F(H),!1)),at=Ft.width,pt=Ft.height,Wt=Ft.left,mt=Ft.top;if(j||Y||X){var vt=X?H.slice(0,8):H;W.push(t.createElement("div",{key:"clipArea",className:_t("clip-area","snap-control"),style:{width:"".concat(at,"px"),height:"".concat(pt,"px"),transform:"translate(".concat(Wt,"px, ").concat(mt,"px)"),clipPath:"polygon(".concat(vt.map(function(At){return"".concat(At[0]-Wt,"px ").concat(At[1]-mt,"px")}).join(", "),")")}}))}}return R&&["vertical","horizontal"].forEach(function(Et){var At=R[Et],Gt=Et==="horizontal";At.isSnap&&L.push.apply(L,rt([],F(At.snap.posInfos.map(function(Vt,Rt){var Lt=Vt.pos,$t=xt(or(p,Gt?[0,Lt]:[Lt,0],I),[_,x]),fr=xt(or(p,Gt?[d,Lt]:[Lt,h],I),[_,x]);return ia(t,"",$t,fr,u,"clip".concat(Et,"snap").concat(Rt),"guideline")})),!1)),At.isBound&&L.push.apply(L,rt([],F(At.bounds.map(function(Vt,Rt){var Lt=Vt.pos,$t=xt(or(p,Gt?[0,Lt]:[Lt,0],I),[_,x]),fr=xt(or(p,Gt?[d,Lt]:[Lt,h],I),[_,x]);return ia(t,"",$t,fr,u,"clip".concat(Et,"bounds").concat(Rt),"guideline","bounds","bold")})),!1))}),rt(rt([],F(W),!1),F(L),!1)},dragControlCondition:function(r,t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(r,t){var e=r.props,n=e.dragWithClip,a=n===void 0?!0:n;return a?!1:this.dragControlStart(r,t)},drag:function(r,t){return this.dragControl(r,B(B({},t),{isDragTarget:!0}))},dragEnd:function(r,t){return this.dragControlEnd(r,t)},dragControlStart:function(r,t){var e=r.state,n=r.props,a=n.defaultClipPath,s=n.customClipPath,u=e.target,f=e.width,l=e.height,v=t.inputEvent?t.inputEvent.target:null,d=v&&v.getAttribute("class")||"",h=t.datas,p=ld(u,f,l,a||"inset",s);if(!p)return!1;var m=p.clipText,_=p.type,x=p.poses,y=ct(r,"onClipStart",Ot(r,t,{clipType:_,clipStyle:m,poses:x.map(function(S){return S.pos})}));return y===!1?(h.isClipStart=!1,!1):(h.isControl=d&&d.indexOf("clip-control")>-1,h.isLine=d.indexOf("clip-line")>-1,h.isArea=d.indexOf("clip-area")>-1||d.indexOf("clip-ellipse")>-1,h.clipIndex=v?parseInt(v.getAttribute("data-clip-index"),10):-1,h.clipPath=p,h.isClipStart=!0,e.clipPathState=m,zn(r,t),!0)},dragControl:function(r,t){var e,n,a,s=t.datas,u=t.originalDatas,f=t.isDragTarget;if(!s.isClipStart)return!1;var l=s,v=l.isControl,d=l.isLine,h=l.isArea,p=l.clipIndex,m=l.clipPath;if(!m)return!1;var _=Bn(r.props,"clippable"),x=_.keepRatio,y=0,S=0,E=u.draggable,C=Re(t);f&&E?(e=F(E.prevBeforeDist,2),y=e[0],S=e[1]):(n=F(C,2),y=n[0],S=n[1]);var M=[y,S],R=r.state,O=R.width,T=R.height,I=!h&&!v&&!d,P=m.type,G=m.poses,H=m.splitter,W=G.map(function(Kt){return Kt.pos});I&&(y=-y,S=-S);var L=!v||G[p].direction==="nesw",Y=P==="inset"||P==="rect",X=G.map(function(){return[0,0]});if(v&&!L){var j=G[p],tt=j.horizontal,U=j.vertical,nt=[y*J(tt),S*J(U)];X=cC(G,p,nt,Y,x)}else L&&(X=W.map(function(){return[y,S]}));var et=W.map(function(Kt,wr){return Ht(Kt,X[wr])}),$=rt([],F(et),!1);R.snapBoundInfos=null;var st=m.type==="circle",lt=m.type==="ellipse";if(st||lt){var ot=le(et),ut=J(ot.bottom-ot.top),it=J(lt?ot.right-ot.left:ut),vt=et[0][1]+ut,ht=et[0][0]-it,wt=et[0][0]+it;st&&($.push([wt,ot.bottom]),X.push([1,0])),$.push([ot.left,vt]),X.push([0,1]),$.push([ht,ot.bottom]),X.push([1,0])}var Ft=Xp((_.clipHorizontalGuidelines||[]).map(function(Kt){return Zt("".concat(Kt),T)}),(_.clipVerticalGuidelines||[]).map(function(Kt){return Zt("".concat(Kt),O)}),O,T),at=[],pt=[];if(st||lt)at=[$[4][0],$[2][0]],pt=[$[1][1],$[3][1]];else if(Y){var Wt=[$[0],$[2],$[4],$[6]],mt=[X[0],X[2],X[4],X[6]];at=Wt.filter(function(Kt,wr){return mt[wr][0]}).map(function(Kt){return Kt[0]}),pt=Wt.filter(function(Kt,wr){return mt[wr][1]}).map(function(Kt){return Kt[1]})}else at=$.filter(function(Kt,wr){return X[wr][0]}).map(function(Kt){return Kt[0]}),pt=$.filter(function(Kt,wr){return X[wr][1]}).map(function(Kt){return Kt[1]});var Et=[0,0],At=Uv(Ft,_.clipTargetBounds&&{left:0,top:0,right:O,bottom:T},at,pt,5,5),Gt=At.horizontal,Vt=At.vertical,Rt=Gt.offset,Lt=Vt.offset;if(Gt.isBound&&(Et[1]+=Rt),Vt.isBound&&(Et[0]+=Lt),(lt||st)&&X[0][0]===0&&X[0][1]===0){var ot=le(et),$t=ot.bottom-ot.top,fr=lt?ot.right-ot.left:$t,lr=Vt.isBound?J(Lt):Vt.snapIndex===0?-Lt:Lt,sr=Gt.isBound?J(Rt):Gt.snapIndex===0?-Rt:Rt;fr-=lr,$t-=sr,st&&($t=zp(Vt,Gt)>0?$t:fr,fr=$t);var tr=$[0];$[1][1]=tr[1]-$t,$[2][0]=tr[0]+fr,$[3][1]=tr[1]+$t,$[4][0]=tr[0]-fr}else if(Y&&x&&v){var be=F(hh(G),2),Nr=be[0],Te=be[1],Ln=Nr&&Te?Nr/Te:0,Si=G[p],Ue=Si.direction||"",dn=$[1][1],vt=$[5][1],ht=$[7][0],wt=$[3][0];J(Rt)<=J(Lt)?Rt=zr(Rt)*J(Lt)/Ln:Lt=zr(Lt)*J(Rt)*Ln,Ue.indexOf("w")>-1?ht-=Lt:Ue.indexOf("e")>-1?wt-=Lt:(ht+=Lt/2,wt-=Lt/2),Ue.indexOf("n")>-1?dn-=Rt:Ue.indexOf("s")>-1?vt-=Rt:(dn+=Rt/2,vt-=Rt/2);var bi=ko(dn,wt,vt,ht);$.forEach(function(xa,ss){var Mi;Mi=F(bi[ss].pos,2),xa[0]=Mi[0],xa[1]=Mi[1]})}else $.forEach(function(Kt,wr){var Di=X[wr];Di[0]&&(Kt[0]-=Lt),Di[1]&&(Kt[1]-=Rt)});var Nn=qf(r,m,et),pn="".concat(P,"(").concat(Nn.join(H),")");if(R.clipPathState=pn,st||lt)at=[$[4][0],$[2][0]],pt=[$[1][1],$[3][1]];else if(Y){var Wt=[$[0],$[2],$[4],$[6]];at=Wt.map(function(wr){return wr[0]}),pt=Wt.map(function(wr){return wr[1]})}else at=$.map(function(Kt){return Kt[0]}),pt=$.map(function(Kt){return Kt[1]});if(R.snapBoundInfos=Uv(Ft,_.clipTargetBounds&&{left:0,top:0,right:O,bottom:T},at,pt,1,1),E){var Ei=R.is3d,wi=R.allMatrix,os=Ei?4:3,Ci=Et;f&&(Ci=[M[0]+Et[0]-C[0],M[1]+Et[1]-C[1]]),E.deltaOffset=Jt(wi,[Ci[0],Ci[1],0,0],os)}return ct(r,"onClip",Ot(r,t,B({clipEventType:"changed",clipType:P,poses:et,clipStyle:pn,clipStyles:Nn,distX:y,distY:S},Fr((a={},a[P==="rect"?"clip":"clipPath"]=pn,a),t)))),!0},dragControlEnd:function(r,t){this.unset(r);var e=t.isDrag,n=t.datas,a=t.isDouble,s=n.isLine,u=n.isClipStart,f=n.isControl;return u?(ct(r,"onClipEnd",te(r,t,{})),a&&(f?dC(r,t):s&&vC(r,t)),a||e):!1},unset:function(r){r.state.clipPathState="",r.state.snapBoundInfos=null}},hC={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(r,t){return t.isRequest?t.requestAble==="originDraggable":br(t.inputEvent.target,_t("origin"))},dragControlStart:function(r,t){var e=t.datas;zn(r,t);var n=Ot(r,t,{dragStart:Gr.dragStart(r,new ci().dragStart([0,0],t))}),a=ct(r,"onDragOriginStart",n);return e.startOrigin=r.state.transformOrigin,e.startTargetOrigin=r.state.targetOrigin,e.prevOrigin=[0,0],e.isDragOrigin=!0,a===!1?(e.isDragOrigin=!1,!1):n},dragControl:function(r,t){var e=t.datas,n=t.isPinch,a=t.isRequest;if(!e.isDragOrigin)return!1;var s=F(Re(t),2),u=s[0],f=s[1],l=r.state,v=l.width,d=l.height,h=l.offsetMatrix,p=l.targetMatrix,m=l.is3d,_=r.props.originRelative,x=_===void 0?!0:_,y=m?4:3,S=[u,f];if(a){var E=t.distOrigin;(E[0]||E[1])&&(S=E)}var C=Ht(e.startOrigin,S),M=Ht(e.startTargetOrigin,S),R=xt(S,e.prevOrigin),O=ma(h,p,C,y),T=r.getRect(),I=le(Fn(O,v,d,y)),P=[T.left-I.left,T.top-I.top];e.prevOrigin=S;var G=[me(M[0],v,x),me(M[1],d,x)].join(" "),H=Gr.drag(r,ga(t,r.state,P,!!n,!1)),W=Ot(r,t,B(B({width:v,height:d,origin:C,dist:S,delta:R,transformOrigin:G,drag:H},Fr({transformOrigin:G,transform:H.transform},t)),{afterTransform:H.transform}));return ct(r,"onDragOrigin",W),W},dragControlEnd:function(r,t){var e=t.datas;return e.isDragOrigin?(ct(r,"onDragOriginEnd",te(r,t,{})),!0):!1},dragGroupControlCondition:function(r,t){return this.dragControlCondition(r,t)},dragGroupControlStart:function(r,t){var e=this.dragControlStart(r,t);return!!e},dragGroupControl:function(r,t){var e=this.dragControl(r,t);return e?(r.transformOrigin=e.transformOrigin,!0):!1},request:function(r){var t={},e=r.getRect(),n=0,a=0,s=e.transformOrigin,u=[0,0];return{isControl:!0,requestStart:function(){return{datas:t}},request:function(f){return"deltaOrigin"in f?(u[0]+=f.deltaOrigin[0],u[1]+=f.deltaOrigin[1]):"origin"in f?(u[0]=f.origin[0]-s[0],u[1]=f.origin[1]-s[1]):("x"in f?n=f.x-e.left:"deltaX"in f&&(n+=f.deltaX),"y"in f?a=f.y-e.top:"deltaY"in f&&(a+=f.deltaY)),{datas:t,distX:n,distY:a,distOrigin:u}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function gC(r,t,e,n){var a=r.filter(function(l){var v=l.virtual,d=l.horizontal;return d&&!v}).length,s=r.filter(function(l){var v=l.virtual,d=l.vertical;return d&&!v}).length,u=-1;if(t===0&&(a===0?u=0:a===1&&(u=1)),t===2&&(a<=2?u=2:a<=3&&(u=3)),t===3&&(s===0?u=4:s<4&&(u=7)),t===1&&(s<=1?u=5:s<=2&&(u=6)),!(u===-1||!r[u].virtual)){var f=r[u];mC(r,u),u<4?f.pos[0]=e:f.pos[1]=n}}function mC(r,t){t<4?r.slice(0,t+1).forEach(function(e){e.virtual=!1}):(r[0].virtual&&(r[0].virtual=!1),r.slice(4,t+1).forEach(function(e){e.virtual=!1}))}function _C(r,t){t<4?r.slice(t,4).forEach(function(e){e.virtual=!0}):r.slice(t).forEach(function(e){e.virtual=!0})}function cd(r,t,e,n,a){n===void 0&&(n=[0,0]);var s=[];return!r||r==="0px"?s=[]:s=fn(r),ph(s,t,e,0,0,n,a)}function vd(r,t,e,n,a){var s=r.state,u=s.width,f=s.height,l=$f(a,r.props.roundRelative,u,f),v=l.raws,d=l.styles,h=l.radiusPoses,p=uC(h,v),m=p.horizontals,_=p.verticals,x=d.join(" ");s.borderRadiusState=x;var y=Ot(r,t,B({horizontals:m,verticals:_,borderRadius:x,width:u,height:f,delta:n,dist:e},Fr({borderRadius:x},t)));return ct(r,"onRound",y),y}function dd(r){var t,e,n=r.getState().style,a=n.borderRadius||"";if(!a&&r.props.groupable){var s=r.moveables[0],u=r.getTargets()[0];u&&((s==null?void 0:s.props.target)===u?(a=(e=(t=r.moveables[0])===null||t===void 0?void 0:t.state.style.borderRadius)!==null&&e!==void 0?e:"",n.borderRadius=a):(a=Wf(u).borderRadius,n.borderRadius=a))}return a}var xC={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(r){var t=r.props.roundClickable;return t===!0||t==="line"?_t("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(r,t){var e=r.getState(),n=e.target,a=e.width,s=e.height,u=e.allMatrix,f=e.is3d,l=e.left,v=e.top,d=e.borderRadiusState,h=r.props,p=h.minRoundControls,m=p===void 0?[0,0]:p,_=h.maxRoundControls,x=_===void 0?[4,4]:_,y=h.zoom,S=h.roundPadding,E=S===void 0?0:S,C=h.isDisplayShadowRoundControls,M=h.groupable;if(!n)return null;var R=d||dd(r),O=f?4:3,T=cd(R,a,s,m,!0);if(!T)return null;var I=0,P=0,G=M?[0,0]:[l,v];return T.map(function(H,W){var L=H.horizontal,Y=H.vertical,X=H.direction||"",j=rt([],F(H.pos),!1);P+=Math.abs(L),I+=Math.abs(Y),L&&X.indexOf("n")>-1&&(j[1]-=E),Y&&X.indexOf("w")>-1&&(j[0]-=E),L&&X.indexOf("s")>-1&&(j[1]+=E),Y&&X.indexOf("e")>-1&&(j[0]+=E);var tt=xt(or(u,j,O),G),U=C&&C!=="horizontal",nt=H.vertical?I<=x[1]&&(U||!H.virtual):P<=x[0]&&(C||!H.virtual);return t.createElement("div",{key:"borderRadiusControl".concat(W),className:_t("control","border-radius",H.vertical?"vertical":"",H.virtual?"virtual":""),"data-radius-index":W,style:{display:nt?"block":"none",transform:"translate(".concat(tt[0],"px, ").concat(tt[1],"px) scale(").concat(y,")")}})})},dragControlCondition:function(r,t){if(!t.inputEvent||t.isRequest)return!1;var e=t.inputEvent.target.getAttribute("class")||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(r,t){return this.dragControlCondition(r,t)},dragControlStart:function(r,t){var e=t.inputEvent,n=t.datas,a=e.target,s=a.getAttribute("class")||"",u=s.indexOf("border-radius")>-1,f=s.indexOf("moveable-line")>-1&&s.indexOf("moveable-direction")>-1,l=u?parseInt(a.getAttribute("data-radius-index"),10):-1,v=-1;if(f){var d=a.getAttribute("data-line-key")||"";d&&(v=parseInt(d.replace(/render-line-/g,""),10),isNaN(v)&&(v=-1))}if(!u&&!f)return!1;var h=Ot(r,t,{}),p=ct(r,"onRoundStart",h);if(p===!1)return!1;n.lineIndex=v,n.controlIndex=l,n.isControl=u,n.isLine=f,zn(r,t);var m=r.props,_=m.roundRelative,x=m.minRoundControls,y=x===void 0?[0,0]:x,S=r.state,E=S.width,C=S.height;n.isRound=!0,n.prevDist=[0,0];var M=dd(r),R=cd(M||"",E,C,y,!0)||[];return n.controlPoses=R,S.borderRadiusState=$f(R,_,E,C).styles.join(" "),h},dragControl:function(r,t){var e=t.datas,n=e.controlPoses;if(!e.isRound||!e.isControl||!n.length)return!1;var a=e.controlIndex,s=F(Re(t),2),u=s[0],f=s[1],l=[u,f],v=xt(l,e.prevDist),d=r.props.maxRoundControls,h=d===void 0?[4,4]:d,p=r.state,m=p.width,_=p.height,x=n[a],y=x.vertical,S=x.horizontal,E=n.map(function(M){var R=M.horizontal,O=M.vertical,T=[R*S*l[0],O*y*l[1]];if(R){if(h[0]===1)return T;if(h[0]<4&&R!==S)return T}else{if(h[1]===0)return T[1]=O*S*l[0]/m*_,T;if(y){if(h[1]===1)return T;if(h[1]<4&&O!==y)return T}}return[0,0]});E[a]=l;var C=n.map(function(M,R){return B(B({},M),{pos:Ht(M.pos,E[R])})});return a<4?C.slice(0,a+1).forEach(function(M){M.virtual=!1}):C.slice(4,a+1).forEach(function(M){M.virtual=!1}),e.prevDist=[u,f],vd(r,t,l,v,C)},dragControlEnd:function(r,t){var e=r.state;e.borderRadiusState="";var n=t.datas,a=t.isDouble;if(!n.isRound)return!1;var s=n.isControl,u=n.controlIndex,f=n.isLine,l=n.lineIndex,v=n.controlPoses,d=v.filter(function(S){var E=S.virtual;return E}).length,h=r.props.roundClickable,p=h===void 0?!0:h;if(a&&p){if(s&&(p===!0||p==="control"))_C(v,u);else if(f&&(p===!0||p==="line")){var m=F(_p(r,t),2),_=m[0],x=m[1];gC(v,l,_,x)}d!==v.filter(function(S){var E=S.virtual;return E}).length&&vd(r,t,[0,0],[0,0],v)}var y=te(r,t,{});return ct(r,"onRoundEnd",y),e.borderRadiusState="",y},dragGroupControlStart:function(r,t){var e=this.dragControlStart(r,t);if(!e)return!1;var n=r.moveables,a=r.props.targets,s=xe(r,"roundable",t),u=B({targets:r.props.targets,events:s.map(function(f,l){return B(B({},f),{target:a[l],moveable:n[l],currentTarget:n[l]})})},e);return ct(r,"onRoundGroupStart",u),e},dragGroupControl:function(r,t){var e=this.dragControl(r,t);if(!e)return!1;var n=r.moveables,a=r.props.targets,s=xe(r,"roundable",t),u=B({targets:r.props.targets,events:s.map(function(f,l){return B(B(B({},f),{target:a[l],moveable:n[l],currentTarget:n[l]}),Fr({borderRadius:e.borderRadius},f))})},e);return ct(r,"onRoundGroup",u),u},dragGroupControlEnd:function(r,t){var e=r.moveables,n=r.props.targets,a=xe(r,"roundable",t);rs(r,"onRound",function(f){var l=B({targets:r.props.targets,events:a.map(function(v,d){return B(B(B({},v),{target:n[d],moveable:e[d],currentTarget:e[d]}),Fr({borderRadius:f.borderRadius},v))})},f);ct(r,"onRoundGroup",l)});var s=this.dragControlEnd(r,t);if(!s)return!1;var u=B({targets:r.props.targets,events:a.map(function(f,l){var v;return B(B({},f),{target:n[l],moveable:e[l],currentTarget:e[l],lastEvent:(v=f.datas)===null||v===void 0?void 0:v.lastEvent})})},s);return ct(r,"onRoundGroupEnd",u),u},unset:function(r){r.state.borderRadiusState=""}};function yC(r,t){var e=t?4:3,n=nr(e),a="matrix".concat(t?"3d":"","(").concat(n.join(","),")");return r===a||r==="matrix(1,0,0,1,0,0)"}var gh={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(r,t){var e=r.state,n=e.is3d,a=e.targetMatrix,s=e.inlineTransform,u=n?"matrix3d(".concat(a.join(","),")"):"matrix(".concat(ap(a,!0),")"),f=!s||s==="none"?u:s;t.datas.startTransforms=yC(f,n)?[]:fn(f)},resetStyle:function(r){var t=r.datas;t.nextStyle={},t.nextTransforms=r.datas.startTransforms,t.nextTransformAppendedIndexes=[]},fillDragStartParams:function(r,t){return Ot(r,t,{setTransform:function(e){t.datas.startTransforms=mr(e)?e:fn(e)},isPinch:!!t.isPinch})},fillDragParams:function(r,t){return Ot(r,t,{isPinch:!!t.isPinch})},dragStart:function(r,t){this.setTransform(r,t),this.resetStyle(t),ct(r,"onBeforeRenderStart",this.fillDragStartParams(r,t))},drag:function(r,t){t.datas.startTransforms||this.setTransform(r,t),this.resetStyle(t),ct(r,"onBeforeRender",Ot(r,t,{isPinch:!!t.isPinch}))},dragEnd:function(r,t){t.datas.startTransforms||(this.setTransform(r,t),this.resetStyle(t)),ct(r,"onBeforeRenderEnd",Ot(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag}))},dragGroupStart:function(r,t){var e=this;this.dragStart(r,t);var n=xe(r,"beforeRenderable",t),a=r.moveables,s=n.map(function(u,f){var l=a[f];return e.setTransform(l,u),e.resetStyle(u),e.fillDragStartParams(l,u)});ct(r,"onBeforeRenderGroupStart",Ot(r,t,{isPinch:!!t.isPinch,targets:r.props.targets,setTransform:function(){},events:s}))},dragGroup:function(r,t){var e=this;this.drag(r,t);var n=xe(r,"beforeRenderable",t),a=r.moveables,s=n.map(function(u,f){var l=a[f];return e.resetStyle(u),e.fillDragParams(l,u)});ct(r,"onBeforeRenderGroup",Ot(r,t,{isPinch:!!t.isPinch,targets:r.props.targets,events:s}))},dragGroupEnd:function(r,t){this.dragEnd(r,t),ct(r,"onBeforeRenderGroupEnd",Ot(r,t,{isPinch:!!t.isPinch,isDrag:t.isDrag,targets:r.props.targets}))},dragControlStart:function(r,t){return this.dragStart(r,t)},dragControl:function(r,t){return this.drag(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupControlStart:function(r,t){return this.dragGroupStart(r,t)},dragGroupControl:function(r,t){return this.dragGroup(r,t)},dragGroupControlEnd:function(r,t){return this.dragGroupEnd(r,t)}},mh={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(r,t){ct(r,"onRenderStart",Ot(r,t,{isPinch:!!t.isPinch}))},drag:function(r,t){ct(r,"onRender",this.fillDragParams(r,t))},dragAfter:function(r,t){return this.drag(r,t)},dragEnd:function(r,t){ct(r,"onRenderEnd",this.fillDragEndParams(r,t))},dragGroupStart:function(r,t){ct(r,"onRenderGroupStart",Ot(r,t,{isPinch:!!t.isPinch,targets:r.props.targets}))},dragGroup:function(r,t){var e=this,n=xe(r,"beforeRenderable",t),a=r.moveables,s=n.map(function(u,f){var l=a[f];return e.fillDragParams(l,u)});ct(r,"onRenderGroup",Ot(r,t,B(B({isPinch:!!t.isPinch,targets:r.props.targets,transform:po(t),transformObject:{}},Fr(ho(t))),{events:s})))},dragGroupEnd:function(r,t){var e=this,n=xe(r,"beforeRenderable",t),a=r.moveables,s=n.map(function(u,f){var l=a[f];return e.fillDragEndParams(l,u)});ct(r,"onRenderGroupEnd",Ot(r,t,B({isPinch:!!t.isPinch,isDrag:t.isDrag,targets:r.props.targets,events:s,transformObject:{},transform:po(t)},Fr(ho(t)))))},dragControlStart:function(r,t){return this.dragStart(r,t)},dragControl:function(r,t){return this.drag(r,t)},dragControlAfter:function(r,t){return this.dragAfter(r,t)},dragControlEnd:function(r,t){return this.dragEnd(r,t)},dragGroupControlStart:function(r,t){return this.dragGroupStart(r,t)},dragGroupControl:function(r,t){return this.dragGroup(r,t)},dragGroupControlEnd:function(r,t){return this.dragGroupEnd(r,t)},fillDragParams:function(r,t){var e={};return li(Po(t)||[]).forEach(function(n){e[n.name]=n.functionValue}),Ot(r,t,B({isPinch:!!t.isPinch,transformObject:e,transform:po(t)},Fr(ho(t))))},fillDragEndParams:function(r,t){var e={};return li(Po(t)||[]).forEach(function(n){e[n.name]=n.functionValue}),Ot(r,t,B({isPinch:!!t.isPinch,isDrag:t.isDrag,transformObject:e,transform:po(t)},Fr(ho(t))))}};function ta(r,t,e,n,a,s,u){s.clientDistX=s.distX,s.clientDistY=s.distY;var f=a==="Start",l=a==="End",v=a==="After",d=r.state.target,h=s.isRequest,p=n.indexOf("Control")>-1;if(!d||f&&p&&!h&&r.areaElement===s.inputEvent.target)return!1;var m=rt([],F(t),!1);if(h){var _=s.requestAble;m.some(function(W){return W.name===_})||m.push.apply(m,rt([],F(r.props.ables.filter(function(W){return W.name===_})),!1))}if(!m.length||m.every(function(W){return W.dragRelation}))return!1;var x=s.inputEvent,y;l&&x&&(y=document.elementFromPoint(s.clientX,s.clientY)||x.target);var S=!1,E=function(){var W;S=!0,(W=s.stop)===null||W===void 0||W.call(s)},C=f&&(!r.targetGesto||!r.controlGesto||!r.targetGesto.isFlag()||!r.controlGesto.isFlag());C&&r.updateRect(a,!0,!1);var M=s.datas,R=p?"controlGesto":"targetGesto",O=r[R],T=function(W,L,Y){if(!(L in W)||O!==r[R])return!1;var X=W.name,j=M[X]||(M[X]={});if(f&&(j.isEventStart=!Y||!W[Y]||W[Y](r,s)),!j.isEventStart)return!1;var tt=W[L](r,B(B({},s),{stop:E,datas:j,originalDatas:M,inputTarget:y}));return r._emitter.off(),f&&tt===!1&&(j.isEventStart=!1),tt};C&&m.forEach(function(W){W.unset&&W.unset(r)}),T(gh,"drag".concat(n).concat(a));var I=0,P=0;e.forEach(function(W){if(S)return!1;var L="".concat(W).concat(n).concat(a),Y="".concat(W).concat(n,"Condition");a===""&&!h&&ah(r.state,s);var X=m.filter(function(U){return U[L]});X=X.filter(function(U,nt){return U.name&&X.indexOf(U)===nt});var j=X.filter(function(U){return T(U,L,Y)}),tt=j.length;S&&++I,tt&&++P,!S&&f&&X.length&&!tt&&(I+=X.filter(function(U){var nt=U.name,et=M[nt];return et.isEventStart?U.dragRelation!=="strong":!1}).length?1:0)}),(!v||P)&&T(mh,"drag".concat(n).concat(a));var G=O!==r[R]||I===e.length;if((l||S||G)&&(r.state.gestos={},r.moveables&&r.moveables.forEach(function(W){W.state.gestos={}}),m.forEach(function(W){W.unset&&W.unset(r)})),f&&!G&&!h&&P&&r.props.preventDefault&&(s==null||s.preventDefault()),r.isUnmounted||G)return!1;if(!f&&P&&!u||l){var H=r.props.flushSync||qp;H(function(){r.updateRect(l?a:"",!0,!1),r.forceUpdate()})}return!f&&!l&&!v&&P&&!u&&ta(r,t,e,n,a+"After",s),!0}function Uf(r,t){return function(e,n){var a;n===void 0&&(n=e.inputEvent.target);var s=n,u=r.areaElement,f=r._dragTarget;return!f||!t&&(!((a=r.controlGesto)===null||a===void 0)&&a.isFlag())?!1:s===f||f.contains(s)||s===u||!r.isMoveableElement(s)&&!r.controlBox.contains(s)||br(s,"moveable-area")||br(s,"moveable-padding")||br(s,"moveable-edgeDraggable")}}function _h(r,t,e){var n=r.controlBox,a=[],s=r.props,u=s.dragArea,f=r.state.target,l=s.dragTarget;a.push(n),(!u||l)&&a.push(t),!u&&l&&f&&t!==f&&s.dragTargetSelf&&a.push(f);var v=Uf(r);return yh(r,a,"targetAbles",e,{dragStart:v,pinchStart:v})}function xh(r,t){var e=r.controlBox,n=[];n.push(e);var a=Uf(r,!0),s=function(u,f){if(f===void 0&&(f=u.inputEvent.target),f===e)return!0;var l=a(u,f);return!l};return yh(r,n,"controlAbles",t,{dragStart:s,pinchStart:s})}function yh(r,t,e,n,a){a===void 0&&(a={});var s=e==="targetAbles",u=r.props,f=u.pinchOutside,l=u.pinchThreshold,v=u.preventClickEventOnDrag,d=u.preventClickDefault,h=u.checkInput,p=u.dragFocusedInput,m=u.preventDefault,_=m===void 0?!0:m,x=u.preventRightClick,y=x===void 0?!0:x,S=u.preventWheelClick,E=S===void 0?!0:S,C=u.dragContainer,M=Me(C,!0),R={preventDefault:_,preventRightClick:y,preventWheelClick:E,container:M||un(r.getControlBoxElement()),pinchThreshold:l,pinchOutside:f,preventClickEventOnDrag:s?v:!1,preventClickEventOnDragStart:s?d:!1,preventClickEventByCondition:s?null:function(I){return r.controlBox.contains(I.target)},checkInput:s?h:!1,dragFocusedInput:p},O=new Ub(t,R),T=n==="Control";return["drag","pinch"].forEach(function(I){["Start","","End"].forEach(function(P){O.on("".concat(I).concat(P),function(G){var H,W=G.eventType,L=I==="drag"&&G.isPinch;if(a[W]&&!a[W](G)){G.stop();return}if(!L){var Y=I==="drag"?[I]:["drag",I],X=rt([],F(r[e]),!1),j=ta(r,X,Y,n,P,G);j?(r.props.stopPropagation||P==="Start"&&T)&&((H=G==null?void 0:G.inputEvent)===null||H===void 0||H.stopPropagation()):G.stop()}})})}),O}var SC=function(){function r(t,e,n){var a=this;this.target=t,this.moveable=e,this.eventName=n,this.ables=[],this._onEvent=function(s){var u=a.eventName,f=a.moveable;f.state.disableNativeEvent||a.ables.forEach(function(l){l[u](f,{inputEvent:s})})},t.addEventListener(n.toLowerCase(),this._onEvent)}return r.prototype.setAbles=function(t){this.ables=t},r.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},r}();function bC(r,t,e,n){var a;e===void 0&&(e=t);var s=wp(r,t),u=s.matrixes,f=s.is3d,l=s.targetMatrix,v=s.transformOrigin,d=s.targetOrigin,h=s.offsetContainer,p=s.hasFixed,m=s.zoom,_=FE(h,e),x=_.matrixes,y=_.is3d,S=_.offsetContainer,E=_.zoom,C=n||y||f,M=C?4:3,R=r.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in r,O=l,T=nr(M),I=nr(M),P=nr(M),G=nr(M),H=u.length,W=x.map(function(nt){return B(B({},nt),{matrix:nt.matrix?rt([],F(nt.matrix),!1):void 0})}).reverse();u.reverse(),!f&&C&&(O=Se(O,3,4),of(u)),!y&&C&&of(W),W.forEach(function(nt){I=Jt(I,nt.matrix,M)});var L=e||vn(r),Y=((a=W[0])===null||a===void 0?void 0:a.target)||aa(L,L,!0).offsetParent,X=W.slice(1).reduce(function(nt,et){return Jt(nt,et.matrix,M)},nr(M));u.forEach(function(nt,et){if(H-2===et&&(P=T.slice()),H-1===et&&(G=T.slice()),!nt.matrix){var $=u[et+1],st=kw(nt,$,Y,M,Jt(X,T,M));nt.matrix=An(st,M)}T=Jt(T,nt.matrix,M)});var j=!R&&f;O||(O=nr(j?4:3));var tt=ts(R&&O.length===16?Se(O,4,3):O,j),U=I;return I=np(I,M,M),{hasZoom:m!==1||E!==1,hasFixed:p,matrixes:u,rootMatrix:I,originalRootMatrix:U,beforeMatrix:P,offsetMatrix:G,allMatrix:T,targetMatrix:O,targetTransform:tt,inlineTransform:r.style.transform,transformOrigin:v,targetOrigin:d,is3d:C,offsetContainer:h,offsetRootContainer:S}}function EC(r,t,e,n){e===void 0&&(e=t);var a=0,s=0,u=0,f={},l=Jp(r);if(r&&(a=l.offsetWidth,s=l.offsetHeight),r){var v=bC(r,t,e,n),d=ui(v.allMatrix,v.transformOrigin,a,s);f=B(B({},v),d);var h=ui(v.allMatrix,[50,50],100,100);u=Qp([h.pos1,h.pos2],h.direction)}var p=n?4:3;return B(B(B({hasZoom:!1,width:a,height:s,rotation:u},l),{originalRootMatrix:nr(p),rootMatrix:nr(p),beforeMatrix:nr(p),offsetMatrix:nr(p),allMatrix:nr(p),targetMatrix:nr(p),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),f)}function lf(r,t,e,n,a,s){s===void 0&&(s=[]);var u=1,f=[0,0],l=mo(),v=mo(),d=mo(),h=mo(),p=[0,0],m={},_=EC(t,e,a,!0);if(t){var x=qr(t);s.forEach(function(W){m[W]=x(W)});var y=_.is3d?4:3,S=ui(_.offsetMatrix,Ht(_.transformOrigin,ip(_.targetMatrix,y)),_.width,_.height);u=S.direction,f=Ht(S.origin,[S.left-_.left,S.top-_.top]),h=ji(_.offsetRootContainer);var E=aa(n,n,!0).offsetParent||_.offsetRootContainer;if(_.hasZoom){var C=ui(Jt(_.originalRootMatrix,_.allMatrix),_.transformOrigin,_.width,_.height),M=ui(_.originalRootMatrix,Fo(qr(E)("transformOrigin")).map(function(W){return parseFloat(W)}),E.offsetWidth,E.offsetHeight);if(l=Pu(C,h),d=Pu(M,h,E,!0),r){var R=C.left,O=C.top;v=Pu({left:R,top:O,bottom:O,right:O},h)}}else{l=ji(t),d=zE(E),r&&(v=ji(r));var T=d.left,I=d.top,P=d.clientLeft,G=d.clientTop,H=[l.left-T,l.top-I];p=xt(pi(_.rootMatrix,H,4),[P+_.left,G+_.top])}}return B({targetClientRect:l,containerClientRect:d,moveableClientRect:v,rootContainerClientRect:h,beforeDirection:u,beforeOrigin:f,originalBeforeOrigin:f,target:t,style:m,offsetDelta:p},_)}function pd(r){var t=r.pos1,e=r.pos2,n=r.pos3,a=r.pos4;if(!t||!e||!n||!a)return null;var s=Pn([t,e,n,a]),u=[s.minX,s.minY],f=xt(r.origin,u);return t=xt(t,u),e=xt(e,u),n=xt(n,u),a=xt(a,u),B(B({},r),{left:r.left,top:r.top,posDelta:u,pos1:t,pos2:e,pos3:n,pos4:a,origin:f,beforeOrigin:f,isPersisted:!0})}var hi=function(r){pa(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.state=B({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},lf(null)),e.renderState={},e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isMoveableMounted=!1,e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e._emitter=new $o,e._prevOriginalDragTarget=null,e._originalDragTarget=null,e._prevDragTarget=null,e._dragTarget=null,e._prevPropTarget=null,e._propTarget=null,e._prevDragArea=!1,e._isPropTargetChanged=!1,e._hasFirstTarget=!1,e._reiszeObserver=null,e._observerId=0,e._mutationObserver=null,e._rootContainer=null,e._viewContainer=null,e._viewClassNames=[],e._store={},e.checkUpdateRect=function(){if(!e.isDragging()){var n=e.props.parentMoveable;if(n){n.checkUpdateRect();return}FS(e._observerId),e._observerId=Ad(function(){e.isDragging()||e.updateRect()})}},e._onPreventClick=function(n){n.stopPropagation(),n.preventDefault()},e}return t.prototype.render=function(){var e=this.props,n=this.getState(),a=e.parentPosition,s=e.className,u=e.target,f=e.zoom,l=e.cspNonce,v=e.translateZ,d=e.cssStyled,h=e.groupable,p=e.linePadding,m=e.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var _=F(a||[0,0],2),x=_[0],y=_[1],S=n.left,E=n.top,C=n.target,M=n.direction,R=n.hasFixed,O=n.offsetDelta,T=e.targets,I=this.isDragging(),P={};this.getEnabledAbles().forEach(function(X){P["data-able-".concat(X.name.toLowerCase())]=!0});var G=this._getAbleClassName(),H=T&&T.length&&(C||h)||u||!this._hasFirstTarget&&this.state.isPersisted,W=this.controlBox||this.props.firstRenderState||this.props.persistData,L=[S-x,E-y];!h&&e.useAccuratePosition&&(L[0]+=O[0],L[1]+=O[1]);var Y={position:R?"fixed":"absolute",display:H?"block":"none",visibility:W?"visible":"hidden",transform:"translate3d(".concat(L[0],"px, ").concat(L[1],"px, ").concat(v,")"),"--zoom":f,"--zoompx":"".concat(f,"px")};return p&&(Y["--moveable-line-padding"]=p),m&&(Y["--moveable-control-padding"]=m),_e(d,B({cspNonce:l,ref:Ye(this,"controlBox"),className:"".concat(_t("control-box",M===-1?"reverse":"",I?"dragging":"")," ").concat(G," ").concat(s)},P,{onClick:this._onPreventClick,style:Y}),this.renderAbles(),this._renderLines())},t.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var e=this.props,n=e.parentMoveable,a=e.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!a&&!n&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},t.prototype.componentDidUpdate=function(e){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(e)},t.prototype.componentWillUnmount=function(){var e,n;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(e=this._reiszeObserver)===null||e===void 0||e.disconnect(),(n=this._mutationObserver)===null||n===void 0||n.disconnect();var a=this._viewContainer;a&&this._changeAbleViewClassNames([]),oi(this,!1),oi(this,!0);var s=this.events;for(var u in s){var f=s[u];f&&f.destroy()}},t.prototype.getTargets=function(){var e=this.props.target;return e?[e]:[]},t.prototype.getAble=function(e){var n=this.props.ables||[];return $r(n,function(a){return a.name===e})},t.prototype.getContainer=function(){var e=this.props,n=e.parentMoveable,a=e.wrapperMoveable,s=e.container;return s||a&&a.getContainer()||n&&n.getContainer()||this.controlBox.parentElement},t.prototype.getControlBoxElement=function(){return this.controlBox},t.prototype.getDragElement=function(){return this._dragTarget},t.prototype.isMoveableElement=function(e){var n;return e&&(((n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"class"))||"").indexOf(Rf)>-1},t.prototype.dragStart=function(e,n){n===void 0&&(n=e.target);var a=this.targetGesto,s=this.controlGesto;return a&&Uf(this)({inputEvent:e},n)?a.isFlag()||a.triggerDragStart(e):s&&this.isMoveableElement(n)&&(s.isFlag()||s.triggerDragStart(e)),this},t.prototype.hitTest=function(e){var n=this.state,a=n.target,s=n.pos1,u=n.pos2,f=n.pos3,l=n.pos4,v=n.targetClientRect;if(!a)return 0;var d;if(mi(e)){var h=e.getBoundingClientRect();d={left:h.left,top:h.top,width:h.width,height:h.height}}else d=B({width:0,height:0},e);var p=d.left,m=d.top,_=d.width,x=d.height,y=Fv([s,u,l,f],v),S=Hb(y,[[p,m],[p+_,m],[p+_,m+x],[p,m+x]]),E=up(y);return!S||!E?0:Math.min(100,S/E*100)},t.prototype.isInside=function(e,n){var a=this.state,s=a.target,u=a.pos1,f=a.pos2,l=a.pos3,v=a.pos4,d=a.targetClientRect;return s?$u([e,n],Fv([u,f,v,l],d)):!1},t.prototype.updateRect=function(e,n,a){a===void 0&&(a=!0);var s=this.props,u=!s.parentPosition&&!s.wrapperMoveable;u&&vi(!0);var f=s.parentMoveable,l=this.state,v=l.target||s.target,d=this.getContainer(),h=f?f._rootContainer:this._rootContainer,p=lf(this.controlBox,v,d,d,h||d,this._getRequestStyles());if(!v&&this._hasFirstTarget&&s.persistData){var m=pd(s.persistData);for(var _ in m)p[_]=m[_]}u&&vi(),this.updateState(p,f?!1:a)},t.prototype.isDragging=function(e){var n,a,s=this.targetGesto,u=this.controlGesto;if(s!=null&&s.isFlag()){if(!e)return!0;var f=s.getEventData();return!!(!((n=f[e])===null||n===void 0)&&n.isEventStart)}if(u!=null&&u.isFlag()){if(!e)return!0;var f=u.getEventData();return!!(!((a=f[e])===null||a===void 0)&&a.isEventStart)}return!1},t.prototype.updateTarget=function(e){this.updateRect(e,!0)},t.prototype.getRect=function(){var e=this.state,n=ve(this.state),a=F(n,4),s=a[0],u=a[1],f=a[2],l=a[3],v=le(n),d=e.width,h=e.height,p=v.width,m=v.height,_=v.left,x=v.top,y=[e.left,e.top],S=Ht(y,e.origin),E=Ht(y,e.beforeOrigin),C=e.transformOrigin;return{width:p,height:m,left:_,top:x,pos1:s,pos2:u,pos3:f,pos4:l,offsetWidth:d,offsetHeight:h,beforeOrigin:E,origin:S,transformOrigin:C,rotation:this.getRotation()}},t.prototype.getManager=function(){return this},t.prototype.stopDrag=function(e){if(!e||e==="target"){var n=this.targetGesto;(n==null?void 0:n.isIdle())===!1&&sf(this,!1),n==null||n.stop()}if(!e||e==="control"){var n=this.controlGesto;(n==null?void 0:n.isIdle())===!1&&sf(this,!0),n==null||n.stop()}},t.prototype.getRotation=function(){var e=this.state,n=e.pos1,a=e.pos2,s=e.direction;return $w(n,a,s)},t.prototype.request=function(e,n,a){n===void 0&&(n={});var s=this,u=s.props,f=u.parentMoveable||u.wrapperMoveable||s,l=f.props.ables,v=u.groupable,d=$r(l,function(S){return S.name===e});if(this.isDragging()||!d||!d.request)return{request:function(){return this},requestEnd:function(){return this}};var h=d.request(s),p=a||n.isInstant,m=h.isControl?"controlAbles":"targetAbles",_="".concat(v?"Group":"").concat(h.isControl?"Control":""),x=rt([],F(f[m]),!1),y={request:function(S){return ta(s,x,["drag"],_,"",B(B({},h.request(S)),{requestAble:e,isRequest:!0}),p),y},requestEnd:function(){return ta(s,x,["drag"],_,"End",B(B({},h.requestEnd()),{requestAble:e,isRequest:!0}),p),y}};return ta(s,x,["drag"],_,"Start",B(B({},h.requestStart(n)),{requestAble:e,isRequest:!0}),p),p?y.request(n).requestEnd():y},t.prototype.getMoveables=function(){return[this]},t.prototype.destroy=function(){this.componentWillUnmount()},t.prototype.updateRenderPoses=function(){var e=this.getState(),n=this.props,a=n.padding,s=e.originalBeforeOrigin,u=e.transformOrigin,f=e.allMatrix,l=e.is3d,v=e.pos1,d=e.pos2,h=e.pos3,p=e.pos4,m=e.left,_=e.top,x=e.isPersisted,y=n.zoom||1;if(!a&&y<=1){e.renderPoses=[v,d,h,p],e.renderLines=[[v,d],[d,p],[p,h],[h,v]];return}var S=fh(a||{}),E=S.left,C=S.top,M=S.bottom,R=S.right,O=l?4:3,T=[];x?T=u:this.controlBox&&n.groupable?T=s:T=Ht(s,[m,_]);var I=Io(O,An(T.map(function(Y){return-Y}),O),f,An(u,O)),P=fe(I,v,[-E,-C],O),G=fe(I,d,[R,-C],O),H=fe(I,h,[-E,M],O),W=fe(I,p,[R,M],O);if(e.renderPoses=[P,G,H,W],e.renderLines=[[P,G],[G,W],[W,H],[H,P]],y){var L=y/2;e.renderLines=[[fe(I,v,[-E-L,-C],O),fe(I,d,[R+L,-C],O)],[fe(I,d,[R,-C-L],O),fe(I,p,[R,M+L],O)],[fe(I,p,[R+L,M],O),fe(I,h,[-E-L,M],O)],[fe(I,h,[-E,M+L],O),fe(I,v,[-E,-C-L],O)]]}},t.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var e=this.props,n=e.target,a=e.container,s=e.parentMoveable,u=this.state,f=u.target,l=u.container;if(!(!f&&!n)){this.updateAbles();var v=!uf(f,n),d=v||!uf(l,a);if(d){var h=a||this.controlBox;h&&this.unsetAbles(),this.updateState({target:n,container:a}),!s&&h&&this.updateRect("End",!1,!1),this._isPropTargetChanged=v}}},t.prototype.waitToChangeTarget=function(){return new Promise(function(){})},t.prototype.triggerEvent=function(e,n){var a=this.props;if(this._emitter.trigger(e,n),a.parentMoveable&&n.isRequest&&!n.isRequestChild)return a.parentMoveable.triggerEvent(e,n,!0);var s=a[e];return s&&s(n)},t.prototype.useCSS=function(e,n){var a=this.props.customStyledMap,s=e+n;return a[s]||(a[s]=cp(e,n)),a[s]},t.prototype.getState=function(){var e,n=this.props;(n.target||!((e=n.targets)===null||e===void 0)&&e.length)&&(this._hasFirstTarget=!0);var a=this.controlBox,s=n.persistData,u=n.firstRenderState;if(u&&!a)return u;if(!this._hasFirstTarget&&s){var f=pd(s);if(f)return this.updateState(f,!1),this.state}return this.state.isPersisted=!1,this.state},t.prototype.updateSelectors=function(){},t.prototype.unsetAbles=function(){var e=this;this.targetAbles.forEach(function(n){n.unset&&n.unset(e)})},t.prototype.updateAbles=function(e,n){e===void 0&&(e=this.props.ables),n===void 0&&(n="");var a=this.props,s=a.triggerAblesSimultaneously,u=this.getEnabledAbles(e),f="drag".concat(n,"Start"),l="pinch".concat(n,"Start"),v="drag".concat(n,"ControlStart"),d=_o(u,[f,l],s),h=_o(u,[v],s);this.enabledAbles=u,this.targetAbles=d,this.controlAbles=h},t.prototype.updateState=function(e,n){if(n){if(this.isUnmounted)return;this.setState(e)}else{var a=this.state;for(var s in e)a[s]=e[s]}},t.prototype.getEnabledAbles=function(e){e===void 0&&(e=this.props.ables);var n=this.props;return e.filter(function(a){return a&&(a.always&&n[a.name]!==!1||n[a.name])})},t.prototype.renderAbles=function(){var e=this,n=this.props,a=n.triggerAblesSimultaneously,s={createElement:_e};return this.renderState={},Yw(ih(_o(this.getEnabledAbles(),["render"],a).map(function(u){var f=u.render;return f(e,s)||[]})).filter(function(u){return u}),function(u){var f=u.key;return f}).map(function(u){return u[0]})},t.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},t.prototype._getRequestStyles=function(){var e=this.getEnabledAbles().reduce(function(n,a){var s,u,f=(u=(s=a.requestStyle)===null||s===void 0?void 0:s.call(a))!==null&&u!==void 0?u:[];return rt(rt([],F(n),!1),F(f),!1)},rt([],F(this.props.requestStyles||[]),!1));return e},t.prototype._updateObserver=function(e){this._updateResizeObserver(e),this._updateMutationObserver(e)},t.prototype._updateEvents=function(){var e=this.targetAbles.length,n=this.controlAbles.length,a=this._dragTarget,s=!e&&this.targetGesto||this._isTargetChanged(!0);s&&(oi(this,!1),this.updateState({gestos:{}})),n||oi(this,!0),a&&e&&!this.targetGesto&&(this.targetGesto=_h(this,a,"")),!this.controlGesto&&n&&(this.controlGesto=xh(this,"Control"))},t.prototype._updateTargets=function(){var e=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=e.dragArea,this._propTarget=e.target,this._originalDragTarget=e.dragTarget||e.target,this._dragTarget=Me(this._originalDragTarget,!0)},t.prototype._renderLines=function(){var e=this.props,n=e,a=n.zoom,s=n.hideDefaultLines,u=n.hideChildMoveableDefaultLines,f=n.parentMoveable;if(s||f&&u)return[];var l=this.getState(),v={createElement:_e};return l.renderLines.map(function(d,h){return ia(v,"",d[0],d[1],a,"render-line-".concat(h))})},t.prototype._isTargetChanged=function(e){var n=this.props,a=n.dragTarget||n.target,s=this._prevOriginalDragTarget,u=this._prevDragArea,f=n.dragArea,l=!f&&s!==a,v=(e||f)&&u!==f;return l||v||this._prevPropTarget!=this._propTarget},t.prototype._updateNativeEvents=function(){var e=this,n=this.props,a=n.dragArea?this.areaElement:this.state.target,s=this.events,u=qe(s);if(this._isTargetChanged())for(var f in s){var l=s[f];l&&l.destroy(),s[f]=null}if(a){var v=this.enabledAbles;u.forEach(function(d){var h=_o(v,[d]),p=h.length>0,m=s[d];if(!p){m&&(m.destroy(),s[d]=null);return}m||(m=new SC(a,e,d),s[d]=m),m.setAbles(h)})}},t.prototype._checkUpdateRootContainer=function(){var e=this.props.rootContainer;!this._rootContainer&&e&&(this._rootContainer=Me(e,!0))},t.prototype._checkUpdateViewContainer=function(){var e=this.props.viewContainer;!this._viewContainer&&e&&(this._viewContainer=Me(e,!0));var n=this._viewContainer;n&&this._changeAbleViewClassNames(rt(rt([],F(this._getAbleViewClassNames()),!1),[this.isDragging()?jw:""],!1))},t.prototype._changeAbleViewClassNames=function(e){var n=this._viewContainer,a=nh(e.filter(Boolean),function(v){return v}).map(function(v){var d=F(v,1),h=d[0];return h}),s=this._viewClassNames,u=fa(s,a),f=u.removed,l=u.added;f.forEach(function(v){Fd(n,s[v])}),l.forEach(function(v){zd(n,a[v])}),this._viewClassNames=a},t.prototype._getAbleViewClassNames=function(){var e=this;return(this.getEnabledAbles().map(function(n){var a;return((a=n.viewClassName)===null||a===void 0?void 0:a.call(n,e))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},t.prototype._getAbleClassName=function(e){var n=this;e===void 0&&(e="");var a=this.getEnabledAbles(),s=this.targetGesto,u=this.controlGesto,f=s!=null&&s.isFlag()?s.getEventData():{},l=u!=null&&u.isFlag()?u.getEventData():{};return a.map(function(v){var d,h,p,m=v.name,_=((d=v.className)===null||d===void 0?void 0:d.call(v,n))||"";return(!((h=f[m])===null||h===void 0)&&h.isEventStart||!((p=l[m])===null||p===void 0)&&p.isEventStart)&&(_+=" ".concat(_t("".concat(m).concat(e,"-dragging")))),_.trim()}).filter(Boolean).join(" ")},t.prototype._updateResizeObserver=function(e){var n,a=this.props,s=a.target,u=un(this.getControlBoxElement());if(!u.ResizeObserver||!s||!a.useResizeObserver){(n=this._reiszeObserver)===null||n===void 0||n.disconnect();return}if(!(e.target===s&&this._reiszeObserver)){var f=new u.ResizeObserver(this.checkUpdateRect);f.observe(s,{box:"border-box"}),this._reiszeObserver=f}},t.prototype._updateMutationObserver=function(e){var n=this,a,s=this.props,u=s.target,f=un(this.getControlBoxElement());if(!f.MutationObserver||!u||!s.useMutationObserver){(a=this._mutationObserver)===null||a===void 0||a.disconnect();return}if(!(e.target===u&&this._mutationObserver)){var l=new f.MutationObserver(function(v){var d,h;try{for(var p=aE(v),m=p.next();!m.done;m=p.next()){var _=m.value;_.type==="attributes"&&_.attributeName==="style"&&n.checkUpdateRect()}}catch(x){d={error:x}}finally{try{m&&!m.done&&(h=p.return)&&h.call(p)}finally{if(d)throw d.error}}});l.observe(u,{attributes:!0}),this._mutationObserver=l}},t.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:qp,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},t}(Xd),Kf={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(r,t){var e,n=r.props,a=n.targets||[],s=r.getState(),u=s.left,f=s.top,l=s.isPersisted,v=n.zoom||1,d=r.renderGroupRects,h=((e=n.persistData)===null||e===void 0?void 0:e.children)||[];l?a=h.map(function(){return null}):h=[];var p=si(r,"parentPosition",[u,f],function(_){return _.join(",")}),m=si(r,"requestStyles",r.getRequestChildStyles(),function(_){return _.join(",")});return r.moveables=r.moveables.slice(0,a.length),rt(rt([],F(a.map(function(_,x){return t.createElement(hi,{key:"moveable"+x,ref:Od(r,"moveables",x),target:_,origin:!1,requestStyles:m,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,useMutationObserver:n.useMutationObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:r,parentPosition:[u,f],persistData:h[x],zoom:v})})),!1),F(ih(d.map(function(_,x){var y=_.pos1,S=_.pos2,E=_.pos3,C=_.pos4,M=[y,S,E,C];return[[0,1],[1,3],[3,2],[2,0]].map(function(R,O){var T=F(R,2),I=T[0],P=T[1];return ia(t,"",xt(M[I],p),xt(M[P],p),v,"group-rect-".concat(x,"-").concat(O))})}))),!1)}},wC=ha("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(r,t){t.datas.inputTarget=t.inputEvent&&t.inputEvent.target},dragEnd:function(r,t){var e=r.props.target,n=t.inputEvent,a=t.inputTarget,s=r.isMoveableElement(a),u=!s&&r.controlBox.contains(a);if(!(!n||!a||t.isDrag||r.isMoveableElement(a)||u)){var f=e.contains(a);ct(r,"onClick",Ot(r,t,{isDouble:t.isDouble,inputTarget:a,isTarget:e===a,moveableTarget:r.props.target,containsTarget:f}))}},dragGroupEnd:function(r,t){var e=t.inputEvent,n=t.inputTarget;if(!(!e||!n||t.isDrag||r.isMoveableElement(n)||t.datas.inputTarget===n)){var a=r.props.targets,s=a.indexOf(n),u=s>-1,f=!1;s===-1&&(s=$e(a,function(l){return l.contains(n)}),f=s>-1),ct(r,"onClickGroup",Ot(r,t,{isDouble:t.isDouble,targets:a,inputTarget:n,targetIndex:s,isTarget:u,containsTarget:f,moveableTarget:a[s]}))}},dragControlEnd:function(r,t){this.dragEnd(r,t)},dragGroupControlEnd:function(r,t){this.dragEnd(r,t)}});function ri(r){var t=r.originalDatas.draggable;return t||(r.originalDatas.draggable={},t=r.originalDatas.draggable),B(B({},r),{datas:t})}var CC=ha("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(r,t){var e=r.props,n=e.edgeDraggable;return n?Mp(t,"edgeDraggable",n,r.getState().renderPoses,e.zoom):[]},dragCondition:function(r,t){var e,n=r.props,a=(e=t.inputEvent)===null||e===void 0?void 0:e.target;return!n.edgeDraggable||!a?!1:!n.draggable&&br(a,_t("direction"))&&br(a,_t("edge"))&&br(a,_t("edgeDraggable"))},dragStart:function(r,t){return Gr.dragStart(r,ri(t))},drag:function(r,t){return Gr.drag(r,ri(t))},dragEnd:function(r,t){return Gr.dragEnd(r,ri(t))},dragGroupCondition:function(r,t){var e,n=r.props,a=(e=t.inputEvent)===null||e===void 0?void 0:e.target;return!n.edgeDraggable||!a?!1:!n.draggable&&br(a,_t("direction"))&&br(a,_t("line"))},dragGroupStart:function(r,t){return Gr.dragGroupStart(r,ri(t))},dragGroup:function(r,t){return Gr.dragGroup(r,ri(t))},dragGroupEnd:function(r,t){return Gr.dragGroupEnd(r,ri(t))},unset:function(r){return Gr.unset(r)}}),Sh={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},Zf=[gh,vh,Tw,Uw,Gr,CC,ef,Kw,Jw,vw,eC,nC,tC,hC,pC,xC,Kf,Sh,wC,ch,mh],DC=Zf.reduce(function(r,t){return(t.events||[]).forEach(function(e){Gd(r,e)}),r},[]),MC=Zf.reduce(function(r,t){return(t.props||[]).forEach(function(e){Gd(r,e)}),r},[]);function hd(r,t){var e=F(r,3),n=e[0],a=e[1],s=e[2];return(n*t[0]+a*t[1]+s)/Math.sqrt(n*n+a*a)}function So(r,t){var e=F(r,2),n=e[0],a=e[1];return-n*t[0]-a*t[1]}function gd(r,t){return Math.max.apply(Math,rt([],F(r.map(function(e){var n=F(e,4),a=n[0],s=n[1],u=n[2],f=n[3];return Math.max(a[t],s[t],u[t],f[t])})),!1))}function md(r,t){return Math.min.apply(Math,rt([],F(r.map(function(e){var n=F(e,4),a=n[0],s=n[1],u=n[2],f=n[3];return Math.min(a[t],s[t],u[t],f[t])})),!1))}function OC(r,t){var e,n,a,s=[0,0],u=[0,0],f=[0,0],l=[0,0],v=0,d=0;if(!r.length)return{pos1:s,pos2:u,pos3:f,pos4:l,minX:0,minY:0,maxX:0,maxY:0,width:v,height:d,rotation:t};var h=Ct(t,Lr);if(h%90){var p=h/180*Math.PI,m=Math.tan(p),_=-1/m,x=[Qu,kv],y=[[0,0],[0,0]],S=[Qu,kv],E=[[0,0],[0,0]];r.forEach(function(lt){lt.forEach(function(ot){var ut=hd([-m,1,0],ot),it=hd([-_,1,0],ot);x[0]>ut&&(y[0]=ot,x[0]=ut),x[1]<ut&&(y[1]=ot,x[1]=ut),S[0]>it&&(E[0]=ot,S[0]=it),S[1]<it&&(E[1]=ot,S[1]=it)})});var C=F(y,2),M=C[0],R=C[1],O=F(E,2),T=O[0],I=O[1],P=[-m,1,So([-m,1],M)],G=[-m,1,So([-m,1],R)],H=[-_,1,So([-_,1],T)],W=[-_,1,So([-_,1],I)];e=F([[P,H],[P,W],[G,H],[G,W]].map(function(lt){var ot=F(lt,2),ut=ot[0],it=ot[1];return Mf(ut,it)[0]}),4),s=e[0],u=e[1],f=e[2],l=e[3],v=S[1]-S[0],d=x[1]-x[0]}else{var L=md(r,0),Y=md(r,1),X=gd(r,0),j=gd(r,1);if(s=[L,Y],u=[X,Y],f=[L,j],l=[X,j],v=X-L,d=j-Y,h%180){var tt=[f,s,l,u];n=F(tt,4),s=n[0],u=n[1],f=n[2],l=n[3],v=j-Y,d=X-L}}if(h%360>180){var tt=[l,f,u,s];a=F(tt,4),s=a[0],u=a[1],f=a[2],l=a[3]}var U=Pn([s,u,f,l]),nt=U.minX,et=U.minY,$=U.maxX,st=U.maxY;return{pos1:s,pos2:u,pos3:f,pos4:l,width:v,height:d,minX:nt,minY:et,maxX:$,maxY:st,rotation:t}}function bh(r,t){var e=t.map(function(n){if(mr(n)){var a=bh(r,n),s=a.length;return s>1?a:s===1?a[0]:null}else{var u=$r(r,function(f){var l=f.manager;return l.props.target===n});return u?(u.finded=!0,u.manager):null}}).filter(Boolean);return e.length===1&&mr(e[0])?e[0]:e}var RC=function(r){pa(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.differ=new sp,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}return t.prototype.componentDidMount=function(){r.prototype.componentDidMount.call(this)},t.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},t.prototype.getTargets=function(){return this.props.targets},t.prototype.updateRect=function(e,n,a){var s;a===void 0&&(a=!0);var u=this.state;if(!this.controlBox||u.isPersisted)return;vi(!0),this.moveables.forEach(function(ht){ht.updateRect(e,!1,!1)});var f=this.props,l=this.moveables,v=u.target||f.target,d=l.map(function(ht){return{finded:!1,manager:ht}}),h=this.props.targetGroups||[],p=bh(d,h),m=f.useDefaultGroupRotate;p.push.apply(p,rt([],F(d.filter(function(ht){var wt=ht.finded;return!wt}).map(function(ht){var wt=ht.manager;return wt})),!1));var _=[],x=!n||e!==""&&f.updateGroup,y=f.defaultGroupRotate||0;if(!this._hasFirstTargets){var S=(s=f.persistData)===null||s===void 0?void 0:s.rotation;S!=null&&(y=S)}function E(ht,wt,Ft){var at=ht.map(function(Vt){if(mr(Vt)){var Rt=E(Vt,wt),Lt=[Rt.pos1,Rt.pos2,Rt.pos3,Rt.pos4];return _.push(Rt),{poses:Lt,rotation:Rt.rotation}}else return{poses:ve(Vt.state),rotation:Vt.getRotation()}}),pt=at.map(function(Vt){var Rt=Vt.rotation;return Rt}),Wt=0,mt=pt[0],Et=pt.every(function(Vt){return Math.abs(mt-Vt)<.1});x?Wt=!m&&Et?mt:y:Wt=!m&&!Ft&&Et?mt:wt;var At=at.map(function(Vt){var Rt=Vt.poses;return Rt}),Gt=OC(At,Wt);return Gt}var C=E(p,this.rotation,!0);x&&(this.rotation=C.rotation,this.transformOrigin=f.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=h,this.renderGroupRects=_;var M=this.transformOrigin,R=this.rotation,O=this.scale,T=C.width,I=C.height,P=C.minX,G=C.minY,H=qw([[0,0],[T,0],[0,I],[T,I]],Vf(M,T,I),this.rotation/180*Math.PI),W=Pn(H.result),L=W.minX,Y=W.minY,X=" rotate(".concat(R,"deg)")+" scale(".concat(zr(O[0]),", ").concat(zr(O[1]),")"),j="translate(".concat(-L,"px, ").concat(-Y,"px)").concat(X);this.controlBox.style.transform="translate3d(".concat(P,"px, ").concat(G,"px, ").concat(this.props.translateZ||0,")"),v.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(M,";")+"width:".concat(T,"px;height:").concat(I,"px;")+"transform: ".concat(j),u.width=T,u.height=I;var tt=this.getContainer(),U=lf(this.controlBox,v,this.controlBox,this.getContainer(),this._rootContainer||tt,[]),nt=[U.left,U.top],et=F(ve(U),4),$=et[0],st=et[1],lt=et[2],ot=et[3],ut=Pn([$,st,lt,ot]),it=[ut.minX,ut.minY],vt=zr(O[0]*O[1]);U.pos1=xt($,it),U.pos2=xt(st,it),U.pos3=xt(lt,it),U.pos4=xt(ot,it),U.left=P-U.left+it[0],U.top=G-U.top+it[1],U.origin=xt(Ht(nt,U.origin),it),U.beforeOrigin=xt(Ht(nt,U.beforeOrigin),it),U.originalBeforeOrigin=Ht(nt,U.originalBeforeOrigin),U.transformOrigin=xt(Ht(nt,U.transformOrigin),it),v.style.transform="translate(".concat(-L-it[0],"px, ").concat(-Y-it[1],"px)")+X,vi(),this.updateState(B(B({},U),{posDelta:it,direction:vt,beforeDirection:vt}),a)},t.prototype.getRect=function(){return B(B({},r.prototype.getRect.call(this)),{children:this.moveables.map(function(e){return e.getRect()})})},t.prototype.triggerEvent=function(e,n,a){if(a||e.indexOf("Group")>-1)return r.prototype.triggerEvent.call(this,e,n);this._emitter.trigger(e,n)},t.prototype.getRequestChildStyles=function(){var e=this.getEnabledAbles().reduce(function(n,a){var s,u,f=(u=(s=a.requestChildStyle)===null||s===void 0?void 0:s.call(a))!==null&&u!==void 0?u:[];return rt(rt([],F(n),!1),F(f),!1)},[]);return e},t.prototype.getMoveables=function(){return rt([],F(this.moveables),!1)},t.prototype.updateAbles=function(){r.prototype.updateAbles.call(this,rt(rt([],F(this.props.ables),!1),[Kf],!1),"Group")},t.prototype._updateTargets=function(){r.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=Me(this._originalDragTarget,!0)},t.prototype._updateEvents=function(){var e=this.state,n=this.props,a=this._prevDragTarget,s=n.dragTarget||this.areaElement,u=n.targets,f=this.differ.update(u),l=f.added,v=f.changed,d=f.removed,h=l.length||d.length;(h||this._prevOriginalDragTarget!==this._originalDragTarget)&&(oi(this,!1),oi(this,!0),this.updateState({gestos:{}})),a!==s&&(e.target=null),e.target||(e.target=this.areaElement,this.controlBox.style.display="block"),e.target&&(this.targetGesto||(this.targetGesto=_h(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=xh(this,"GroupControl")));var p=!uf(e.container,n.container);p&&(e.container=n.container),(p||h||this.transformOrigin!==(n.defaultGroupOrigin||"50% 50%")||v.length||u.length&&!uh(this._targetGroups,n.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!h},t.prototype._updateObserver=function(){},t.defaultProps=B(B({},hi.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),t}(hi),TC=function(r){pa(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.moveables=[],e}return t.prototype.render=function(){var e=this,n,a=this.props,s=a.cspNonce,u=a.cssStyled,f=a.persistData,l=a.targets||[],v=l.length,d=this.isUnmounted||!v,h=(n=f==null?void 0:f.children)!==null&&n!==void 0?n:[];return d&&!v&&h.length?l=h.map(function(){return null}):d||(h=[]),_e(u,{cspNonce:s,ref:Ye(this,"controlBox"),className:_t("control-box")},l.map(function(p,m){var _,x,y=(x=(_=a.individualGroupableProps)===null||_===void 0?void 0:_.call(a,p,m))!==null&&x!==void 0?x:{};return _e(hi,B({key:"moveable"+m,ref:Od(e,"moveables",m)},a,y,{target:p,wrapperMoveable:e,isWrapperMounted:e.isMoveableMounted,persistData:h[m]}))}))},t.prototype.componentDidMount=function(){},t.prototype.componentDidUpdate=function(){},t.prototype.getTargets=function(){return this.props.targets},t.prototype.updateRect=function(e,n,a){a===void 0&&(a=!0),vi(!0),this.moveables.forEach(function(s){s.updateRect(e,n,a)}),vi()},t.prototype.getRect=function(){return B(B({},r.prototype.getRect.call(this)),{children:this.moveables.map(function(e){return e.getRect()})})},t.prototype.request=function(e,n,a){n===void 0&&(n={});var s=this.moveables.map(function(l){return l.request(e,B(B({},n),{isInstant:!1}),!1)}),u=a||n.isInstant,f={request:function(l){return s.forEach(function(v){return v.request(l)}),this},requestEnd:function(){return s.forEach(function(l){return l.requestEnd()}),this}};return u?f.request(n).requestEnd():f},t.prototype.dragStart=function(e,n){n===void 0&&(n=e.target);var a=n,s=$r(this.moveables,function(u){var f=u.getTargets()[0],l=u.getControlBoxElement(),v=u.getDragElement();return!f||!v?!1:v===a||v.contains(a)||v!==f&&f===a||f.contains(a)||l===a||l.contains(a)});return s&&s.dragStart(e,n),this},t.prototype.hitTest=function(){return 0},t.prototype.isInside=function(){return!1},t.prototype.isDragging=function(){return!1},t.prototype.getDragElement=function(){return null},t.prototype.getMoveables=function(){return rt([],F(this.moveables),!1)},t.prototype.updateRenderPoses=function(){},t.prototype.checkUpdate=function(){},t.prototype.triggerEvent=function(){},t.prototype.updateAbles=function(){},t.prototype._updateEvents=function(){},t.prototype._updateObserver=function(){},t}(hi);function Eh(r,t){var e=[];return r.forEach(function(n){if(n){if(Vr(n)){t[n]&&e.push.apply(e,rt([],F(t[n]),!1));return}mr(n)?e.push.apply(e,rt([],F(Eh(n,t)),!1)):e.push(n)}}),e}function wh(r,t){var e=[];return r.forEach(function(n){if(n){if(Vr(n)){t[n]&&e.push.apply(e,rt([],F(t[n]),!1));return}mr(n)?e.push(wh(n,t)):e.push(n)}}),e}function Ch(r,t){return r.length!==t.length||r.some(function(e,n){var a=t[n];return!e&&!a?!1:e!=a?mr(e)&&mr(a)?Ch(e,a):!0:!1})}var IC=function(r){pa(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e._differ=new sp,e._elementTargets=[],e._tmpRefTargets=[],e._tmpSelectorMap={},e._onChangeTargets=null,e}return t.makeStyled=function(){var e={},n=this.getTotalAbles();n.forEach(function(s){var u=s.css;u&&u.forEach(function(f){e[f]=!0})});var a=qe(e).join(`
`);this.defaultStyled=cp("div",CS(Rf,gE+a))},t.getTotalAbles=function(){return rt([vh,Kf,Sh,ch],F(this.defaultAbles),!1)},t.prototype.render=function(){var e,n=this.constructor;n.defaultStyled||n.makeStyled();var a=this.props,s=a.ables,u=a.props,f=nE(a,["ables","props"]),l=F(this._updateRefs(!0),2),v=l[0],d=l[1],h=Eh(v,d),p=h.length>1,m=n.getTotalAbles(),_=rt(rt([],F(m),!1),F(s||[]),!1),x=B(B(B({},f),u||{}),{ables:_,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=h;var y=null,S=this.moveable,E=f.persistData;if(E!=null&&E.children&&(p=!0),f.individualGroupable)return _e(TC,B({key:"individual-group",ref:Ye(this,"moveable")},x,{target:null,targets:h}));if(p){var C=wh(v,d);if(S&&!S.props.groupable&&!S.props.individualGroupable){var M=S.props.target;M&&h.indexOf(M)>-1&&(y=B({},S.state))}return _e(RC,B({key:"group",ref:Ye(this,"moveable")},x,(e=f.groupableProps)!==null&&e!==void 0?e:{},{target:null,targets:h,targetGroups:C,firstRenderState:y}))}else{var R=h[0];if(S&&(S.props.groupable||S.props.individualGroupable)){var O=S.moveables||[],T=$r(O,function(I){return I.props.target===R});T&&(y=B({},T.state))}return _e(hi,B({key:"single",ref:Ye(this,"moveable")},x,{target:R,firstRenderState:y}))}},t.prototype.componentDidMount=function(){this._checkChangeTargets()},t.prototype.componentDidUpdate=function(){this._checkChangeTargets()},t.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},t.prototype.getTargets=function(){var e,n;return(n=(e=this.moveable)===null||e===void 0?void 0:e.getTargets())!==null&&n!==void 0?n:[]},t.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},t.prototype.waitToChangeTarget=function(){var e=this,n;return this._onChangeTargets=function(){e._onChangeTargets=null,n()},new Promise(function(a){n=a})},t.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},t.prototype.getManager=function(){return this.moveable},t.prototype.getMoveables=function(){return this.moveable.getMoveables()},t.prototype.getDragElement=function(){return this.moveable.getDragElement()},t.prototype._updateRefs=function(e){var n=this.refTargets,a=Xf(this.props.target||this.props.targets),s=typeof document<"u",u=Ch(n,a),f=this.selectorMap,l={};return this.refTargets.forEach(function v(d){if(Vr(d)){var h=f[d];h?l[d]=f[d]:s&&(u=!0,l[d]=[].slice.call(document.querySelectorAll(d)))}else mr(d)&&d.forEach(v)}),this._tmpRefTargets=a,this._tmpSelectorMap=l,[a,l,!e&&u]},t.prototype._checkChangeTargets=function(){var e,n,a;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var s=this._differ.update(this._elementTargets),u=s.added,f=s.removed,l=u.length||f.length;l&&((n=(e=this.props).onChangeTargets)===null||n===void 0||n.call(e,{moveable:this.moveable,targets:this._elementTargets}),(a=this._onChangeTargets)===null||a===void 0||a.call(this));var v=F(this._updateRefs(),3),d=v[0],h=v[1],p=v[2];this.refTargets=d,this.selectorMap=h,p&&this.forceUpdate()},t.defaultAbles=[],t.customStyledMap={},t.defaultStyled=null,iE([DS(mp)],t.prototype,"moveable",void 0),t}(Xd),AC=function(r){pa(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.defaultAbles=Zf,t}(IC),cf=function(r,t){return cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},cf(r,t)};function Jf(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cf(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var oa=function(){return oa=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},oa.apply(this,arguments)};function PC(r,t,e,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(s=(a<3?u(s):a>3?u(t,e,s):u(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s}var BC=function(r){Jf(t,r);function t(n){var a=r.call(this,n)||this;return a.state={},a.state=a.props,a}var e=t.prototype;return e.render=function(){return _e(AC,oa({ref:Ye(this,"moveable")},this.state))},t}(Sf),Wo=MC,Dh=mp,Mh=DC,GC=function(r){Jf(t,r);function t(n,a){a===void 0&&(a={});var s=r.call(this)||this;s.containerProvider=null,s.selfElement=null,s._warp=!1;var u=oa({},a),f={};Mh.forEach(function(d){f[zS("on ".concat(d))]=function(h){return s.trigger(d,h)}});var l;a.warpSelf?(delete a.warpSelf,s._warp=!0,l=n):(l=gi(n).createElement("div"),n.appendChild(l)),s.containerProvider=Bv(_e(BC,oa({ref:Ye(s,"innerMoveable")},u,f)),l),s.selfElement=l;var v=u.target;return mr(v)&&v.length>1&&s.updateRect(),s}var e=t.prototype;return e.setState=function(n,a){this.innerMoveable.setState(n,a)},e.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},e.dragStart=function(n,a){a===void 0&&(a=n.target);var s=this.innerMoveable;s.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n,a)},e.destroy=function(){var n,a=this.selfElement;Bv(null,a,this.containerProvider),this._warp||(n=a==null?void 0:a.parentElement)===null||n===void 0||n.removeChild(a),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},e.getMoveable=function(){return this.innerMoveable.moveable},t=PC([Cv(Dh,function(n,a){n[a]||(n[a]=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var f=this.getMoveable();if(!(!f||!f[a]))return f[a].apply(f,s)})}),Cv(Wo,function(n,a){Object.defineProperty(n,a,{get:function(){return this.getMoveable().props[a]},set:function(s){var u;this.setState((u={},u[a]=s,u))},enumerable:!0,configurable:!0})})],t),t}($o),zC=function(r){Jf(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(GC);const Oh={};Dh.forEach(r=>{Oh[r]=function(...t){return this.$_moveable[r](...t)}});const Rh={};Wo.forEach(r=>{Rh[r]=function(t){this.$_moveable[r]=t}});const FC=Gn({name:"moveable",methods:Oh,props:Wo,watch:Rh,mounted(){const r={},t=this.$props;Wo.forEach(s=>{const u=t[s];sa(u)||(r[s]=t[s])});const n=this.$refs.moveableElement,a=new zC(n,{...r,warpSelf:!0});Mh.forEach(s=>{a.on(s,u=>{this.$emit(s,{...u})})}),this.$_moveable=a},beforeUnmount(){this.$_moveable.destroy()}}),LC=FC,NC=(r,t)=>{const e=r.__vccOpts||r;for(const[n,a]of t)e[n]=a;return e},kC={ref:"moveableElement"};function WC(r,t,e,n,a,s){return Xt(),er("div",kC,null,512)}const Ho=NC(LC,[["render",WC]]);function HC(r,t,e){const n=[];for(let a=0;a<e;a++){n.push([]);for(let s=0;s<t;s++){n[a].push([]);for(let u=0;u<4;u++)n[a][s].push(r[a*t*4+s*4+u])}}return n}function YC(r){return r.map(t=>t.map(e=>+(e.reduce((n,a)=>n+a)/4>127)))}function _d(r,t,e){t=Math.round(t),e=Math.round(e);let n=0;for(;;){for(let a=0;a<=n;a++){let s=n-a;for(const u of[[1,1],[-1,1],[1,-1],[-1,-1]])if(r[e+s*u[1]][t+a*u[0]]==0)return[t+a*u[0],e+s*u[1]]}n++}}var Xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Th={},es={},Yo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Yo.exports;(function(r,t){(function(){var e,n="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",v=500,d="__lodash_placeholder__",h=1,p=2,m=4,_=1,x=2,y=1,S=2,E=4,C=8,M=16,R=32,O=64,T=128,I=256,P=512,G=30,H="...",W=800,L=16,Y=1,X=2,j=3,tt=1/0,U=9007199254740991,nt=17976931348623157e292,et=0/0,$=4294967295,st=$-1,lt=$>>>1,ot=[["ary",T],["bind",y],["bindKey",S],["curry",C],["curryRight",M],["flip",P],["partial",R],["partialRight",O],["rearg",I]],ut="[object Arguments]",it="[object Array]",vt="[object AsyncFunction]",ht="[object Boolean]",wt="[object Date]",Ft="[object DOMException]",at="[object Error]",pt="[object Function]",Wt="[object GeneratorFunction]",mt="[object Map]",Et="[object Number]",At="[object Null]",Gt="[object Object]",Vt="[object Promise]",Rt="[object Proxy]",Lt="[object RegExp]",$t="[object Set]",fr="[object String]",lr="[object Symbol]",sr="[object Undefined]",tr="[object WeakMap]",be="[object WeakSet]",Nr="[object ArrayBuffer]",Te="[object DataView]",Ln="[object Float32Array]",Si="[object Float64Array]",Ue="[object Int8Array]",dn="[object Int16Array]",bi="[object Int32Array]",Nn="[object Uint8Array]",pn="[object Uint8ClampedArray]",Ei="[object Uint16Array]",wi="[object Uint32Array]",os=/\b__p \+= '';/g,Ci=/\b(__p \+=) '' \+/g,Kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wr=/&(?:amp|lt|gt|quot|#39);/g,Di=/[&<>"']/g,xa=RegExp(wr.source),ss=RegExp(Di.source),Mi=/<%-([\s\S]+?)%>/g,Ih=/<%([\s\S]+?)%>/g,Qf=/<%=([\s\S]+?)%>/g,Ah=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ph=/^\w*$/,Bh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,us=/[\\^$.*+?()[\]{}|]/g,Gh=RegExp(us.source),fs=/^\s+/,zh=/\s/,Fh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lh=/\{\n\/\* \[wrapped with (.+)\] \*/,Nh=/,? & /,kh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wh=/[()=,{}\[\]\/\s]/,Hh=/\\(\\)?/g,Yh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jf=/\w*$/,Xh=/^[-+]0x[0-9a-f]+$/i,Vh=/^0b[01]+$/i,$h=/^\[object .+?Constructor\]$/,qh=/^0o[0-7]+$/i,Uh=/^(?:0|[1-9]\d*)$/,Kh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ya=/($^)/,Zh=/['\n\r\u2028\u2029\\]/g,Sa="\\ud800-\\udfff",Jh="\\u0300-\\u036f",Qh="\\ufe20-\\ufe2f",jh="\\u20d0-\\u20ff",tl=Jh+Qh+jh,rl="\\u2700-\\u27bf",el="a-z\\xdf-\\xf6\\xf8-\\xff",tg="\\xac\\xb1\\xd7\\xf7",rg="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",eg="\\u2000-\\u206f",ng=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nl="A-Z\\xc0-\\xd6\\xd8-\\xde",il="\\ufe0e\\ufe0f",al=tg+rg+eg+ng,ls="['’]",ig="["+Sa+"]",ol="["+al+"]",ba="["+tl+"]",sl="\\d+",ag="["+rl+"]",ul="["+el+"]",fl="[^"+Sa+al+sl+rl+el+nl+"]",cs="\\ud83c[\\udffb-\\udfff]",og="(?:"+ba+"|"+cs+")",ll="[^"+Sa+"]",vs="(?:\\ud83c[\\udde6-\\uddff]){2}",ds="[\\ud800-\\udbff][\\udc00-\\udfff]",kn="["+nl+"]",cl="\\u200d",vl="(?:"+ul+"|"+fl+")",sg="(?:"+kn+"|"+fl+")",dl="(?:"+ls+"(?:d|ll|m|re|s|t|ve))?",pl="(?:"+ls+"(?:D|LL|M|RE|S|T|VE))?",hl=og+"?",gl="["+il+"]?",ug="(?:"+cl+"(?:"+[ll,vs,ds].join("|")+")"+gl+hl+")*",fg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ml=gl+hl+ug,cg="(?:"+[ag,vs,ds].join("|")+")"+ml,vg="(?:"+[ll+ba+"?",ba,vs,ds,ig].join("|")+")",dg=RegExp(ls,"g"),pg=RegExp(ba,"g"),ps=RegExp(cs+"(?="+cs+")|"+vg+ml,"g"),hg=RegExp([kn+"?"+ul+"+"+dl+"(?="+[ol,kn,"$"].join("|")+")",sg+"+"+pl+"(?="+[ol,kn+vl,"$"].join("|")+")",kn+"?"+vl+"+"+dl,kn+"+"+pl,lg,fg,sl,cg].join("|"),"g"),gg=RegExp("["+cl+Sa+tl+il+"]"),mg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_g=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xg=-1,rr={};rr[Ln]=rr[Si]=rr[Ue]=rr[dn]=rr[bi]=rr[Nn]=rr[pn]=rr[Ei]=rr[wi]=!0,rr[ut]=rr[it]=rr[Nr]=rr[ht]=rr[Te]=rr[wt]=rr[at]=rr[pt]=rr[mt]=rr[Et]=rr[Gt]=rr[Lt]=rr[$t]=rr[fr]=rr[tr]=!1;var jt={};jt[ut]=jt[it]=jt[Nr]=jt[Te]=jt[ht]=jt[wt]=jt[Ln]=jt[Si]=jt[Ue]=jt[dn]=jt[bi]=jt[mt]=jt[Et]=jt[Gt]=jt[Lt]=jt[$t]=jt[fr]=jt[lr]=jt[Nn]=jt[pn]=jt[Ei]=jt[wi]=!0,jt[at]=jt[pt]=jt[tr]=!1;var yg={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Sg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Eg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wg=parseFloat,Cg=parseInt,_l=typeof Xi=="object"&&Xi&&Xi.Object===Object&&Xi,Dg=typeof self=="object"&&self&&self.Object===Object&&self,Dr=_l||Dg||Function("return this")(),hs=t&&!t.nodeType&&t,hn=hs&&!0&&r&&!r.nodeType&&r,xl=hn&&hn.exports===hs,gs=xl&&_l.process,re=function(){try{var N=hn&&hn.require&&hn.require("util").types;return N||gs&&gs.binding&&gs.binding("util")}catch{}}(),yl=re&&re.isArrayBuffer,Sl=re&&re.isDate,bl=re&&re.isMap,El=re&&re.isRegExp,wl=re&&re.isSet,Cl=re&&re.isTypedArray;function Ur(N,q,V){switch(V.length){case 0:return N.call(q);case 1:return N.call(q,V[0]);case 2:return N.call(q,V[0],V[1]);case 3:return N.call(q,V[0],V[1],V[2])}return N.apply(q,V)}function Mg(N,q,V,dt){for(var Dt=-1,Yt=N==null?0:N.length;++Dt<Yt;){var _r=N[Dt];q(dt,_r,V(_r),N)}return dt}function ee(N,q){for(var V=-1,dt=N==null?0:N.length;++V<dt&&q(N[V],V,N)!==!1;);return N}function Og(N,q){for(var V=N==null?0:N.length;V--&&q(N[V],V,N)!==!1;);return N}function Dl(N,q){for(var V=-1,dt=N==null?0:N.length;++V<dt;)if(!q(N[V],V,N))return!1;return!0}function Ke(N,q){for(var V=-1,dt=N==null?0:N.length,Dt=0,Yt=[];++V<dt;){var _r=N[V];q(_r,V,N)&&(Yt[Dt++]=_r)}return Yt}function Ea(N,q){var V=N==null?0:N.length;return!!V&&Wn(N,q,0)>-1}function ms(N,q,V){for(var dt=-1,Dt=N==null?0:N.length;++dt<Dt;)if(V(q,N[dt]))return!0;return!1}function ir(N,q){for(var V=-1,dt=N==null?0:N.length,Dt=Array(dt);++V<dt;)Dt[V]=q(N[V],V,N);return Dt}function Ze(N,q){for(var V=-1,dt=q.length,Dt=N.length;++V<dt;)N[Dt+V]=q[V];return N}function _s(N,q,V,dt){var Dt=-1,Yt=N==null?0:N.length;for(dt&&Yt&&(V=N[++Dt]);++Dt<Yt;)V=q(V,N[Dt],Dt,N);return V}function Rg(N,q,V,dt){var Dt=N==null?0:N.length;for(dt&&Dt&&(V=N[--Dt]);Dt--;)V=q(V,N[Dt],Dt,N);return V}function xs(N,q){for(var V=-1,dt=N==null?0:N.length;++V<dt;)if(q(N[V],V,N))return!0;return!1}var Tg=ys("length");function Ig(N){return N.split("")}function Ag(N){return N.match(kh)||[]}function Ml(N,q,V){var dt;return V(N,function(Dt,Yt,_r){if(q(Dt,Yt,_r))return dt=Yt,!1}),dt}function wa(N,q,V,dt){for(var Dt=N.length,Yt=V+(dt?1:-1);dt?Yt--:++Yt<Dt;)if(q(N[Yt],Yt,N))return Yt;return-1}function Wn(N,q,V){return q===q?Xg(N,q,V):wa(N,Ol,V)}function Pg(N,q,V,dt){for(var Dt=V-1,Yt=N.length;++Dt<Yt;)if(dt(N[Dt],q))return Dt;return-1}function Ol(N){return N!==N}function Rl(N,q){var V=N==null?0:N.length;return V?bs(N,q)/V:et}function ys(N){return function(q){return q==null?e:q[N]}}function Ss(N){return function(q){return N==null?e:N[q]}}function Tl(N,q,V,dt,Dt){return Dt(N,function(Yt,_r,Qt){V=dt?(dt=!1,Yt):q(V,Yt,_r,Qt)}),V}function Bg(N,q){var V=N.length;for(N.sort(q);V--;)N[V]=N[V].value;return N}function bs(N,q){for(var V,dt=-1,Dt=N.length;++dt<Dt;){var Yt=q(N[dt]);Yt!==e&&(V=V===e?Yt:V+Yt)}return V}function Es(N,q){for(var V=-1,dt=Array(N);++V<N;)dt[V]=q(V);return dt}function Gg(N,q){return ir(q,function(V){return[V,N[V]]})}function Il(N){return N&&N.slice(0,Gl(N)+1).replace(fs,"")}function Kr(N){return function(q){return N(q)}}function ws(N,q){return ir(q,function(V){return N[V]})}function Oi(N,q){return N.has(q)}function Al(N,q){for(var V=-1,dt=N.length;++V<dt&&Wn(q,N[V],0)>-1;);return V}function Pl(N,q){for(var V=N.length;V--&&Wn(q,N[V],0)>-1;);return V}function zg(N,q){for(var V=N.length,dt=0;V--;)N[V]===q&&++dt;return dt}var Fg=Ss(yg),Lg=Ss(Sg);function Ng(N){return"\\"+Eg[N]}function kg(N,q){return N==null?e:N[q]}function Hn(N){return gg.test(N)}function Wg(N){return mg.test(N)}function Hg(N){for(var q,V=[];!(q=N.next()).done;)V.push(q.value);return V}function Cs(N){var q=-1,V=Array(N.size);return N.forEach(function(dt,Dt){V[++q]=[Dt,dt]}),V}function Bl(N,q){return function(V){return N(q(V))}}function Je(N,q){for(var V=-1,dt=N.length,Dt=0,Yt=[];++V<dt;){var _r=N[V];(_r===q||_r===d)&&(N[V]=d,Yt[Dt++]=V)}return Yt}function Ca(N){var q=-1,V=Array(N.size);return N.forEach(function(dt){V[++q]=dt}),V}function Yg(N){var q=-1,V=Array(N.size);return N.forEach(function(dt){V[++q]=[dt,dt]}),V}function Xg(N,q,V){for(var dt=V-1,Dt=N.length;++dt<Dt;)if(N[dt]===q)return dt;return-1}function Vg(N,q,V){for(var dt=V+1;dt--;)if(N[dt]===q)return dt;return dt}function Yn(N){return Hn(N)?qg(N):Tg(N)}function de(N){return Hn(N)?Ug(N):Ig(N)}function Gl(N){for(var q=N.length;q--&&zh.test(N.charAt(q)););return q}var $g=Ss(bg);function qg(N){for(var q=ps.lastIndex=0;ps.test(N);)++q;return q}function Ug(N){return N.match(ps)||[]}function Kg(N){return N.match(hg)||[]}var Zg=function N(q){q=q==null?Dr:Xn.defaults(Dr.Object(),q,Xn.pick(Dr,_g));var V=q.Array,dt=q.Date,Dt=q.Error,Yt=q.Function,_r=q.Math,Qt=q.Object,Ds=q.RegExp,Jg=q.String,ne=q.TypeError,Da=V.prototype,Qg=Yt.prototype,Vn=Qt.prototype,Ma=q["__core-js_shared__"],Oa=Qg.toString,Ut=Vn.hasOwnProperty,jg=0,zl=function(){var i=/[^.]+$/.exec(Ma&&Ma.keys&&Ma.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Ra=Vn.toString,t0=Oa.call(Qt),r0=Dr._,e0=Ds("^"+Oa.call(Ut).replace(us,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ta=xl?q.Buffer:e,Qe=q.Symbol,Ia=q.Uint8Array,Fl=Ta?Ta.allocUnsafe:e,Aa=Bl(Qt.getPrototypeOf,Qt),Ll=Qt.create,Nl=Vn.propertyIsEnumerable,Pa=Da.splice,kl=Qe?Qe.isConcatSpreadable:e,Ri=Qe?Qe.iterator:e,gn=Qe?Qe.toStringTag:e,Ba=function(){try{var i=Sn(Qt,"defineProperty");return i({},"",{}),i}catch{}}(),n0=q.clearTimeout!==Dr.clearTimeout&&q.clearTimeout,i0=dt&&dt.now!==Dr.Date.now&&dt.now,a0=q.setTimeout!==Dr.setTimeout&&q.setTimeout,Ga=_r.ceil,za=_r.floor,Ms=Qt.getOwnPropertySymbols,o0=Ta?Ta.isBuffer:e,Wl=q.isFinite,s0=Da.join,u0=Bl(Qt.keys,Qt),xr=_r.max,Rr=_r.min,f0=dt.now,l0=q.parseInt,Hl=_r.random,c0=Da.reverse,Os=Sn(q,"DataView"),Ti=Sn(q,"Map"),Rs=Sn(q,"Promise"),$n=Sn(q,"Set"),Ii=Sn(q,"WeakMap"),Ai=Sn(Qt,"create"),Fa=Ii&&new Ii,qn={},v0=bn(Os),d0=bn(Ti),p0=bn(Rs),h0=bn($n),g0=bn(Ii),La=Qe?Qe.prototype:e,Pi=La?La.valueOf:e,Yl=La?La.toString:e;function w(i){if(ur(i)&&!Mt(i)&&!(i instanceof Nt)){if(i instanceof ie)return i;if(Ut.call(i,"__wrapped__"))return Xc(i)}return new ie(i)}var Un=function(){function i(){}return function(o){if(!ar(o))return{};if(Ll)return Ll(o);i.prototype=o;var c=new i;return i.prototype=e,c}}();function Na(){}function ie(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=e}w.templateSettings={escape:Mi,evaluate:Ih,interpolate:Qf,variable:"",imports:{_:w}},w.prototype=Na.prototype,w.prototype.constructor=w,ie.prototype=Un(Na.prototype),ie.prototype.constructor=ie;function Nt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function m0(){var i=new Nt(this.__wrapped__);return i.__actions__=kr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=kr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=kr(this.__views__),i}function _0(){if(this.__filtered__){var i=new Nt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function x0(){var i=this.__wrapped__.value(),o=this.__dir__,c=Mt(i),g=o<0,b=c?i.length:0,D=I1(0,b,this.__views__),A=D.start,z=D.end,k=z-A,K=g?z:A-1,Z=this.__iteratees__,Q=Z.length,ft=0,gt=Rr(k,this.__takeCount__);if(!c||!g&&b==k&&gt==k)return dc(i,this.__actions__);var St=[];t:for(;k--&&ft<gt;){K+=o;for(var Pt=-1,bt=i[K];++Pt<Q;){var zt=Z[Pt],kt=zt.iteratee,Qr=zt.type,Br=kt(bt);if(Qr==X)bt=Br;else if(!Br){if(Qr==Y)continue t;break t}}St[ft++]=bt}return St}Nt.prototype=Un(Na.prototype),Nt.prototype.constructor=Nt;function mn(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var g=i[o];this.set(g[0],g[1])}}function y0(){this.__data__=Ai?Ai(null):{},this.size=0}function S0(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function b0(i){var o=this.__data__;if(Ai){var c=o[i];return c===l?e:c}return Ut.call(o,i)?o[i]:e}function E0(i){var o=this.__data__;return Ai?o[i]!==e:Ut.call(o,i)}function w0(i,o){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=Ai&&o===e?l:o,this}mn.prototype.clear=y0,mn.prototype.delete=S0,mn.prototype.get=b0,mn.prototype.has=E0,mn.prototype.set=w0;function Ie(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var g=i[o];this.set(g[0],g[1])}}function C0(){this.__data__=[],this.size=0}function D0(i){var o=this.__data__,c=ka(o,i);if(c<0)return!1;var g=o.length-1;return c==g?o.pop():Pa.call(o,c,1),--this.size,!0}function M0(i){var o=this.__data__,c=ka(o,i);return c<0?e:o[c][1]}function O0(i){return ka(this.__data__,i)>-1}function R0(i,o){var c=this.__data__,g=ka(c,i);return g<0?(++this.size,c.push([i,o])):c[g][1]=o,this}Ie.prototype.clear=C0,Ie.prototype.delete=D0,Ie.prototype.get=M0,Ie.prototype.has=O0,Ie.prototype.set=R0;function Ae(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var g=i[o];this.set(g[0],g[1])}}function T0(){this.size=0,this.__data__={hash:new mn,map:new(Ti||Ie),string:new mn}}function I0(i){var o=Qa(this,i).delete(i);return this.size-=o?1:0,o}function A0(i){return Qa(this,i).get(i)}function P0(i){return Qa(this,i).has(i)}function B0(i,o){var c=Qa(this,i),g=c.size;return c.set(i,o),this.size+=c.size==g?0:1,this}Ae.prototype.clear=T0,Ae.prototype.delete=I0,Ae.prototype.get=A0,Ae.prototype.has=P0,Ae.prototype.set=B0;function _n(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new Ae;++o<c;)this.add(i[o])}function G0(i){return this.__data__.set(i,l),this}function z0(i){return this.__data__.has(i)}_n.prototype.add=_n.prototype.push=G0,_n.prototype.has=z0;function pe(i){var o=this.__data__=new Ie(i);this.size=o.size}function F0(){this.__data__=new Ie,this.size=0}function L0(i){var o=this.__data__,c=o.delete(i);return this.size=o.size,c}function N0(i){return this.__data__.get(i)}function k0(i){return this.__data__.has(i)}function W0(i,o){var c=this.__data__;if(c instanceof Ie){var g=c.__data__;if(!Ti||g.length<a-1)return g.push([i,o]),this.size=++c.size,this;c=this.__data__=new Ae(g)}return c.set(i,o),this.size=c.size,this}pe.prototype.clear=F0,pe.prototype.delete=L0,pe.prototype.get=N0,pe.prototype.has=k0,pe.prototype.set=W0;function Xl(i,o){var c=Mt(i),g=!c&&En(i),b=!c&&!g&&nn(i),D=!c&&!g&&!b&&Qn(i),A=c||g||b||D,z=A?Es(i.length,Jg):[],k=z.length;for(var K in i)(o||Ut.call(i,K))&&!(A&&(K=="length"||b&&(K=="offset"||K=="parent")||D&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||ze(K,k)))&&z.push(K);return z}function Vl(i){var o=i.length;return o?i[ks(0,o-1)]:e}function H0(i,o){return ja(kr(i),xn(o,0,i.length))}function Y0(i){return ja(kr(i))}function Ts(i,o,c){(c!==e&&!he(i[o],c)||c===e&&!(o in i))&&Pe(i,o,c)}function Bi(i,o,c){var g=i[o];(!(Ut.call(i,o)&&he(g,c))||c===e&&!(o in i))&&Pe(i,o,c)}function ka(i,o){for(var c=i.length;c--;)if(he(i[c][0],o))return c;return-1}function X0(i,o,c,g){return je(i,function(b,D,A){o(g,b,c(b),A)}),g}function $l(i,o){return i&&we(o,Cr(o),i)}function V0(i,o){return i&&we(o,Hr(o),i)}function Pe(i,o,c){o=="__proto__"&&Ba?Ba(i,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[o]=c}function Is(i,o){for(var c=-1,g=o.length,b=V(g),D=i==null;++c<g;)b[c]=D?e:cu(i,o[c]);return b}function xn(i,o,c){return i===i&&(c!==e&&(i=i<=c?i:c),o!==e&&(i=i>=o?i:o)),i}function ae(i,o,c,g,b,D){var A,z=o&h,k=o&p,K=o&m;if(c&&(A=b?c(i,g,b,D):c(i)),A!==e)return A;if(!ar(i))return i;var Z=Mt(i);if(Z){if(A=P1(i),!z)return kr(i,A)}else{var Q=Tr(i),ft=Q==pt||Q==Wt;if(nn(i))return gc(i,z);if(Q==Gt||Q==ut||ft&&!b){if(A=k||ft?{}:Gc(i),!z)return k?b1(i,V0(A,i)):S1(i,$l(A,i))}else{if(!jt[Q])return b?i:{};A=B1(i,Q,z)}}D||(D=new pe);var gt=D.get(i);if(gt)return gt;D.set(i,A),lv(i)?i.forEach(function(bt){A.add(ae(bt,o,c,bt,i,D))}):uv(i)&&i.forEach(function(bt,zt){A.set(zt,ae(bt,o,c,zt,i,D))});var St=K?k?Js:Zs:k?Hr:Cr,Pt=Z?e:St(i);return ee(Pt||i,function(bt,zt){Pt&&(zt=bt,bt=i[zt]),Bi(A,zt,ae(bt,o,c,zt,i,D))}),A}function $0(i){var o=Cr(i);return function(c){return ql(c,i,o)}}function ql(i,o,c){var g=c.length;if(i==null)return!g;for(i=Qt(i);g--;){var b=c[g],D=o[b],A=i[b];if(A===e&&!(b in i)||!D(A))return!1}return!0}function Ul(i,o,c){if(typeof i!="function")throw new ne(u);return Wi(function(){i.apply(e,c)},o)}function Gi(i,o,c,g){var b=-1,D=Ea,A=!0,z=i.length,k=[],K=o.length;if(!z)return k;c&&(o=ir(o,Kr(c))),g?(D=ms,A=!1):o.length>=a&&(D=Oi,A=!1,o=new _n(o));t:for(;++b<z;){var Z=i[b],Q=c==null?Z:c(Z);if(Z=g||Z!==0?Z:0,A&&Q===Q){for(var ft=K;ft--;)if(o[ft]===Q)continue t;k.push(Z)}else D(o,Q,g)||k.push(Z)}return k}var je=Sc(Ee),Kl=Sc(Ps,!0);function q0(i,o){var c=!0;return je(i,function(g,b,D){return c=!!o(g,b,D),c}),c}function Wa(i,o,c){for(var g=-1,b=i.length;++g<b;){var D=i[g],A=o(D);if(A!=null&&(z===e?A===A&&!Jr(A):c(A,z)))var z=A,k=D}return k}function U0(i,o,c,g){var b=i.length;for(c=Tt(c),c<0&&(c=-c>b?0:b+c),g=g===e||g>b?b:Tt(g),g<0&&(g+=b),g=c>g?0:vv(g);c<g;)i[c++]=o;return i}function Zl(i,o){var c=[];return je(i,function(g,b,D){o(g,b,D)&&c.push(g)}),c}function Mr(i,o,c,g,b){var D=-1,A=i.length;for(c||(c=z1),b||(b=[]);++D<A;){var z=i[D];o>0&&c(z)?o>1?Mr(z,o-1,c,g,b):Ze(b,z):g||(b[b.length]=z)}return b}var As=bc(),Jl=bc(!0);function Ee(i,o){return i&&As(i,o,Cr)}function Ps(i,o){return i&&Jl(i,o,Cr)}function Ha(i,o){return Ke(o,function(c){return Fe(i[c])})}function yn(i,o){o=rn(o,i);for(var c=0,g=o.length;i!=null&&c<g;)i=i[Ce(o[c++])];return c&&c==g?i:e}function Ql(i,o,c){var g=o(i);return Mt(i)?g:Ze(g,c(i))}function Ar(i){return i==null?i===e?sr:At:gn&&gn in Qt(i)?T1(i):Y1(i)}function Bs(i,o){return i>o}function K0(i,o){return i!=null&&Ut.call(i,o)}function Z0(i,o){return i!=null&&o in Qt(i)}function J0(i,o,c){return i>=Rr(o,c)&&i<xr(o,c)}function Gs(i,o,c){for(var g=c?ms:Ea,b=i[0].length,D=i.length,A=D,z=V(D),k=1/0,K=[];A--;){var Z=i[A];A&&o&&(Z=ir(Z,Kr(o))),k=Rr(Z.length,k),z[A]=!c&&(o||b>=120&&Z.length>=120)?new _n(A&&Z):e}Z=i[0];var Q=-1,ft=z[0];t:for(;++Q<b&&K.length<k;){var gt=Z[Q],St=o?o(gt):gt;if(gt=c||gt!==0?gt:0,!(ft?Oi(ft,St):g(K,St,c))){for(A=D;--A;){var Pt=z[A];if(!(Pt?Oi(Pt,St):g(i[A],St,c)))continue t}ft&&ft.push(St),K.push(gt)}}return K}function Q0(i,o,c,g){return Ee(i,function(b,D,A){o(g,c(b),D,A)}),g}function zi(i,o,c){o=rn(o,i),i=Nc(i,o);var g=i==null?i:i[Ce(se(o))];return g==null?e:Ur(g,i,c)}function jl(i){return ur(i)&&Ar(i)==ut}function j0(i){return ur(i)&&Ar(i)==Nr}function t1(i){return ur(i)&&Ar(i)==wt}function Fi(i,o,c,g,b){return i===o?!0:i==null||o==null||!ur(i)&&!ur(o)?i!==i&&o!==o:r1(i,o,c,g,Fi,b)}function r1(i,o,c,g,b,D){var A=Mt(i),z=Mt(o),k=A?it:Tr(i),K=z?it:Tr(o);k=k==ut?Gt:k,K=K==ut?Gt:K;var Z=k==Gt,Q=K==Gt,ft=k==K;if(ft&&nn(i)){if(!nn(o))return!1;A=!0,Z=!1}if(ft&&!Z)return D||(D=new pe),A||Qn(i)?Ac(i,o,c,g,b,D):O1(i,o,k,c,g,b,D);if(!(c&_)){var gt=Z&&Ut.call(i,"__wrapped__"),St=Q&&Ut.call(o,"__wrapped__");if(gt||St){var Pt=gt?i.value():i,bt=St?o.value():o;return D||(D=new pe),b(Pt,bt,c,g,D)}}return ft?(D||(D=new pe),R1(i,o,c,g,b,D)):!1}function e1(i){return ur(i)&&Tr(i)==mt}function zs(i,o,c,g){var b=c.length,D=b,A=!g;if(i==null)return!D;for(i=Qt(i);b--;){var z=c[b];if(A&&z[2]?z[1]!==i[z[0]]:!(z[0]in i))return!1}for(;++b<D;){z=c[b];var k=z[0],K=i[k],Z=z[1];if(A&&z[2]){if(K===e&&!(k in i))return!1}else{var Q=new pe;if(g)var ft=g(K,Z,k,i,o,Q);if(!(ft===e?Fi(Z,K,_|x,g,Q):ft))return!1}}return!0}function tc(i){if(!ar(i)||L1(i))return!1;var o=Fe(i)?e0:$h;return o.test(bn(i))}function n1(i){return ur(i)&&Ar(i)==Lt}function i1(i){return ur(i)&&Tr(i)==$t}function a1(i){return ur(i)&&ao(i.length)&&!!rr[Ar(i)]}function rc(i){return typeof i=="function"?i:i==null?Yr:typeof i=="object"?Mt(i)?ic(i[0],i[1]):nc(i):Ev(i)}function Fs(i){if(!ki(i))return u0(i);var o=[];for(var c in Qt(i))Ut.call(i,c)&&c!="constructor"&&o.push(c);return o}function o1(i){if(!ar(i))return H1(i);var o=ki(i),c=[];for(var g in i)g=="constructor"&&(o||!Ut.call(i,g))||c.push(g);return c}function Ls(i,o){return i<o}function ec(i,o){var c=-1,g=Wr(i)?V(i.length):[];return je(i,function(b,D,A){g[++c]=o(b,D,A)}),g}function nc(i){var o=js(i);return o.length==1&&o[0][2]?Fc(o[0][0],o[0][1]):function(c){return c===i||zs(c,i,o)}}function ic(i,o){return ru(i)&&zc(o)?Fc(Ce(i),o):function(c){var g=cu(c,i);return g===e&&g===o?vu(c,i):Fi(o,g,_|x)}}function Ya(i,o,c,g,b){i!==o&&As(o,function(D,A){if(b||(b=new pe),ar(D))s1(i,o,A,c,Ya,g,b);else{var z=g?g(nu(i,A),D,A+"",i,o,b):e;z===e&&(z=D),Ts(i,A,z)}},Hr)}function s1(i,o,c,g,b,D,A){var z=nu(i,c),k=nu(o,c),K=A.get(k);if(K){Ts(i,c,K);return}var Z=D?D(z,k,c+"",i,o,A):e,Q=Z===e;if(Q){var ft=Mt(k),gt=!ft&&nn(k),St=!ft&&!gt&&Qn(k);Z=k,ft||gt||St?Mt(z)?Z=z:cr(z)?Z=kr(z):gt?(Q=!1,Z=gc(k,!0)):St?(Q=!1,Z=mc(k,!0)):Z=[]:Hi(k)||En(k)?(Z=z,En(z)?Z=dv(z):(!ar(z)||Fe(z))&&(Z=Gc(k))):Q=!1}Q&&(A.set(k,Z),b(Z,k,g,D,A),A.delete(k)),Ts(i,c,Z)}function ac(i,o){var c=i.length;if(c)return o+=o<0?c:0,ze(o,c)?i[o]:e}function oc(i,o,c){o.length?o=ir(o,function(D){return Mt(D)?function(A){return yn(A,D.length===1?D[0]:D)}:D}):o=[Yr];var g=-1;o=ir(o,Kr(yt()));var b=ec(i,function(D,A,z){var k=ir(o,function(K){return K(D)});return{criteria:k,index:++g,value:D}});return Bg(b,function(D,A){return y1(D,A,c)})}function u1(i,o){return sc(i,o,function(c,g){return vu(i,g)})}function sc(i,o,c){for(var g=-1,b=o.length,D={};++g<b;){var A=o[g],z=yn(i,A);c(z,A)&&Li(D,rn(A,i),z)}return D}function f1(i){return function(o){return yn(o,i)}}function Ns(i,o,c,g){var b=g?Pg:Wn,D=-1,A=o.length,z=i;for(i===o&&(o=kr(o)),c&&(z=ir(i,Kr(c)));++D<A;)for(var k=0,K=o[D],Z=c?c(K):K;(k=b(z,Z,k,g))>-1;)z!==i&&Pa.call(z,k,1),Pa.call(i,k,1);return i}function uc(i,o){for(var c=i?o.length:0,g=c-1;c--;){var b=o[c];if(c==g||b!==D){var D=b;ze(b)?Pa.call(i,b,1):Ys(i,b)}}return i}function ks(i,o){return i+za(Hl()*(o-i+1))}function l1(i,o,c,g){for(var b=-1,D=xr(Ga((o-i)/(c||1)),0),A=V(D);D--;)A[g?D:++b]=i,i+=c;return A}function Ws(i,o){var c="";if(!i||o<1||o>U)return c;do o%2&&(c+=i),o=za(o/2),o&&(i+=i);while(o);return c}function Bt(i,o){return iu(Lc(i,o,Yr),i+"")}function c1(i){return Vl(jn(i))}function v1(i,o){var c=jn(i);return ja(c,xn(o,0,c.length))}function Li(i,o,c,g){if(!ar(i))return i;o=rn(o,i);for(var b=-1,D=o.length,A=D-1,z=i;z!=null&&++b<D;){var k=Ce(o[b]),K=c;if(k==="__proto__"||k==="constructor"||k==="prototype")return i;if(b!=A){var Z=z[k];K=g?g(Z,k,z):e,K===e&&(K=ar(Z)?Z:ze(o[b+1])?[]:{})}Bi(z,k,K),z=z[k]}return i}var fc=Fa?function(i,o){return Fa.set(i,o),i}:Yr,d1=Ba?function(i,o){return Ba(i,"toString",{configurable:!0,enumerable:!1,value:pu(o),writable:!0})}:Yr;function p1(i){return ja(jn(i))}function oe(i,o,c){var g=-1,b=i.length;o<0&&(o=-o>b?0:b+o),c=c>b?b:c,c<0&&(c+=b),b=o>c?0:c-o>>>0,o>>>=0;for(var D=V(b);++g<b;)D[g]=i[g+o];return D}function h1(i,o){var c;return je(i,function(g,b,D){return c=o(g,b,D),!c}),!!c}function Xa(i,o,c){var g=0,b=i==null?g:i.length;if(typeof o=="number"&&o===o&&b<=lt){for(;g<b;){var D=g+b>>>1,A=i[D];A!==null&&!Jr(A)&&(c?A<=o:A<o)?g=D+1:b=D}return b}return Hs(i,o,Yr,c)}function Hs(i,o,c,g){var b=0,D=i==null?0:i.length;if(D===0)return 0;o=c(o);for(var A=o!==o,z=o===null,k=Jr(o),K=o===e;b<D;){var Z=za((b+D)/2),Q=c(i[Z]),ft=Q!==e,gt=Q===null,St=Q===Q,Pt=Jr(Q);if(A)var bt=g||St;else K?bt=St&&(g||ft):z?bt=St&&ft&&(g||!gt):k?bt=St&&ft&&!gt&&(g||!Pt):gt||Pt?bt=!1:bt=g?Q<=o:Q<o;bt?b=Z+1:D=Z}return Rr(D,st)}function lc(i,o){for(var c=-1,g=i.length,b=0,D=[];++c<g;){var A=i[c],z=o?o(A):A;if(!c||!he(z,k)){var k=z;D[b++]=A===0?0:A}}return D}function cc(i){return typeof i=="number"?i:Jr(i)?et:+i}function Zr(i){if(typeof i=="string")return i;if(Mt(i))return ir(i,Zr)+"";if(Jr(i))return Yl?Yl.call(i):"";var o=i+"";return o=="0"&&1/i==-tt?"-0":o}function tn(i,o,c){var g=-1,b=Ea,D=i.length,A=!0,z=[],k=z;if(c)A=!1,b=ms;else if(D>=a){var K=o?null:D1(i);if(K)return Ca(K);A=!1,b=Oi,k=new _n}else k=o?[]:z;t:for(;++g<D;){var Z=i[g],Q=o?o(Z):Z;if(Z=c||Z!==0?Z:0,A&&Q===Q){for(var ft=k.length;ft--;)if(k[ft]===Q)continue t;o&&k.push(Q),z.push(Z)}else b(k,Q,c)||(k!==z&&k.push(Q),z.push(Z))}return z}function Ys(i,o){return o=rn(o,i),i=Nc(i,o),i==null||delete i[Ce(se(o))]}function vc(i,o,c,g){return Li(i,o,c(yn(i,o)),g)}function Va(i,o,c,g){for(var b=i.length,D=g?b:-1;(g?D--:++D<b)&&o(i[D],D,i););return c?oe(i,g?0:D,g?D+1:b):oe(i,g?D+1:0,g?b:D)}function dc(i,o){var c=i;return c instanceof Nt&&(c=c.value()),_s(o,function(g,b){return b.func.apply(b.thisArg,Ze([g],b.args))},c)}function Xs(i,o,c){var g=i.length;if(g<2)return g?tn(i[0]):[];for(var b=-1,D=V(g);++b<g;)for(var A=i[b],z=-1;++z<g;)z!=b&&(D[b]=Gi(D[b]||A,i[z],o,c));return tn(Mr(D,1),o,c)}function pc(i,o,c){for(var g=-1,b=i.length,D=o.length,A={};++g<b;){var z=g<D?o[g]:e;c(A,i[g],z)}return A}function Vs(i){return cr(i)?i:[]}function $s(i){return typeof i=="function"?i:Yr}function rn(i,o){return Mt(i)?i:ru(i,o)?[i]:Yc(qt(i))}var g1=Bt;function en(i,o,c){var g=i.length;return c=c===e?g:c,!o&&c>=g?i:oe(i,o,c)}var hc=n0||function(i){return Dr.clearTimeout(i)};function gc(i,o){if(o)return i.slice();var c=i.length,g=Fl?Fl(c):new i.constructor(c);return i.copy(g),g}function qs(i){var o=new i.constructor(i.byteLength);return new Ia(o).set(new Ia(i)),o}function m1(i,o){var c=o?qs(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function _1(i){var o=new i.constructor(i.source,jf.exec(i));return o.lastIndex=i.lastIndex,o}function x1(i){return Pi?Qt(Pi.call(i)):{}}function mc(i,o){var c=o?qs(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function _c(i,o){if(i!==o){var c=i!==e,g=i===null,b=i===i,D=Jr(i),A=o!==e,z=o===null,k=o===o,K=Jr(o);if(!z&&!K&&!D&&i>o||D&&A&&k&&!z&&!K||g&&A&&k||!c&&k||!b)return 1;if(!g&&!D&&!K&&i<o||K&&c&&b&&!g&&!D||z&&c&&b||!A&&b||!k)return-1}return 0}function y1(i,o,c){for(var g=-1,b=i.criteria,D=o.criteria,A=b.length,z=c.length;++g<A;){var k=_c(b[g],D[g]);if(k){if(g>=z)return k;var K=c[g];return k*(K=="desc"?-1:1)}}return i.index-o.index}function xc(i,o,c,g){for(var b=-1,D=i.length,A=c.length,z=-1,k=o.length,K=xr(D-A,0),Z=V(k+K),Q=!g;++z<k;)Z[z]=o[z];for(;++b<A;)(Q||b<D)&&(Z[c[b]]=i[b]);for(;K--;)Z[z++]=i[b++];return Z}function yc(i,o,c,g){for(var b=-1,D=i.length,A=-1,z=c.length,k=-1,K=o.length,Z=xr(D-z,0),Q=V(Z+K),ft=!g;++b<Z;)Q[b]=i[b];for(var gt=b;++k<K;)Q[gt+k]=o[k];for(;++A<z;)(ft||b<D)&&(Q[gt+c[A]]=i[b++]);return Q}function kr(i,o){var c=-1,g=i.length;for(o||(o=V(g));++c<g;)o[c]=i[c];return o}function we(i,o,c,g){var b=!c;c||(c={});for(var D=-1,A=o.length;++D<A;){var z=o[D],k=g?g(c[z],i[z],z,c,i):e;k===e&&(k=i[z]),b?Pe(c,z,k):Bi(c,z,k)}return c}function S1(i,o){return we(i,tu(i),o)}function b1(i,o){return we(i,Pc(i),o)}function $a(i,o){return function(c,g){var b=Mt(c)?Mg:X0,D=o?o():{};return b(c,i,yt(g,2),D)}}function Kn(i){return Bt(function(o,c){var g=-1,b=c.length,D=b>1?c[b-1]:e,A=b>2?c[2]:e;for(D=i.length>3&&typeof D=="function"?(b--,D):e,A&&Pr(c[0],c[1],A)&&(D=b<3?e:D,b=1),o=Qt(o);++g<b;){var z=c[g];z&&i(o,z,g,D)}return o})}function Sc(i,o){return function(c,g){if(c==null)return c;if(!Wr(c))return i(c,g);for(var b=c.length,D=o?b:-1,A=Qt(c);(o?D--:++D<b)&&g(A[D],D,A)!==!1;);return c}}function bc(i){return function(o,c,g){for(var b=-1,D=Qt(o),A=g(o),z=A.length;z--;){var k=A[i?z:++b];if(c(D[k],k,D)===!1)break}return o}}function E1(i,o,c){var g=o&y,b=Ni(i);function D(){var A=this&&this!==Dr&&this instanceof D?b:i;return A.apply(g?c:this,arguments)}return D}function Ec(i){return function(o){o=qt(o);var c=Hn(o)?de(o):e,g=c?c[0]:o.charAt(0),b=c?en(c,1).join(""):o.slice(1);return g[i]()+b}}function Zn(i){return function(o){return _s(Sv(yv(o).replace(dg,"")),i,"")}}function Ni(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Un(i.prototype),g=i.apply(c,o);return ar(g)?g:c}}function w1(i,o,c){var g=Ni(i);function b(){for(var D=arguments.length,A=V(D),z=D,k=Jn(b);z--;)A[z]=arguments[z];var K=D<3&&A[0]!==k&&A[D-1]!==k?[]:Je(A,k);if(D-=K.length,D<c)return Oc(i,o,qa,b.placeholder,e,A,K,e,e,c-D);var Z=this&&this!==Dr&&this instanceof b?g:i;return Ur(Z,this,A)}return b}function wc(i){return function(o,c,g){var b=Qt(o);if(!Wr(o)){var D=yt(c,3);o=Cr(o),c=function(z){return D(b[z],z,b)}}var A=i(o,c,g);return A>-1?b[D?o[A]:A]:e}}function Cc(i){return Ge(function(o){var c=o.length,g=c,b=ie.prototype.thru;for(i&&o.reverse();g--;){var D=o[g];if(typeof D!="function")throw new ne(u);if(b&&!A&&Ja(D)=="wrapper")var A=new ie([],!0)}for(g=A?g:c;++g<c;){D=o[g];var z=Ja(D),k=z=="wrapper"?Qs(D):e;k&&eu(k[0])&&k[1]==(T|C|R|I)&&!k[4].length&&k[9]==1?A=A[Ja(k[0])].apply(A,k[3]):A=D.length==1&&eu(D)?A[z]():A.thru(D)}return function(){var K=arguments,Z=K[0];if(A&&K.length==1&&Mt(Z))return A.plant(Z).value();for(var Q=0,ft=c?o[Q].apply(this,K):Z;++Q<c;)ft=o[Q].call(this,ft);return ft}})}function qa(i,o,c,g,b,D,A,z,k,K){var Z=o&T,Q=o&y,ft=o&S,gt=o&(C|M),St=o&P,Pt=ft?e:Ni(i);function bt(){for(var zt=arguments.length,kt=V(zt),Qr=zt;Qr--;)kt[Qr]=arguments[Qr];if(gt)var Br=Jn(bt),jr=zg(kt,Br);if(g&&(kt=xc(kt,g,b,gt)),D&&(kt=yc(kt,D,A,gt)),zt-=jr,gt&&zt<K){var vr=Je(kt,Br);return Oc(i,o,qa,bt.placeholder,c,kt,vr,z,k,K-zt)}var ge=Q?c:this,Ne=ft?ge[i]:i;return zt=kt.length,z?kt=X1(kt,z):St&&zt>1&&kt.reverse(),Z&&k<zt&&(kt.length=k),this&&this!==Dr&&this instanceof bt&&(Ne=Pt||Ni(Ne)),Ne.apply(ge,kt)}return bt}function Dc(i,o){return function(c,g){return Q0(c,i,o(g),{})}}function Ua(i,o){return function(c,g){var b;if(c===e&&g===e)return o;if(c!==e&&(b=c),g!==e){if(b===e)return g;typeof c=="string"||typeof g=="string"?(c=Zr(c),g=Zr(g)):(c=cc(c),g=cc(g)),b=i(c,g)}return b}}function Us(i){return Ge(function(o){return o=ir(o,Kr(yt())),Bt(function(c){var g=this;return i(o,function(b){return Ur(b,g,c)})})})}function Ka(i,o){o=o===e?" ":Zr(o);var c=o.length;if(c<2)return c?Ws(o,i):o;var g=Ws(o,Ga(i/Yn(o)));return Hn(o)?en(de(g),0,i).join(""):g.slice(0,i)}function C1(i,o,c,g){var b=o&y,D=Ni(i);function A(){for(var z=-1,k=arguments.length,K=-1,Z=g.length,Q=V(Z+k),ft=this&&this!==Dr&&this instanceof A?D:i;++K<Z;)Q[K]=g[K];for(;k--;)Q[K++]=arguments[++z];return Ur(ft,b?c:this,Q)}return A}function Mc(i){return function(o,c,g){return g&&typeof g!="number"&&Pr(o,c,g)&&(c=g=e),o=Le(o),c===e?(c=o,o=0):c=Le(c),g=g===e?o<c?1:-1:Le(g),l1(o,c,g,i)}}function Za(i){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=ue(o),c=ue(c)),i(o,c)}}function Oc(i,o,c,g,b,D,A,z,k,K){var Z=o&C,Q=Z?A:e,ft=Z?e:A,gt=Z?D:e,St=Z?e:D;o|=Z?R:O,o&=~(Z?O:R),o&E||(o&=~(y|S));var Pt=[i,o,b,gt,Q,St,ft,z,k,K],bt=c.apply(e,Pt);return eu(i)&&kc(bt,Pt),bt.placeholder=g,Wc(bt,i,o)}function Ks(i){var o=_r[i];return function(c,g){if(c=ue(c),g=g==null?0:Rr(Tt(g),292),g&&Wl(c)){var b=(qt(c)+"e").split("e"),D=o(b[0]+"e"+(+b[1]+g));return b=(qt(D)+"e").split("e"),+(b[0]+"e"+(+b[1]-g))}return o(c)}}var D1=$n&&1/Ca(new $n([,-0]))[1]==tt?function(i){return new $n(i)}:mu;function Rc(i){return function(o){var c=Tr(o);return c==mt?Cs(o):c==$t?Yg(o):Gg(o,i(o))}}function Be(i,o,c,g,b,D,A,z){var k=o&S;if(!k&&typeof i!="function")throw new ne(u);var K=g?g.length:0;if(K||(o&=~(R|O),g=b=e),A=A===e?A:xr(Tt(A),0),z=z===e?z:Tt(z),K-=b?b.length:0,o&O){var Z=g,Q=b;g=b=e}var ft=k?e:Qs(i),gt=[i,o,c,g,b,Z,Q,D,A,z];if(ft&&W1(gt,ft),i=gt[0],o=gt[1],c=gt[2],g=gt[3],b=gt[4],z=gt[9]=gt[9]===e?k?0:i.length:xr(gt[9]-K,0),!z&&o&(C|M)&&(o&=~(C|M)),!o||o==y)var St=E1(i,o,c);else o==C||o==M?St=w1(i,o,z):(o==R||o==(y|R))&&!b.length?St=C1(i,o,c,g):St=qa.apply(e,gt);var Pt=ft?fc:kc;return Wc(Pt(St,gt),i,o)}function Tc(i,o,c,g){return i===e||he(i,Vn[c])&&!Ut.call(g,c)?o:i}function Ic(i,o,c,g,b,D){return ar(i)&&ar(o)&&(D.set(o,i),Ya(i,o,e,Ic,D),D.delete(o)),i}function M1(i){return Hi(i)?e:i}function Ac(i,o,c,g,b,D){var A=c&_,z=i.length,k=o.length;if(z!=k&&!(A&&k>z))return!1;var K=D.get(i),Z=D.get(o);if(K&&Z)return K==o&&Z==i;var Q=-1,ft=!0,gt=c&x?new _n:e;for(D.set(i,o),D.set(o,i);++Q<z;){var St=i[Q],Pt=o[Q];if(g)var bt=A?g(Pt,St,Q,o,i,D):g(St,Pt,Q,i,o,D);if(bt!==e){if(bt)continue;ft=!1;break}if(gt){if(!xs(o,function(zt,kt){if(!Oi(gt,kt)&&(St===zt||b(St,zt,c,g,D)))return gt.push(kt)})){ft=!1;break}}else if(!(St===Pt||b(St,Pt,c,g,D))){ft=!1;break}}return D.delete(i),D.delete(o),ft}function O1(i,o,c,g,b,D,A){switch(c){case Te:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Nr:return!(i.byteLength!=o.byteLength||!D(new Ia(i),new Ia(o)));case ht:case wt:case Et:return he(+i,+o);case at:return i.name==o.name&&i.message==o.message;case Lt:case fr:return i==o+"";case mt:var z=Cs;case $t:var k=g&_;if(z||(z=Ca),i.size!=o.size&&!k)return!1;var K=A.get(i);if(K)return K==o;g|=x,A.set(i,o);var Z=Ac(z(i),z(o),g,b,D,A);return A.delete(i),Z;case lr:if(Pi)return Pi.call(i)==Pi.call(o)}return!1}function R1(i,o,c,g,b,D){var A=c&_,z=Zs(i),k=z.length,K=Zs(o),Z=K.length;if(k!=Z&&!A)return!1;for(var Q=k;Q--;){var ft=z[Q];if(!(A?ft in o:Ut.call(o,ft)))return!1}var gt=D.get(i),St=D.get(o);if(gt&&St)return gt==o&&St==i;var Pt=!0;D.set(i,o),D.set(o,i);for(var bt=A;++Q<k;){ft=z[Q];var zt=i[ft],kt=o[ft];if(g)var Qr=A?g(kt,zt,ft,o,i,D):g(zt,kt,ft,i,o,D);if(!(Qr===e?zt===kt||b(zt,kt,c,g,D):Qr)){Pt=!1;break}bt||(bt=ft=="constructor")}if(Pt&&!bt){var Br=i.constructor,jr=o.constructor;Br!=jr&&"constructor"in i&&"constructor"in o&&!(typeof Br=="function"&&Br instanceof Br&&typeof jr=="function"&&jr instanceof jr)&&(Pt=!1)}return D.delete(i),D.delete(o),Pt}function Ge(i){return iu(Lc(i,e,qc),i+"")}function Zs(i){return Ql(i,Cr,tu)}function Js(i){return Ql(i,Hr,Pc)}var Qs=Fa?function(i){return Fa.get(i)}:mu;function Ja(i){for(var o=i.name+"",c=qn[o],g=Ut.call(qn,o)?c.length:0;g--;){var b=c[g],D=b.func;if(D==null||D==i)return b.name}return o}function Jn(i){var o=Ut.call(w,"placeholder")?w:i;return o.placeholder}function yt(){var i=w.iteratee||hu;return i=i===hu?rc:i,arguments.length?i(arguments[0],arguments[1]):i}function Qa(i,o){var c=i.__data__;return F1(o)?c[typeof o=="string"?"string":"hash"]:c.map}function js(i){for(var o=Cr(i),c=o.length;c--;){var g=o[c],b=i[g];o[c]=[g,b,zc(b)]}return o}function Sn(i,o){var c=kg(i,o);return tc(c)?c:e}function T1(i){var o=Ut.call(i,gn),c=i[gn];try{i[gn]=e;var g=!0}catch{}var b=Ra.call(i);return g&&(o?i[gn]=c:delete i[gn]),b}var tu=Ms?function(i){return i==null?[]:(i=Qt(i),Ke(Ms(i),function(o){return Nl.call(i,o)}))}:_u,Pc=Ms?function(i){for(var o=[];i;)Ze(o,tu(i)),i=Aa(i);return o}:_u,Tr=Ar;(Os&&Tr(new Os(new ArrayBuffer(1)))!=Te||Ti&&Tr(new Ti)!=mt||Rs&&Tr(Rs.resolve())!=Vt||$n&&Tr(new $n)!=$t||Ii&&Tr(new Ii)!=tr)&&(Tr=function(i){var o=Ar(i),c=o==Gt?i.constructor:e,g=c?bn(c):"";if(g)switch(g){case v0:return Te;case d0:return mt;case p0:return Vt;case h0:return $t;case g0:return tr}return o});function I1(i,o,c){for(var g=-1,b=c.length;++g<b;){var D=c[g],A=D.size;switch(D.type){case"drop":i+=A;break;case"dropRight":o-=A;break;case"take":o=Rr(o,i+A);break;case"takeRight":i=xr(i,o-A);break}}return{start:i,end:o}}function A1(i){var o=i.match(Lh);return o?o[1].split(Nh):[]}function Bc(i,o,c){o=rn(o,i);for(var g=-1,b=o.length,D=!1;++g<b;){var A=Ce(o[g]);if(!(D=i!=null&&c(i,A)))break;i=i[A]}return D||++g!=b?D:(b=i==null?0:i.length,!!b&&ao(b)&&ze(A,b)&&(Mt(i)||En(i)))}function P1(i){var o=i.length,c=new i.constructor(o);return o&&typeof i[0]=="string"&&Ut.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function Gc(i){return typeof i.constructor=="function"&&!ki(i)?Un(Aa(i)):{}}function B1(i,o,c){var g=i.constructor;switch(o){case Nr:return qs(i);case ht:case wt:return new g(+i);case Te:return m1(i,c);case Ln:case Si:case Ue:case dn:case bi:case Nn:case pn:case Ei:case wi:return mc(i,c);case mt:return new g;case Et:case fr:return new g(i);case Lt:return _1(i);case $t:return new g;case lr:return x1(i)}}function G1(i,o){var c=o.length;if(!c)return i;var g=c-1;return o[g]=(c>1?"& ":"")+o[g],o=o.join(c>2?", ":" "),i.replace(Fh,`{
/* [wrapped with `+o+`] */
`)}function z1(i){return Mt(i)||En(i)||!!(kl&&i&&i[kl])}function ze(i,o){var c=typeof i;return o=o??U,!!o&&(c=="number"||c!="symbol"&&Uh.test(i))&&i>-1&&i%1==0&&i<o}function Pr(i,o,c){if(!ar(c))return!1;var g=typeof o;return(g=="number"?Wr(c)&&ze(o,c.length):g=="string"&&o in c)?he(c[o],i):!1}function ru(i,o){if(Mt(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||Jr(i)?!0:Ph.test(i)||!Ah.test(i)||o!=null&&i in Qt(o)}function F1(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function eu(i){var o=Ja(i),c=w[o];if(typeof c!="function"||!(o in Nt.prototype))return!1;if(i===c)return!0;var g=Qs(c);return!!g&&i===g[0]}function L1(i){return!!zl&&zl in i}var N1=Ma?Fe:xu;function ki(i){var o=i&&i.constructor,c=typeof o=="function"&&o.prototype||Vn;return i===c}function zc(i){return i===i&&!ar(i)}function Fc(i,o){return function(c){return c==null?!1:c[i]===o&&(o!==e||i in Qt(c))}}function k1(i){var o=no(i,function(g){return c.size===v&&c.clear(),g}),c=o.cache;return o}function W1(i,o){var c=i[1],g=o[1],b=c|g,D=b<(y|S|T),A=g==T&&c==C||g==T&&c==I&&i[7].length<=o[8]||g==(T|I)&&o[7].length<=o[8]&&c==C;if(!(D||A))return i;g&y&&(i[2]=o[2],b|=c&y?0:E);var z=o[3];if(z){var k=i[3];i[3]=k?xc(k,z,o[4]):z,i[4]=k?Je(i[3],d):o[4]}return z=o[5],z&&(k=i[5],i[5]=k?yc(k,z,o[6]):z,i[6]=k?Je(i[5],d):o[6]),z=o[7],z&&(i[7]=z),g&T&&(i[8]=i[8]==null?o[8]:Rr(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=b,i}function H1(i){var o=[];if(i!=null)for(var c in Qt(i))o.push(c);return o}function Y1(i){return Ra.call(i)}function Lc(i,o,c){return o=xr(o===e?i.length-1:o,0),function(){for(var g=arguments,b=-1,D=xr(g.length-o,0),A=V(D);++b<D;)A[b]=g[o+b];b=-1;for(var z=V(o+1);++b<o;)z[b]=g[b];return z[o]=c(A),Ur(i,this,z)}}function Nc(i,o){return o.length<2?i:yn(i,oe(o,0,-1))}function X1(i,o){for(var c=i.length,g=Rr(o.length,c),b=kr(i);g--;){var D=o[g];i[g]=ze(D,c)?b[D]:e}return i}function nu(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var kc=Hc(fc),Wi=a0||function(i,o){return Dr.setTimeout(i,o)},iu=Hc(d1);function Wc(i,o,c){var g=o+"";return iu(i,G1(g,V1(A1(g),c)))}function Hc(i){var o=0,c=0;return function(){var g=f0(),b=L-(g-c);if(c=g,b>0){if(++o>=W)return arguments[0]}else o=0;return i.apply(e,arguments)}}function ja(i,o){var c=-1,g=i.length,b=g-1;for(o=o===e?g:o;++c<o;){var D=ks(c,b),A=i[D];i[D]=i[c],i[c]=A}return i.length=o,i}var Yc=k1(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(Bh,function(c,g,b,D){o.push(b?D.replace(Hh,"$1"):g||c)}),o});function Ce(i){if(typeof i=="string"||Jr(i))return i;var o=i+"";return o=="0"&&1/i==-tt?"-0":o}function bn(i){if(i!=null){try{return Oa.call(i)}catch{}try{return i+""}catch{}}return""}function V1(i,o){return ee(ot,function(c){var g="_."+c[0];o&c[1]&&!Ea(i,g)&&i.push(g)}),i.sort()}function Xc(i){if(i instanceof Nt)return i.clone();var o=new ie(i.__wrapped__,i.__chain__);return o.__actions__=kr(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function $1(i,o,c){(c?Pr(i,o,c):o===e)?o=1:o=xr(Tt(o),0);var g=i==null?0:i.length;if(!g||o<1)return[];for(var b=0,D=0,A=V(Ga(g/o));b<g;)A[D++]=oe(i,b,b+=o);return A}function q1(i){for(var o=-1,c=i==null?0:i.length,g=0,b=[];++o<c;){var D=i[o];D&&(b[g++]=D)}return b}function U1(){var i=arguments.length;if(!i)return[];for(var o=V(i-1),c=arguments[0],g=i;g--;)o[g-1]=arguments[g];return Ze(Mt(c)?kr(c):[c],Mr(o,1))}var K1=Bt(function(i,o){return cr(i)?Gi(i,Mr(o,1,cr,!0)):[]}),Z1=Bt(function(i,o){var c=se(o);return cr(c)&&(c=e),cr(i)?Gi(i,Mr(o,1,cr,!0),yt(c,2)):[]}),J1=Bt(function(i,o){var c=se(o);return cr(c)&&(c=e),cr(i)?Gi(i,Mr(o,1,cr,!0),e,c):[]});function Q1(i,o,c){var g=i==null?0:i.length;return g?(o=c||o===e?1:Tt(o),oe(i,o<0?0:o,g)):[]}function j1(i,o,c){var g=i==null?0:i.length;return g?(o=c||o===e?1:Tt(o),o=g-o,oe(i,0,o<0?0:o)):[]}function tm(i,o){return i&&i.length?Va(i,yt(o,3),!0,!0):[]}function rm(i,o){return i&&i.length?Va(i,yt(o,3),!0):[]}function em(i,o,c,g){var b=i==null?0:i.length;return b?(c&&typeof c!="number"&&Pr(i,o,c)&&(c=0,g=b),U0(i,o,c,g)):[]}function Vc(i,o,c){var g=i==null?0:i.length;if(!g)return-1;var b=c==null?0:Tt(c);return b<0&&(b=xr(g+b,0)),wa(i,yt(o,3),b)}function $c(i,o,c){var g=i==null?0:i.length;if(!g)return-1;var b=g-1;return c!==e&&(b=Tt(c),b=c<0?xr(g+b,0):Rr(b,g-1)),wa(i,yt(o,3),b,!0)}function qc(i){var o=i==null?0:i.length;return o?Mr(i,1):[]}function nm(i){var o=i==null?0:i.length;return o?Mr(i,tt):[]}function im(i,o){var c=i==null?0:i.length;return c?(o=o===e?1:Tt(o),Mr(i,o)):[]}function am(i){for(var o=-1,c=i==null?0:i.length,g={};++o<c;){var b=i[o];g[b[0]]=b[1]}return g}function Uc(i){return i&&i.length?i[0]:e}function om(i,o,c){var g=i==null?0:i.length;if(!g)return-1;var b=c==null?0:Tt(c);return b<0&&(b=xr(g+b,0)),Wn(i,o,b)}function sm(i){var o=i==null?0:i.length;return o?oe(i,0,-1):[]}var um=Bt(function(i){var o=ir(i,Vs);return o.length&&o[0]===i[0]?Gs(o):[]}),fm=Bt(function(i){var o=se(i),c=ir(i,Vs);return o===se(c)?o=e:c.pop(),c.length&&c[0]===i[0]?Gs(c,yt(o,2)):[]}),lm=Bt(function(i){var o=se(i),c=ir(i,Vs);return o=typeof o=="function"?o:e,o&&c.pop(),c.length&&c[0]===i[0]?Gs(c,e,o):[]});function cm(i,o){return i==null?"":s0.call(i,o)}function se(i){var o=i==null?0:i.length;return o?i[o-1]:e}function vm(i,o,c){var g=i==null?0:i.length;if(!g)return-1;var b=g;return c!==e&&(b=Tt(c),b=b<0?xr(g+b,0):Rr(b,g-1)),o===o?Vg(i,o,b):wa(i,Ol,b,!0)}function dm(i,o){return i&&i.length?ac(i,Tt(o)):e}var pm=Bt(Kc);function Kc(i,o){return i&&i.length&&o&&o.length?Ns(i,o):i}function hm(i,o,c){return i&&i.length&&o&&o.length?Ns(i,o,yt(c,2)):i}function gm(i,o,c){return i&&i.length&&o&&o.length?Ns(i,o,e,c):i}var mm=Ge(function(i,o){var c=i==null?0:i.length,g=Is(i,o);return uc(i,ir(o,function(b){return ze(b,c)?+b:b}).sort(_c)),g});function _m(i,o){var c=[];if(!(i&&i.length))return c;var g=-1,b=[],D=i.length;for(o=yt(o,3);++g<D;){var A=i[g];o(A,g,i)&&(c.push(A),b.push(g))}return uc(i,b),c}function au(i){return i==null?i:c0.call(i)}function xm(i,o,c){var g=i==null?0:i.length;return g?(c&&typeof c!="number"&&Pr(i,o,c)?(o=0,c=g):(o=o==null?0:Tt(o),c=c===e?g:Tt(c)),oe(i,o,c)):[]}function ym(i,o){return Xa(i,o)}function Sm(i,o,c){return Hs(i,o,yt(c,2))}function bm(i,o){var c=i==null?0:i.length;if(c){var g=Xa(i,o);if(g<c&&he(i[g],o))return g}return-1}function Em(i,o){return Xa(i,o,!0)}function wm(i,o,c){return Hs(i,o,yt(c,2),!0)}function Cm(i,o){var c=i==null?0:i.length;if(c){var g=Xa(i,o,!0)-1;if(he(i[g],o))return g}return-1}function Dm(i){return i&&i.length?lc(i):[]}function Mm(i,o){return i&&i.length?lc(i,yt(o,2)):[]}function Om(i){var o=i==null?0:i.length;return o?oe(i,1,o):[]}function Rm(i,o,c){return i&&i.length?(o=c||o===e?1:Tt(o),oe(i,0,o<0?0:o)):[]}function Tm(i,o,c){var g=i==null?0:i.length;return g?(o=c||o===e?1:Tt(o),o=g-o,oe(i,o<0?0:o,g)):[]}function Im(i,o){return i&&i.length?Va(i,yt(o,3),!1,!0):[]}function Am(i,o){return i&&i.length?Va(i,yt(o,3)):[]}var Pm=Bt(function(i){return tn(Mr(i,1,cr,!0))}),Bm=Bt(function(i){var o=se(i);return cr(o)&&(o=e),tn(Mr(i,1,cr,!0),yt(o,2))}),Gm=Bt(function(i){var o=se(i);return o=typeof o=="function"?o:e,tn(Mr(i,1,cr,!0),e,o)});function zm(i){return i&&i.length?tn(i):[]}function Fm(i,o){return i&&i.length?tn(i,yt(o,2)):[]}function Lm(i,o){return o=typeof o=="function"?o:e,i&&i.length?tn(i,e,o):[]}function ou(i){if(!(i&&i.length))return[];var o=0;return i=Ke(i,function(c){if(cr(c))return o=xr(c.length,o),!0}),Es(o,function(c){return ir(i,ys(c))})}function Zc(i,o){if(!(i&&i.length))return[];var c=ou(i);return o==null?c:ir(c,function(g){return Ur(o,e,g)})}var Nm=Bt(function(i,o){return cr(i)?Gi(i,o):[]}),km=Bt(function(i){return Xs(Ke(i,cr))}),Wm=Bt(function(i){var o=se(i);return cr(o)&&(o=e),Xs(Ke(i,cr),yt(o,2))}),Hm=Bt(function(i){var o=se(i);return o=typeof o=="function"?o:e,Xs(Ke(i,cr),e,o)}),Ym=Bt(ou);function Xm(i,o){return pc(i||[],o||[],Bi)}function Vm(i,o){return pc(i||[],o||[],Li)}var $m=Bt(function(i){var o=i.length,c=o>1?i[o-1]:e;return c=typeof c=="function"?(i.pop(),c):e,Zc(i,c)});function Jc(i){var o=w(i);return o.__chain__=!0,o}function qm(i,o){return o(i),i}function to(i,o){return o(i)}var Um=Ge(function(i){var o=i.length,c=o?i[0]:0,g=this.__wrapped__,b=function(D){return Is(D,i)};return o>1||this.__actions__.length||!(g instanceof Nt)||!ze(c)?this.thru(b):(g=g.slice(c,+c+(o?1:0)),g.__actions__.push({func:to,args:[b],thisArg:e}),new ie(g,this.__chain__).thru(function(D){return o&&!D.length&&D.push(e),D}))});function Km(){return Jc(this)}function Zm(){return new ie(this.value(),this.__chain__)}function Jm(){this.__values__===e&&(this.__values__=cv(this.value()));var i=this.__index__>=this.__values__.length,o=i?e:this.__values__[this.__index__++];return{done:i,value:o}}function Qm(){return this}function jm(i){for(var o,c=this;c instanceof Na;){var g=Xc(c);g.__index__=0,g.__values__=e,o?b.__wrapped__=g:o=g;var b=g;c=c.__wrapped__}return b.__wrapped__=i,o}function t_(){var i=this.__wrapped__;if(i instanceof Nt){var o=i;return this.__actions__.length&&(o=new Nt(this)),o=o.reverse(),o.__actions__.push({func:to,args:[au],thisArg:e}),new ie(o,this.__chain__)}return this.thru(au)}function r_(){return dc(this.__wrapped__,this.__actions__)}var e_=$a(function(i,o,c){Ut.call(i,c)?++i[c]:Pe(i,c,1)});function n_(i,o,c){var g=Mt(i)?Dl:q0;return c&&Pr(i,o,c)&&(o=e),g(i,yt(o,3))}function i_(i,o){var c=Mt(i)?Ke:Zl;return c(i,yt(o,3))}var a_=wc(Vc),o_=wc($c);function s_(i,o){return Mr(ro(i,o),1)}function u_(i,o){return Mr(ro(i,o),tt)}function f_(i,o,c){return c=c===e?1:Tt(c),Mr(ro(i,o),c)}function Qc(i,o){var c=Mt(i)?ee:je;return c(i,yt(o,3))}function jc(i,o){var c=Mt(i)?Og:Kl;return c(i,yt(o,3))}var l_=$a(function(i,o,c){Ut.call(i,c)?i[c].push(o):Pe(i,c,[o])});function c_(i,o,c,g){i=Wr(i)?i:jn(i),c=c&&!g?Tt(c):0;var b=i.length;return c<0&&(c=xr(b+c,0)),oo(i)?c<=b&&i.indexOf(o,c)>-1:!!b&&Wn(i,o,c)>-1}var v_=Bt(function(i,o,c){var g=-1,b=typeof o=="function",D=Wr(i)?V(i.length):[];return je(i,function(A){D[++g]=b?Ur(o,A,c):zi(A,o,c)}),D}),d_=$a(function(i,o,c){Pe(i,c,o)});function ro(i,o){var c=Mt(i)?ir:ec;return c(i,yt(o,3))}function p_(i,o,c,g){return i==null?[]:(Mt(o)||(o=o==null?[]:[o]),c=g?e:c,Mt(c)||(c=c==null?[]:[c]),oc(i,o,c))}var h_=$a(function(i,o,c){i[c?0:1].push(o)},function(){return[[],[]]});function g_(i,o,c){var g=Mt(i)?_s:Tl,b=arguments.length<3;return g(i,yt(o,4),c,b,je)}function m_(i,o,c){var g=Mt(i)?Rg:Tl,b=arguments.length<3;return g(i,yt(o,4),c,b,Kl)}function __(i,o){var c=Mt(i)?Ke:Zl;return c(i,io(yt(o,3)))}function x_(i){var o=Mt(i)?Vl:c1;return o(i)}function y_(i,o,c){(c?Pr(i,o,c):o===e)?o=1:o=Tt(o);var g=Mt(i)?H0:v1;return g(i,o)}function S_(i){var o=Mt(i)?Y0:p1;return o(i)}function b_(i){if(i==null)return 0;if(Wr(i))return oo(i)?Yn(i):i.length;var o=Tr(i);return o==mt||o==$t?i.size:Fs(i).length}function E_(i,o,c){var g=Mt(i)?xs:h1;return c&&Pr(i,o,c)&&(o=e),g(i,yt(o,3))}var w_=Bt(function(i,o){if(i==null)return[];var c=o.length;return c>1&&Pr(i,o[0],o[1])?o=[]:c>2&&Pr(o[0],o[1],o[2])&&(o=[o[0]]),oc(i,Mr(o,1),[])}),eo=i0||function(){return Dr.Date.now()};function C_(i,o){if(typeof o!="function")throw new ne(u);return i=Tt(i),function(){if(--i<1)return o.apply(this,arguments)}}function tv(i,o,c){return o=c?e:o,o=i&&o==null?i.length:o,Be(i,T,e,e,e,e,o)}function rv(i,o){var c;if(typeof o!="function")throw new ne(u);return i=Tt(i),function(){return--i>0&&(c=o.apply(this,arguments)),i<=1&&(o=e),c}}var su=Bt(function(i,o,c){var g=y;if(c.length){var b=Je(c,Jn(su));g|=R}return Be(i,g,o,c,b)}),ev=Bt(function(i,o,c){var g=y|S;if(c.length){var b=Je(c,Jn(ev));g|=R}return Be(o,g,i,c,b)});function nv(i,o,c){o=c?e:o;var g=Be(i,C,e,e,e,e,e,o);return g.placeholder=nv.placeholder,g}function iv(i,o,c){o=c?e:o;var g=Be(i,M,e,e,e,e,e,o);return g.placeholder=iv.placeholder,g}function av(i,o,c){var g,b,D,A,z,k,K=0,Z=!1,Q=!1,ft=!0;if(typeof i!="function")throw new ne(u);o=ue(o)||0,ar(c)&&(Z=!!c.leading,Q="maxWait"in c,D=Q?xr(ue(c.maxWait)||0,o):D,ft="trailing"in c?!!c.trailing:ft);function gt(vr){var ge=g,Ne=b;return g=b=e,K=vr,A=i.apply(Ne,ge),A}function St(vr){return K=vr,z=Wi(zt,o),Z?gt(vr):A}function Pt(vr){var ge=vr-k,Ne=vr-K,wv=o-ge;return Q?Rr(wv,D-Ne):wv}function bt(vr){var ge=vr-k,Ne=vr-K;return k===e||ge>=o||ge<0||Q&&Ne>=D}function zt(){var vr=eo();if(bt(vr))return kt(vr);z=Wi(zt,Pt(vr))}function kt(vr){return z=e,ft&&g?gt(vr):(g=b=e,A)}function Qr(){z!==e&&hc(z),K=0,g=k=b=z=e}function Br(){return z===e?A:kt(eo())}function jr(){var vr=eo(),ge=bt(vr);if(g=arguments,b=this,k=vr,ge){if(z===e)return St(k);if(Q)return hc(z),z=Wi(zt,o),gt(k)}return z===e&&(z=Wi(zt,o)),A}return jr.cancel=Qr,jr.flush=Br,jr}var D_=Bt(function(i,o){return Ul(i,1,o)}),M_=Bt(function(i,o,c){return Ul(i,ue(o)||0,c)});function O_(i){return Be(i,P)}function no(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new ne(u);var c=function(){var g=arguments,b=o?o.apply(this,g):g[0],D=c.cache;if(D.has(b))return D.get(b);var A=i.apply(this,g);return c.cache=D.set(b,A)||D,A};return c.cache=new(no.Cache||Ae),c}no.Cache=Ae;function io(i){if(typeof i!="function")throw new ne(u);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function R_(i){return rv(2,i)}var T_=g1(function(i,o){o=o.length==1&&Mt(o[0])?ir(o[0],Kr(yt())):ir(Mr(o,1),Kr(yt()));var c=o.length;return Bt(function(g){for(var b=-1,D=Rr(g.length,c);++b<D;)g[b]=o[b].call(this,g[b]);return Ur(i,this,g)})}),uu=Bt(function(i,o){var c=Je(o,Jn(uu));return Be(i,R,e,o,c)}),ov=Bt(function(i,o){var c=Je(o,Jn(ov));return Be(i,O,e,o,c)}),I_=Ge(function(i,o){return Be(i,I,e,e,e,o)});function A_(i,o){if(typeof i!="function")throw new ne(u);return o=o===e?o:Tt(o),Bt(i,o)}function P_(i,o){if(typeof i!="function")throw new ne(u);return o=o==null?0:xr(Tt(o),0),Bt(function(c){var g=c[o],b=en(c,0,o);return g&&Ze(b,g),Ur(i,this,b)})}function B_(i,o,c){var g=!0,b=!0;if(typeof i!="function")throw new ne(u);return ar(c)&&(g="leading"in c?!!c.leading:g,b="trailing"in c?!!c.trailing:b),av(i,o,{leading:g,maxWait:o,trailing:b})}function G_(i){return tv(i,1)}function z_(i,o){return uu($s(o),i)}function F_(){if(!arguments.length)return[];var i=arguments[0];return Mt(i)?i:[i]}function L_(i){return ae(i,m)}function N_(i,o){return o=typeof o=="function"?o:e,ae(i,m,o)}function k_(i){return ae(i,h|m)}function W_(i,o){return o=typeof o=="function"?o:e,ae(i,h|m,o)}function H_(i,o){return o==null||ql(i,o,Cr(o))}function he(i,o){return i===o||i!==i&&o!==o}var Y_=Za(Bs),X_=Za(function(i,o){return i>=o}),En=jl(function(){return arguments}())?jl:function(i){return ur(i)&&Ut.call(i,"callee")&&!Nl.call(i,"callee")},Mt=V.isArray,V_=yl?Kr(yl):j0;function Wr(i){return i!=null&&ao(i.length)&&!Fe(i)}function cr(i){return ur(i)&&Wr(i)}function $_(i){return i===!0||i===!1||ur(i)&&Ar(i)==ht}var nn=o0||xu,q_=Sl?Kr(Sl):t1;function U_(i){return ur(i)&&i.nodeType===1&&!Hi(i)}function K_(i){if(i==null)return!0;if(Wr(i)&&(Mt(i)||typeof i=="string"||typeof i.splice=="function"||nn(i)||Qn(i)||En(i)))return!i.length;var o=Tr(i);if(o==mt||o==$t)return!i.size;if(ki(i))return!Fs(i).length;for(var c in i)if(Ut.call(i,c))return!1;return!0}function Z_(i,o){return Fi(i,o)}function J_(i,o,c){c=typeof c=="function"?c:e;var g=c?c(i,o):e;return g===e?Fi(i,o,e,c):!!g}function fu(i){if(!ur(i))return!1;var o=Ar(i);return o==at||o==Ft||typeof i.message=="string"&&typeof i.name=="string"&&!Hi(i)}function Q_(i){return typeof i=="number"&&Wl(i)}function Fe(i){if(!ar(i))return!1;var o=Ar(i);return o==pt||o==Wt||o==vt||o==Rt}function sv(i){return typeof i=="number"&&i==Tt(i)}function ao(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=U}function ar(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function ur(i){return i!=null&&typeof i=="object"}var uv=bl?Kr(bl):e1;function j_(i,o){return i===o||zs(i,o,js(o))}function tx(i,o,c){return c=typeof c=="function"?c:e,zs(i,o,js(o),c)}function rx(i){return fv(i)&&i!=+i}function ex(i){if(N1(i))throw new Dt(s);return tc(i)}function nx(i){return i===null}function ix(i){return i==null}function fv(i){return typeof i=="number"||ur(i)&&Ar(i)==Et}function Hi(i){if(!ur(i)||Ar(i)!=Gt)return!1;var o=Aa(i);if(o===null)return!0;var c=Ut.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Oa.call(c)==t0}var lu=El?Kr(El):n1;function ax(i){return sv(i)&&i>=-U&&i<=U}var lv=wl?Kr(wl):i1;function oo(i){return typeof i=="string"||!Mt(i)&&ur(i)&&Ar(i)==fr}function Jr(i){return typeof i=="symbol"||ur(i)&&Ar(i)==lr}var Qn=Cl?Kr(Cl):a1;function ox(i){return i===e}function sx(i){return ur(i)&&Tr(i)==tr}function ux(i){return ur(i)&&Ar(i)==be}var fx=Za(Ls),lx=Za(function(i,o){return i<=o});function cv(i){if(!i)return[];if(Wr(i))return oo(i)?de(i):kr(i);if(Ri&&i[Ri])return Hg(i[Ri]());var o=Tr(i),c=o==mt?Cs:o==$t?Ca:jn;return c(i)}function Le(i){if(!i)return i===0?i:0;if(i=ue(i),i===tt||i===-tt){var o=i<0?-1:1;return o*nt}return i===i?i:0}function Tt(i){var o=Le(i),c=o%1;return o===o?c?o-c:o:0}function vv(i){return i?xn(Tt(i),0,$):0}function ue(i){if(typeof i=="number")return i;if(Jr(i))return et;if(ar(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=ar(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=Il(i);var c=Vh.test(i);return c||qh.test(i)?Cg(i.slice(2),c?2:8):Xh.test(i)?et:+i}function dv(i){return we(i,Hr(i))}function cx(i){return i?xn(Tt(i),-U,U):i===0?i:0}function qt(i){return i==null?"":Zr(i)}var vx=Kn(function(i,o){if(ki(o)||Wr(o)){we(o,Cr(o),i);return}for(var c in o)Ut.call(o,c)&&Bi(i,c,o[c])}),pv=Kn(function(i,o){we(o,Hr(o),i)}),so=Kn(function(i,o,c,g){we(o,Hr(o),i,g)}),dx=Kn(function(i,o,c,g){we(o,Cr(o),i,g)}),px=Ge(Is);function hx(i,o){var c=Un(i);return o==null?c:$l(c,o)}var gx=Bt(function(i,o){i=Qt(i);var c=-1,g=o.length,b=g>2?o[2]:e;for(b&&Pr(o[0],o[1],b)&&(g=1);++c<g;)for(var D=o[c],A=Hr(D),z=-1,k=A.length;++z<k;){var K=A[z],Z=i[K];(Z===e||he(Z,Vn[K])&&!Ut.call(i,K))&&(i[K]=D[K])}return i}),mx=Bt(function(i){return i.push(e,Ic),Ur(hv,e,i)});function _x(i,o){return Ml(i,yt(o,3),Ee)}function xx(i,o){return Ml(i,yt(o,3),Ps)}function yx(i,o){return i==null?i:As(i,yt(o,3),Hr)}function Sx(i,o){return i==null?i:Jl(i,yt(o,3),Hr)}function bx(i,o){return i&&Ee(i,yt(o,3))}function Ex(i,o){return i&&Ps(i,yt(o,3))}function wx(i){return i==null?[]:Ha(i,Cr(i))}function Cx(i){return i==null?[]:Ha(i,Hr(i))}function cu(i,o,c){var g=i==null?e:yn(i,o);return g===e?c:g}function Dx(i,o){return i!=null&&Bc(i,o,K0)}function vu(i,o){return i!=null&&Bc(i,o,Z0)}var Mx=Dc(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=Ra.call(o)),i[o]=c},pu(Yr)),Ox=Dc(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=Ra.call(o)),Ut.call(i,o)?i[o].push(c):i[o]=[c]},yt),Rx=Bt(zi);function Cr(i){return Wr(i)?Xl(i):Fs(i)}function Hr(i){return Wr(i)?Xl(i,!0):o1(i)}function Tx(i,o){var c={};return o=yt(o,3),Ee(i,function(g,b,D){Pe(c,o(g,b,D),g)}),c}function Ix(i,o){var c={};return o=yt(o,3),Ee(i,function(g,b,D){Pe(c,b,o(g,b,D))}),c}var Ax=Kn(function(i,o,c){Ya(i,o,c)}),hv=Kn(function(i,o,c,g){Ya(i,o,c,g)}),Px=Ge(function(i,o){var c={};if(i==null)return c;var g=!1;o=ir(o,function(D){return D=rn(D,i),g||(g=D.length>1),D}),we(i,Js(i),c),g&&(c=ae(c,h|p|m,M1));for(var b=o.length;b--;)Ys(c,o[b]);return c});function Bx(i,o){return gv(i,io(yt(o)))}var Gx=Ge(function(i,o){return i==null?{}:u1(i,o)});function gv(i,o){if(i==null)return{};var c=ir(Js(i),function(g){return[g]});return o=yt(o),sc(i,c,function(g,b){return o(g,b[0])})}function zx(i,o,c){o=rn(o,i);var g=-1,b=o.length;for(b||(b=1,i=e);++g<b;){var D=i==null?e:i[Ce(o[g])];D===e&&(g=b,D=c),i=Fe(D)?D.call(i):D}return i}function Fx(i,o,c){return i==null?i:Li(i,o,c)}function Lx(i,o,c,g){return g=typeof g=="function"?g:e,i==null?i:Li(i,o,c,g)}var mv=Rc(Cr),_v=Rc(Hr);function Nx(i,o,c){var g=Mt(i),b=g||nn(i)||Qn(i);if(o=yt(o,4),c==null){var D=i&&i.constructor;b?c=g?new D:[]:ar(i)?c=Fe(D)?Un(Aa(i)):{}:c={}}return(b?ee:Ee)(i,function(A,z,k){return o(c,A,z,k)}),c}function kx(i,o){return i==null?!0:Ys(i,o)}function Wx(i,o,c){return i==null?i:vc(i,o,$s(c))}function Hx(i,o,c,g){return g=typeof g=="function"?g:e,i==null?i:vc(i,o,$s(c),g)}function jn(i){return i==null?[]:ws(i,Cr(i))}function Yx(i){return i==null?[]:ws(i,Hr(i))}function Xx(i,o,c){return c===e&&(c=o,o=e),c!==e&&(c=ue(c),c=c===c?c:0),o!==e&&(o=ue(o),o=o===o?o:0),xn(ue(i),o,c)}function Vx(i,o,c){return o=Le(o),c===e?(c=o,o=0):c=Le(c),i=ue(i),J0(i,o,c)}function $x(i,o,c){if(c&&typeof c!="boolean"&&Pr(i,o,c)&&(o=c=e),c===e&&(typeof o=="boolean"?(c=o,o=e):typeof i=="boolean"&&(c=i,i=e)),i===e&&o===e?(i=0,o=1):(i=Le(i),o===e?(o=i,i=0):o=Le(o)),i>o){var g=i;i=o,o=g}if(c||i%1||o%1){var b=Hl();return Rr(i+b*(o-i+wg("1e-"+((b+"").length-1))),o)}return ks(i,o)}var qx=Zn(function(i,o,c){return o=o.toLowerCase(),i+(c?xv(o):o)});function xv(i){return du(qt(i).toLowerCase())}function yv(i){return i=qt(i),i&&i.replace(Kh,Fg).replace(pg,"")}function Ux(i,o,c){i=qt(i),o=Zr(o);var g=i.length;c=c===e?g:xn(Tt(c),0,g);var b=c;return c-=o.length,c>=0&&i.slice(c,b)==o}function Kx(i){return i=qt(i),i&&ss.test(i)?i.replace(Di,Lg):i}function Zx(i){return i=qt(i),i&&Gh.test(i)?i.replace(us,"\\$&"):i}var Jx=Zn(function(i,o,c){return i+(c?"-":"")+o.toLowerCase()}),Qx=Zn(function(i,o,c){return i+(c?" ":"")+o.toLowerCase()}),jx=Ec("toLowerCase");function ty(i,o,c){i=qt(i),o=Tt(o);var g=o?Yn(i):0;if(!o||g>=o)return i;var b=(o-g)/2;return Ka(za(b),c)+i+Ka(Ga(b),c)}function ry(i,o,c){i=qt(i),o=Tt(o);var g=o?Yn(i):0;return o&&g<o?i+Ka(o-g,c):i}function ey(i,o,c){i=qt(i),o=Tt(o);var g=o?Yn(i):0;return o&&g<o?Ka(o-g,c)+i:i}function ny(i,o,c){return c||o==null?o=0:o&&(o=+o),l0(qt(i).replace(fs,""),o||0)}function iy(i,o,c){return(c?Pr(i,o,c):o===e)?o=1:o=Tt(o),Ws(qt(i),o)}function ay(){var i=arguments,o=qt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var oy=Zn(function(i,o,c){return i+(c?"_":"")+o.toLowerCase()});function sy(i,o,c){return c&&typeof c!="number"&&Pr(i,o,c)&&(o=c=e),c=c===e?$:c>>>0,c?(i=qt(i),i&&(typeof o=="string"||o!=null&&!lu(o))&&(o=Zr(o),!o&&Hn(i))?en(de(i),0,c):i.split(o,c)):[]}var uy=Zn(function(i,o,c){return i+(c?" ":"")+du(o)});function fy(i,o,c){return i=qt(i),c=c==null?0:xn(Tt(c),0,i.length),o=Zr(o),i.slice(c,c+o.length)==o}function ly(i,o,c){var g=w.templateSettings;c&&Pr(i,o,c)&&(o=e),i=qt(i),o=so({},o,g,Tc);var b=so({},o.imports,g.imports,Tc),D=Cr(b),A=ws(b,D),z,k,K=0,Z=o.interpolate||ya,Q="__p += '",ft=Ds((o.escape||ya).source+"|"+Z.source+"|"+(Z===Qf?Yh:ya).source+"|"+(o.evaluate||ya).source+"|$","g"),gt="//# sourceURL="+(Ut.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xg+"]")+`
`;i.replace(ft,function(bt,zt,kt,Qr,Br,jr){return kt||(kt=Qr),Q+=i.slice(K,jr).replace(Zh,Ng),zt&&(z=!0,Q+=`' +
__e(`+zt+`) +
'`),Br&&(k=!0,Q+=`';
`+Br+`;
__p += '`),kt&&(Q+=`' +
((__t = (`+kt+`)) == null ? '' : __t) +
'`),K=jr+bt.length,bt}),Q+=`';
`;var St=Ut.call(o,"variable")&&o.variable;if(!St)Q=`with (obj) {
`+Q+`
}
`;else if(Wh.test(St))throw new Dt(f);Q=(k?Q.replace(os,""):Q).replace(Ci,"$1").replace(Kt,"$1;"),Q="function("+(St||"obj")+`) {
`+(St?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(z?", __e = _.escape":"")+(k?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q+`return __p
}`;var Pt=bv(function(){return Yt(D,gt+"return "+Q).apply(e,A)});if(Pt.source=Q,fu(Pt))throw Pt;return Pt}function cy(i){return qt(i).toLowerCase()}function vy(i){return qt(i).toUpperCase()}function dy(i,o,c){if(i=qt(i),i&&(c||o===e))return Il(i);if(!i||!(o=Zr(o)))return i;var g=de(i),b=de(o),D=Al(g,b),A=Pl(g,b)+1;return en(g,D,A).join("")}function py(i,o,c){if(i=qt(i),i&&(c||o===e))return i.slice(0,Gl(i)+1);if(!i||!(o=Zr(o)))return i;var g=de(i),b=Pl(g,de(o))+1;return en(g,0,b).join("")}function hy(i,o,c){if(i=qt(i),i&&(c||o===e))return i.replace(fs,"");if(!i||!(o=Zr(o)))return i;var g=de(i),b=Al(g,de(o));return en(g,b).join("")}function gy(i,o){var c=G,g=H;if(ar(o)){var b="separator"in o?o.separator:b;c="length"in o?Tt(o.length):c,g="omission"in o?Zr(o.omission):g}i=qt(i);var D=i.length;if(Hn(i)){var A=de(i);D=A.length}if(c>=D)return i;var z=c-Yn(g);if(z<1)return g;var k=A?en(A,0,z).join(""):i.slice(0,z);if(b===e)return k+g;if(A&&(z+=k.length-z),lu(b)){if(i.slice(z).search(b)){var K,Z=k;for(b.global||(b=Ds(b.source,qt(jf.exec(b))+"g")),b.lastIndex=0;K=b.exec(Z);)var Q=K.index;k=k.slice(0,Q===e?z:Q)}}else if(i.indexOf(Zr(b),z)!=z){var ft=k.lastIndexOf(b);ft>-1&&(k=k.slice(0,ft))}return k+g}function my(i){return i=qt(i),i&&xa.test(i)?i.replace(wr,$g):i}var _y=Zn(function(i,o,c){return i+(c?" ":"")+o.toUpperCase()}),du=Ec("toUpperCase");function Sv(i,o,c){return i=qt(i),o=c?e:o,o===e?Wg(i)?Kg(i):Ag(i):i.match(o)||[]}var bv=Bt(function(i,o){try{return Ur(i,e,o)}catch(c){return fu(c)?c:new Dt(c)}}),xy=Ge(function(i,o){return ee(o,function(c){c=Ce(c),Pe(i,c,su(i[c],i))}),i});function yy(i){var o=i==null?0:i.length,c=yt();return i=o?ir(i,function(g){if(typeof g[1]!="function")throw new ne(u);return[c(g[0]),g[1]]}):[],Bt(function(g){for(var b=-1;++b<o;){var D=i[b];if(Ur(D[0],this,g))return Ur(D[1],this,g)}})}function Sy(i){return $0(ae(i,h))}function pu(i){return function(){return i}}function by(i,o){return i==null||i!==i?o:i}var Ey=Cc(),wy=Cc(!0);function Yr(i){return i}function hu(i){return rc(typeof i=="function"?i:ae(i,h))}function Cy(i){return nc(ae(i,h))}function Dy(i,o){return ic(i,ae(o,h))}var My=Bt(function(i,o){return function(c){return zi(c,i,o)}}),Oy=Bt(function(i,o){return function(c){return zi(i,c,o)}});function gu(i,o,c){var g=Cr(o),b=Ha(o,g);c==null&&!(ar(o)&&(b.length||!g.length))&&(c=o,o=i,i=this,b=Ha(o,Cr(o)));var D=!(ar(c)&&"chain"in c)||!!c.chain,A=Fe(i);return ee(b,function(z){var k=o[z];i[z]=k,A&&(i.prototype[z]=function(){var K=this.__chain__;if(D||K){var Z=i(this.__wrapped__),Q=Z.__actions__=kr(this.__actions__);return Q.push({func:k,args:arguments,thisArg:i}),Z.__chain__=K,Z}return k.apply(i,Ze([this.value()],arguments))})}),i}function Ry(){return Dr._===this&&(Dr._=r0),this}function mu(){}function Ty(i){return i=Tt(i),Bt(function(o){return ac(o,i)})}var Iy=Us(ir),Ay=Us(Dl),Py=Us(xs);function Ev(i){return ru(i)?ys(Ce(i)):f1(i)}function By(i){return function(o){return i==null?e:yn(i,o)}}var Gy=Mc(),zy=Mc(!0);function _u(){return[]}function xu(){return!1}function Fy(){return{}}function Ly(){return""}function Ny(){return!0}function ky(i,o){if(i=Tt(i),i<1||i>U)return[];var c=$,g=Rr(i,$);o=yt(o),i-=$;for(var b=Es(g,o);++c<i;)o(c);return b}function Wy(i){return Mt(i)?ir(i,Ce):Jr(i)?[i]:kr(Yc(qt(i)))}function Hy(i){var o=++jg;return qt(i)+o}var Yy=Ua(function(i,o){return i+o},0),Xy=Ks("ceil"),Vy=Ua(function(i,o){return i/o},1),$y=Ks("floor");function qy(i){return i&&i.length?Wa(i,Yr,Bs):e}function Uy(i,o){return i&&i.length?Wa(i,yt(o,2),Bs):e}function Ky(i){return Rl(i,Yr)}function Zy(i,o){return Rl(i,yt(o,2))}function Jy(i){return i&&i.length?Wa(i,Yr,Ls):e}function Qy(i,o){return i&&i.length?Wa(i,yt(o,2),Ls):e}var jy=Ua(function(i,o){return i*o},1),tS=Ks("round"),rS=Ua(function(i,o){return i-o},0);function eS(i){return i&&i.length?bs(i,Yr):0}function nS(i,o){return i&&i.length?bs(i,yt(o,2)):0}return w.after=C_,w.ary=tv,w.assign=vx,w.assignIn=pv,w.assignInWith=so,w.assignWith=dx,w.at=px,w.before=rv,w.bind=su,w.bindAll=xy,w.bindKey=ev,w.castArray=F_,w.chain=Jc,w.chunk=$1,w.compact=q1,w.concat=U1,w.cond=yy,w.conforms=Sy,w.constant=pu,w.countBy=e_,w.create=hx,w.curry=nv,w.curryRight=iv,w.debounce=av,w.defaults=gx,w.defaultsDeep=mx,w.defer=D_,w.delay=M_,w.difference=K1,w.differenceBy=Z1,w.differenceWith=J1,w.drop=Q1,w.dropRight=j1,w.dropRightWhile=tm,w.dropWhile=rm,w.fill=em,w.filter=i_,w.flatMap=s_,w.flatMapDeep=u_,w.flatMapDepth=f_,w.flatten=qc,w.flattenDeep=nm,w.flattenDepth=im,w.flip=O_,w.flow=Ey,w.flowRight=wy,w.fromPairs=am,w.functions=wx,w.functionsIn=Cx,w.groupBy=l_,w.initial=sm,w.intersection=um,w.intersectionBy=fm,w.intersectionWith=lm,w.invert=Mx,w.invertBy=Ox,w.invokeMap=v_,w.iteratee=hu,w.keyBy=d_,w.keys=Cr,w.keysIn=Hr,w.map=ro,w.mapKeys=Tx,w.mapValues=Ix,w.matches=Cy,w.matchesProperty=Dy,w.memoize=no,w.merge=Ax,w.mergeWith=hv,w.method=My,w.methodOf=Oy,w.mixin=gu,w.negate=io,w.nthArg=Ty,w.omit=Px,w.omitBy=Bx,w.once=R_,w.orderBy=p_,w.over=Iy,w.overArgs=T_,w.overEvery=Ay,w.overSome=Py,w.partial=uu,w.partialRight=ov,w.partition=h_,w.pick=Gx,w.pickBy=gv,w.property=Ev,w.propertyOf=By,w.pull=pm,w.pullAll=Kc,w.pullAllBy=hm,w.pullAllWith=gm,w.pullAt=mm,w.range=Gy,w.rangeRight=zy,w.rearg=I_,w.reject=__,w.remove=_m,w.rest=A_,w.reverse=au,w.sampleSize=y_,w.set=Fx,w.setWith=Lx,w.shuffle=S_,w.slice=xm,w.sortBy=w_,w.sortedUniq=Dm,w.sortedUniqBy=Mm,w.split=sy,w.spread=P_,w.tail=Om,w.take=Rm,w.takeRight=Tm,w.takeRightWhile=Im,w.takeWhile=Am,w.tap=qm,w.throttle=B_,w.thru=to,w.toArray=cv,w.toPairs=mv,w.toPairsIn=_v,w.toPath=Wy,w.toPlainObject=dv,w.transform=Nx,w.unary=G_,w.union=Pm,w.unionBy=Bm,w.unionWith=Gm,w.uniq=zm,w.uniqBy=Fm,w.uniqWith=Lm,w.unset=kx,w.unzip=ou,w.unzipWith=Zc,w.update=Wx,w.updateWith=Hx,w.values=jn,w.valuesIn=Yx,w.without=Nm,w.words=Sv,w.wrap=z_,w.xor=km,w.xorBy=Wm,w.xorWith=Hm,w.zip=Ym,w.zipObject=Xm,w.zipObjectDeep=Vm,w.zipWith=$m,w.entries=mv,w.entriesIn=_v,w.extend=pv,w.extendWith=so,gu(w,w),w.add=Yy,w.attempt=bv,w.camelCase=qx,w.capitalize=xv,w.ceil=Xy,w.clamp=Xx,w.clone=L_,w.cloneDeep=k_,w.cloneDeepWith=W_,w.cloneWith=N_,w.conformsTo=H_,w.deburr=yv,w.defaultTo=by,w.divide=Vy,w.endsWith=Ux,w.eq=he,w.escape=Kx,w.escapeRegExp=Zx,w.every=n_,w.find=a_,w.findIndex=Vc,w.findKey=_x,w.findLast=o_,w.findLastIndex=$c,w.findLastKey=xx,w.floor=$y,w.forEach=Qc,w.forEachRight=jc,w.forIn=yx,w.forInRight=Sx,w.forOwn=bx,w.forOwnRight=Ex,w.get=cu,w.gt=Y_,w.gte=X_,w.has=Dx,w.hasIn=vu,w.head=Uc,w.identity=Yr,w.includes=c_,w.indexOf=om,w.inRange=Vx,w.invoke=Rx,w.isArguments=En,w.isArray=Mt,w.isArrayBuffer=V_,w.isArrayLike=Wr,w.isArrayLikeObject=cr,w.isBoolean=$_,w.isBuffer=nn,w.isDate=q_,w.isElement=U_,w.isEmpty=K_,w.isEqual=Z_,w.isEqualWith=J_,w.isError=fu,w.isFinite=Q_,w.isFunction=Fe,w.isInteger=sv,w.isLength=ao,w.isMap=uv,w.isMatch=j_,w.isMatchWith=tx,w.isNaN=rx,w.isNative=ex,w.isNil=ix,w.isNull=nx,w.isNumber=fv,w.isObject=ar,w.isObjectLike=ur,w.isPlainObject=Hi,w.isRegExp=lu,w.isSafeInteger=ax,w.isSet=lv,w.isString=oo,w.isSymbol=Jr,w.isTypedArray=Qn,w.isUndefined=ox,w.isWeakMap=sx,w.isWeakSet=ux,w.join=cm,w.kebabCase=Jx,w.last=se,w.lastIndexOf=vm,w.lowerCase=Qx,w.lowerFirst=jx,w.lt=fx,w.lte=lx,w.max=qy,w.maxBy=Uy,w.mean=Ky,w.meanBy=Zy,w.min=Jy,w.minBy=Qy,w.stubArray=_u,w.stubFalse=xu,w.stubObject=Fy,w.stubString=Ly,w.stubTrue=Ny,w.multiply=jy,w.nth=dm,w.noConflict=Ry,w.noop=mu,w.now=eo,w.pad=ty,w.padEnd=ry,w.padStart=ey,w.parseInt=ny,w.random=$x,w.reduce=g_,w.reduceRight=m_,w.repeat=iy,w.replace=ay,w.result=zx,w.round=tS,w.runInContext=N,w.sample=x_,w.size=b_,w.snakeCase=oy,w.some=E_,w.sortedIndex=ym,w.sortedIndexBy=Sm,w.sortedIndexOf=bm,w.sortedLastIndex=Em,w.sortedLastIndexBy=wm,w.sortedLastIndexOf=Cm,w.startCase=uy,w.startsWith=fy,w.subtract=rS,w.sum=eS,w.sumBy=nS,w.template=ly,w.times=ky,w.toFinite=Le,w.toInteger=Tt,w.toLength=vv,w.toLower=cy,w.toNumber=ue,w.toSafeInteger=cx,w.toString=qt,w.toUpper=vy,w.trim=dy,w.trimEnd=py,w.trimStart=hy,w.truncate=gy,w.unescape=my,w.uniqueId=Hy,w.upperCase=_y,w.upperFirst=du,w.each=Qc,w.eachRight=jc,w.first=Uc,gu(w,function(){var i={};return Ee(w,function(o,c){Ut.call(w.prototype,c)||(i[c]=o)}),i}(),{chain:!1}),w.VERSION=n,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){w[i].placeholder=w}),ee(["drop","take"],function(i,o){Nt.prototype[i]=function(c){c=c===e?1:xr(Tt(c),0);var g=this.__filtered__&&!o?new Nt(this):this.clone();return g.__filtered__?g.__takeCount__=Rr(c,g.__takeCount__):g.__views__.push({size:Rr(c,$),type:i+(g.__dir__<0?"Right":"")}),g},Nt.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),ee(["filter","map","takeWhile"],function(i,o){var c=o+1,g=c==Y||c==j;Nt.prototype[i]=function(b){var D=this.clone();return D.__iteratees__.push({iteratee:yt(b,3),type:c}),D.__filtered__=D.__filtered__||g,D}}),ee(["head","last"],function(i,o){var c="take"+(o?"Right":"");Nt.prototype[i]=function(){return this[c](1).value()[0]}}),ee(["initial","tail"],function(i,o){var c="drop"+(o?"":"Right");Nt.prototype[i]=function(){return this.__filtered__?new Nt(this):this[c](1)}}),Nt.prototype.compact=function(){return this.filter(Yr)},Nt.prototype.find=function(i){return this.filter(i).head()},Nt.prototype.findLast=function(i){return this.reverse().find(i)},Nt.prototype.invokeMap=Bt(function(i,o){return typeof i=="function"?new Nt(this):this.map(function(c){return zi(c,i,o)})}),Nt.prototype.reject=function(i){return this.filter(io(yt(i)))},Nt.prototype.slice=function(i,o){i=Tt(i);var c=this;return c.__filtered__&&(i>0||o<0)?new Nt(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),o!==e&&(o=Tt(o),c=o<0?c.dropRight(-o):c.take(o-i)),c)},Nt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Nt.prototype.toArray=function(){return this.take($)},Ee(Nt.prototype,function(i,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),g=/^(?:head|last)$/.test(o),b=w[g?"take"+(o=="last"?"Right":""):o],D=g||/^find/.test(o);b&&(w.prototype[o]=function(){var A=this.__wrapped__,z=g?[1]:arguments,k=A instanceof Nt,K=z[0],Z=k||Mt(A),Q=function(zt){var kt=b.apply(w,Ze([zt],z));return g&&ft?kt[0]:kt};Z&&c&&typeof K=="function"&&K.length!=1&&(k=Z=!1);var ft=this.__chain__,gt=!!this.__actions__.length,St=D&&!ft,Pt=k&&!gt;if(!D&&Z){A=Pt?A:new Nt(this);var bt=i.apply(A,z);return bt.__actions__.push({func:to,args:[Q],thisArg:e}),new ie(bt,ft)}return St&&Pt?i.apply(this,z):(bt=this.thru(Q),St?g?bt.value()[0]:bt.value():bt)})}),ee(["pop","push","shift","sort","splice","unshift"],function(i){var o=Da[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",g=/^(?:pop|shift)$/.test(i);w.prototype[i]=function(){var b=arguments;if(g&&!this.__chain__){var D=this.value();return o.apply(Mt(D)?D:[],b)}return this[c](function(A){return o.apply(Mt(A)?A:[],b)})}}),Ee(Nt.prototype,function(i,o){var c=w[o];if(c){var g=c.name+"";Ut.call(qn,g)||(qn[g]=[]),qn[g].push({name:o,func:c})}}),qn[qa(e,S).name]=[{name:"wrapper",func:e}],Nt.prototype.clone=m0,Nt.prototype.reverse=_0,Nt.prototype.value=x0,w.prototype.at=Um,w.prototype.chain=Km,w.prototype.commit=Zm,w.prototype.next=Jm,w.prototype.plant=jm,w.prototype.reverse=t_,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=r_,w.prototype.first=w.prototype.head,Ri&&(w.prototype[Ri]=Qm),w},Xn=Zg();hn?((hn.exports=Xn)._=Xn,hs._=Xn):Dr._=Xn}).call(Xi)})(Yo,Yo.exports);var XC=Yo.exports,ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.backtrace=void 0;function VC(r,t,e){const n=[];let a=e?r:r.getParent();for(;a.getParent();)n.push([a.position.x,a.position.y]),a=a.getParent();return t&&n.push([a.position.x,a.position.y]),n.reverse()}ns.backtrace=VC;var is={};Object.defineProperty(is,"__esModule",{value:!0});is.calculateHeuristic=void 0;function $C(r,t,e,n){const a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);switch(r){case"Manhatten":case"Manhattan":return(a+s)*n;case"Euclidean":return Math.sqrt(a*a+s*s)*n;case"Chebyshev":return Math.max(a,s)*n;case"Octile":return(a+s-.58*Math.min(a,s))*n}}is.calculateHeuristic=$C;var _a={},as={};Object.defineProperty(as,"__esModule",{value:!0});as.Node=void 0;class qC{constructor(t){this.id=t.id,this.position=t.position,this.hValue=0,this.gValue=0,this.fValue=0,this.parentNode=void 0,this.isOnClosedList=!1,this.isOnOpenList=!1,this.isWalkable=t.walkable||!0}calculateFValue(){this.fValue=this.gValue+this.hValue}setGValue(t){this.gValue=t,this.calculateFValue()}setHValue(t){this.hValue=t,this.calculateFValue()}setFGHValuesToZero(){this.fValue=this.gValue=this.hValue=0}getFValue(){return this.fValue}getGValue(){return this.gValue}getHValue(){return this.hValue}getParent(){return this.parentNode}getIsOnClosedList(){return this.isOnClosedList}getIsOnOpenList(){return this.isOnOpenList}getIsWalkable(){return this.isWalkable}setParent(t){this.parentNode=t}setIsOnClosedList(t){this.isOnClosedList=t}setIsOnOpenList(t){this.isOnOpenList=t}setIsWalkable(t){this.isWalkable=t}}as.Node=qC;Object.defineProperty(_a,"__esModule",{value:!0});_a.Grid=void 0;const xd=as;class UC{constructor(t){t.width&&t.height?(this.width=t.width,this.height=t.height,this.numberOfFields=this.width*this.height):t.matrix&&(this.width=t.matrix[0].length,this.height=t.matrix.length,this.numberOfFields=this.width*this.height),this.gridNodes=this.buildGridWithNodes(t.matrix||void 0,this.width,this.height,t.densityOfObstacles||0)}buildGridWithNodes(t,e,n,a){const s=[];let u=0;for(let f=0;f<n;f++){s[f]=[];for(let l=0;l<e;l++)s[f][l]=new xd.Node({id:u,position:{x:l,y:f}}),u++}if(t===void 0){for(let f=0;f<n;f++)for(let l=0;l<e;l++)Math.floor(Math.random()*10)+1>10-a?s[f][l].setIsWalkable(!1):s[f][l].setIsWalkable(!0);return s}for(let f=0;f<n;f++)for(let l=0;l<e;l++)s[f][l].setIsWalkable(!t[f][l]);return s}getNodeAt(t){return this.gridNodes[t.y][t.x]}isWalkableAt(t){return this.gridNodes[t.y][t.x].getIsWalkable()}isOnTheGrid(t){return t.x>=0&&t.x<this.width&&t.y>=0&&t.y<this.height}getSurroundingNodes(t,e){const n=[],a=t.x-1,s=t.x+1,u=t.y-1,f=t.y+1;for(let l=u;l<=f;l++)for(let v=a;v<=s;v++)(v!==t.x||l!==t.y)&&this.isOnTheGrid({x:v,y:l})&&this.isWalkableAt({x:v,y:l})&&(e||v==t.x||l==t.y)&&n.push(this.getNodeAt({x:v,y:l}));return n}setGrid(t){this.gridNodes=t}resetGrid(){for(let t=0;t<this.gridNodes.length;t++)for(let e=0;e<this.gridNodes[t].length;e++)this.gridNodes[t][e].setIsOnClosedList(!1),this.gridNodes[t][e].setIsOnOpenList(!1),this.gridNodes[t][e].setParent(void 0),this.gridNodes[t][e].setFGHValuesToZero()}getGridNodes(){return this.gridNodes}clone(){const t=[];let e=0;for(let n=0;n<this.height;n++){t[n]=[];for(let a=0;a<this.width;a++)t[n][a]=new xd.Node({id:e,position:{x:a,y:n},walkable:this.gridNodes[n][a].getIsWalkable()}),e++}return t}}_a.Grid=UC;Object.defineProperty(es,"__esModule",{value:!0});es.AStarFinder=void 0;const yd=XC,Sd=ns,KC=is,ZC=_a;class JC{constructor(t){this.grid=new ZC.Grid({width:t.grid.width,height:t.grid.height,matrix:t.grid.matrix||void 0,densityOfObstacles:t.grid.densityOfObstacles||0}),this.closedList=[],this.openList=[],this.diagonalAllowed=t.diagonalAllowed!==void 0?t.diagonalAllowed:!0,this.heuristic=t.heuristic?t.heuristic:"Manhattan",this.includeStartNode=t.includeStartNode!==void 0?t.includeStartNode:!0,this.includeEndNode=t.includeEndNode!==void 0?t.includeEndNode:!0,this.allowPathAsCloseAsPossible=t.allowPathAsCloseAsPossible||!1,this.weight=t.weight||1}findPath(t,e){this.closedList=[],this.openList=[],this.grid.resetGrid();const n=this.grid.getNodeAt(t),a=this.grid.getNodeAt(e);if(!this.grid.isWalkableAt(e)||!this.grid.isWalkableAt(t))return[];n.setIsOnOpenList(!0),this.openList.push(n);for(let s=0;s<this.grid.height;s++)for(let u=0;u<this.grid.width;u++){let f=this.grid.getNodeAt({x:u,y:s});this.grid.isWalkableAt({x:u,y:s})?f.setHValue((0,KC.calculateHeuristic)(this.heuristic,f.position,a.position,this.weight)):(f.setFGHValuesToZero(),f.setIsOnClosedList(!0),this.closedList.push(f))}for(;this.openList.length!==0;){const s=(0,yd.minBy)(this.openList,f=>f.getFValue());if(s.setIsOnOpenList(!1),(0,yd.remove)(this.openList,s),s.setIsOnClosedList(!0),this.closedList.push(s),s===a)return(0,Sd.backtrace)(a,this.includeStartNode,this.includeEndNode);const u=this.grid.getSurroundingNodes(s.position,this.diagonalAllowed);for(let f in u){const l=u[f];if(l.getIsOnClosedList())continue;const v=s.getGValue()+(l.position.x!==s.position.x||l.position.y==s.position.y?this.weight:this.weight*1.41421);(!l.getIsOnOpenList()||v<l.getGValue())&&(l.setGValue(v),l.setParent(s),l.getIsOnOpenList()?l.setParent(s):(l.setIsOnOpenList(!0),this.openList.push(l)))}}return this.allowPathAsCloseAsPossible?(0,Sd.backtrace)(this.closedList[this.closedList.length-1],this.includeStartNode,!1):[]}setHeuristic(t){this.heuristic=t}setWeight(t){this.weight=t}getGridClone(){return this.grid.clone()}getGrid(){return this.grid}}es.AStarFinder=JC;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Grid=r.AStarFinder=void 0;var t=es;Object.defineProperty(r,"AStarFinder",{enumerable:!0,get:function(){return t.AStarFinder}});var e=_a;Object.defineProperty(r,"Grid",{enumerable:!0,get:function(){return e.Grid}})})(Th);const QC={class:"rounded w-full h-[90%] bg-slate-100 flex flex-wrap place-content-center"},jC={id:"start"},tD={id:"end"},rD={key:1,class:"flex flex-col h-full items-center justify-center gap-2"},eD=It("i",{class:"fa-solid fa-file-upload text-[10vw] text-center opacity-30"},null,-1),nD=It("p",{class:"font-bold text-center opacity-30"},"Upload your map here.",-1),iD=[eD,nD],aD=It("i",{class:"fa-solid fa-map-location-dot"},null,-1),oD=Gn({__name:"RobotMap",setup(r){const t=Sr(!1),e=Sr(null),n=Sr(null),a=Sr(null),s=function(l){const v=e.value.getContext("2d"),d=new Image,p=l.target.files[0];if(wo.value=p,p.type.match("image.*")){const m=new FileReader;m.readAsDataURL(p),m.onload=function(_){_.target.readyState==FileReader.DONE&&(d.src=_.target.result??"",d.onload=()=>{var S;v.canvas.width=d.width,v.canvas.height=d.height,Oo.value=[d.width,d.height],v.drawImage(d,0,0);const{left:x,top:y}=((S=e.value)==null?void 0:S.getBoundingClientRect())??new DOMRect;n.value.style.transform=`translate(${x}px, ${y}px`,a.value.style.transform=`translate(${x}px, ${y}px)`},t.value=!0)}}else alert("Not an image!")},u=(l,v)=>{var W;const[d,h,p,m]=l.translate,{width:_,height:x}=l.target.getBoundingClientRect()??new DOMRect,[y,S]=Oo.value??[0,0],{left:E,right:C,top:M,bottom:R,width:O,height:T}=((W=e.value)==null?void 0:W.getBoundingClientRect())??new DOMRect,I=Math.min(Math.max(d,E),C),P=Math.min(Math.max(h,M),R);l.target.style.transform=`translate(${I}px, ${P}px)`;const G=(I-E+_/2)/O*y,H=(P-M+x/2)/T*S;switch(v){case"start":Ui.value=[G,H];break;case"finish":yu.value=[G,H];break}},f=()=>{var x;const l=(x=e.value)==null?void 0:x.getContext("2d",{willReadFrequently:!0}),v=l.getImageData(0,0,l.canvas.width,l.canvas.height),d=YC(HC(v.data,v.width,v.height)),h=new Th.AStarFinder({grid:{matrix:d},diagonalAllowed:!1});if(!Ui.value||!yu.value)return;const p=_d(d,...Ui.value),m=_d(d,...yu.value),_=h.findPath({x:p[0],y:p[1]},{x:m[0],y:m[1]});console.log(_)};return(l,v)=>(Xt(),er(Tn,null,[It("div",QC,[t.value?wn("",!0):(Xt(),er("input",{key:0,type:"file",class:"w-full h-full opacity-0 z-50 absolute",onChange:s,onClick:v[0]||(v[0]=oS(()=>{},["prevent"]))},null,32)),We(It("canvas",{ref_key:"mapCanvas",ref:e,class:"rounded border-black border-2 max-w-[50vmin] max-h[50vmin]"},null,512),[[bo,t.value]]),We(It("div",jC,[It("i",{class:"fa-solid fa-location-crosshairs text-[3vmin] absolute top-0 left-0 text-cyan-400",ref_key:"startEl",ref:n},null,512),He(hr(Ho),{target:n.value,draggable:!0,origin:!1,"hide-default-lines":!0,onDrag:v[1]||(v[1]=d=>u(d,"start"))},null,8,["target"])],512),[[bo,t.value]]),We(It("div",tD,[It("i",{class:"fa-solid fa-flag-checkered text-[3vmin] absolute top-0 left-0",ref_key:"endEl",ref:a},null,512),He(hr(Ho),{target:a.value,draggable:!0,origin:!1,"hide-default-lines":!0,onDrag:v[2]||(v[2]=d=>u(d,"finish"))},null,8,["target"])],512),[[bo,t.value]]),t.value?wn("",!0):(Xt(),er("div",rD,iD))]),It("button",{class:"w-full h-[5%] bg-slate-100",onClick:f},[aD,Cd(" Generate Path ")])],64))}}),sD={},uD={class:"rounded w-full h-[95%] bg-slate-100 flex flex-col items-center justify-center"},fD=It("i",{class:"fa-solid fa-up-right-from-square text-[10vw] text-center opacity-30"},null,-1),lD=It("p",{class:"font-bold text-center opacity-30"},"Click on a tab to get started!",-1),cD=[fD,lD];function vD(r,t){return Xt(),er("div",uD,cD)}const dD=df(sD,[["render",vD]]);function bd(r,t,e){return Math.min(Math.max(r,t),e)}const pD=Gn({__name:"KeyModel",props:sS({keyCode:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const t=r,e=uS(r,"modelValue"),n=a=>{if(a.keyCode==t.keyCode)switch(a.type){case"keyup":e.value=!1;break;case"keydown":e.value=!0}};return Dd(()=>{window.addEventListener("keyup",n),window.addEventListener("keydown",n)}),fS(()=>{window.removeEventListener("keyup",n),window.removeEventListener("keydown",n)}),(a,s)=>null}});function Ed(r,t){var p,m;const e=[],a=r.sensorCanvas.getBoundingClientRect(),s=r.robotOrigin,{width:u,height:f}=s.getBoundingClientRect(),l=getComputedStyle(s).transform;let v,d,h;if(l=="none")v=0,d=0,h=0;else{const _=(p=l.match(/-?\d+\.?\d*/g))==null?void 0:p.map(x=>parseFloat(x));v=_[4]+u/2,d=_[5]+f/2,h=Math.atan2(_[1],_[0])}for(let _=0;_<5;_++){const x=r[`sensor-${_}`][0],{width:y,height:S}=x.getBoundingClientRect(),E=getComputedStyle(x).transform;let C,M;if(E=="none")C=0,M=0;else{const P=(m=E.match(/-?\d+\.?\d*/g))==null?void 0:m.map(G=>parseFloat(G));C=P[4]+y/2,M=P[5]+S/2,Math.atan2(P[1],P[0])}const R=Math.cos(-h)*(C-v)-Math.sin(-h)*(M-d),O=Math.sin(-h)*(C-v)+Math.cos(-h)*(M-d),T=R/a.width*t[0],I=O/a.height*t[1];e.push([T,I])}return xS.value=e,e}const hD={class:"rounded w-full h-[95%] bg-slate-100 flex flex-wrap place-content-center"},gD={key:0,class:"flex flex-col flex-wrap place-content-center"},mD=It("i",{class:"fa-solid fa-circle-xmark text-[10vw] text-center opacity-30"},null,-1),_D=It("p",{class:"font-bold text-center opacity-30"},"Oops! You haven't add a map yet, Please go to the Map section! ",-1),xD=[mD,_D],yD={key:0,class:"flex items-center justify-between w-full h-[5%]"},SD={class:"flex"},bD=It("p",{class:"font-bold"},"Scale: ",-1),ED=It("p",{class:"font-bold"},"x",-1),wD={class:"flex"},CD=It("p",{class:"font-bold"},"Sensor Value for Gray: ",-1),DD=It("p",{class:"font-bold"},"v",-1),MD={key:1},OD={key:1,class:vf("fa-solid fa-square fa-stack-2x")},RD={key:2,class:"fa-solid fa-code-fork fa-stack-1x text-white"},TD=Gn({__name:"Sensors",setup(r){const t=Sr(),e=new FileReader,n=Sr(!1),a=Sr(4),s=Sr(!1),u=Sr([0,0]),f=Sr(!1),l=Sr(),v=()=>{var I;const[_,x]=Ui.value??[0,0],[y,S]=Oo.value??[0,0],E=bd(_-y/(2*a.value),0,y),C=bd(x-S/(2*a.value),0,S),M=y/a.value,R=S/a.value,O=(I=t.value)==null?void 0:I.getContext("2d"),T=O==null?void 0:O.getImageData(E,C,M,R);O.canvas.width=(T==null?void 0:T.width)??0,O.canvas.height=(T==null?void 0:T.height)??0,O==null||O.putImageData(T,0,0),u.value=[(T==null?void 0:T.width)??0,(T==null?void 0:T.height)??0]},d=async()=>{var y;n.value=!!wo.value;const _=new Image,x=(y=t.value)==null?void 0:y.getContext("2d",{willReadFrequently:!0});if(n.value)try{e.readAsDataURL(wo.value),e.onload=function(S){S.target.readyState==FileReader.DONE&&(_.src=S.target.result??"",_.onload=()=>{x.canvas.width=_.width,x.canvas.height=_.height,Oo.value=[_.width,_.height],x.drawImage(_,0,0),v(),s.value=!0})}}catch{}},h=_=>{_.target.style.transform=_.transform},p=()=>{var x;const _=(x=t==null?void 0:t.value)==null?void 0:x.getBoundingClientRect();if(_)return[...Array(5).keys()].map(y=>_.left+_.width*y/4)},m=()=>{var x;const _=(x=t==null?void 0:t.value)==null?void 0:x.getBoundingClientRect();if(_)return[...Array(5).keys()].map(y=>_.top+_.height*y/4)};return lS([wo,Ui,a],d),Dd(d),(_,x)=>{var y;return Xt(),er(Tn,null,[It("div",hD,[We(It("canvas",{ref_key:"sensorCanvas",ref:t,class:"rounded border-2 border-black min-w-[30vw] max-w-[80vw] min-h-[30vh] max-h-[80vh] w-auto h-auto"},null,512),[[bo,n.value]]),n.value?wn("",!0):(Xt(),er("div",gD,xD))]),n.value?(Xt(),er("div",yD,[It("div",SD,[bD,We(It("input",{class:"rounded outline-none border-stone-400 w-14 text-right",type:"number",step:"0.1","onUpdate:modelValue":x[0]||(x[0]=S=>a.value=S)},null,512),[[zu,a.value]]),ED]),It("div",wD,[CD,We(It("input",{class:"rounded outline-none border-stone-400 w-14 text-right",type:"number",step:"0.1","onUpdate:modelValue":x[1]||(x[1]=S=>wd(Su)?Su.value=S:null)},null,512),[[zu,hr(Su)]]),DD])])):wn("",!0),n.value&&s.value?(Xt(),er("div",MD,[It("i",{class:"fa-solid fa-circle-up text-[3vmin] absolute top-1/2 left-1/2 text-red-600",ref_key:"robotOrigin",ref:l},null,512),He(hr(Ho),{target:l.value,dragArea:!0,container:t.value,bounds:(y=t.value)==null?void 0:y.getBoundingClientRect(),draggable:!0,rotatable:!0,snappable:!0,origin:!1,snapRotataionThreshold:15,snapRotationDegrees:[0,90,180,270],snapDirections:{middle:!0,center:!0},verticalGuidelines:p(),horizontalGuidelines:m(),onDrag:h,onRotate:h,onRender:x[2]||(x[2]=S=>hr(Ed)(_.$refs,u.value))},null,8,["target","container","bounds","verticalGuidelines","horizontalGuidelines"])])):wn("",!0),n.value&&s.value?(Xt(),er(Tn,{key:2},Mo(["one","two","three","four","five"],(S,E)=>{var C;return It("div",null,[It("span",{class:"fa-stack fa-sm absolute top-1/2 left-1/2",ref_for:!0,ref:`sensor-${E}`},[f.value?(Xt(),er("i",{key:0,class:vf(`fa-solid fa-dice-${S} fa-stack-2x`)},null,2)):(Xt(),er("i",OD)),f.value?wn("",!0):(Xt(),er("i",RD))],512),He(hr(Ho),{target:_.$refs[`sensor-${E}`],dragArea:!0,container:t.value,bounds:(C=t.value)==null?void 0:C.getBoundingClientRect(),draggable:!0,rotatable:!0,snappable:!0,origin:!1,snapRotataionThreshold:15,snapRotationDegrees:[0,90,180,270],snapDirections:{middle:!0,center:!0},verticalGuidelines:p(),horizontalGuidelines:m(),elementGuidelines:_.$refs,onDrag:h,onRotate:h,onRender:x[3]||(x[3]=M=>hr(Ed)(_.$refs,u.value))},null,8,["target","container","bounds","verticalGuidelines","horizontalGuidelines","elementGuidelines"])])}),64)):wn("",!0),He(pD,{keyCode:16,modelValue:f.value,"onUpdate:modelValue":x[4]||(x[4]=S=>f.value=S)},null,8,["modelValue"])],64)}}});function ID(r){return r.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return e===0?t.toLowerCase():t.toUpperCase()}).replace(/\s+/g,"")}const AD={class:"rounded w-full h-[95%] bg-slate-100 flex flex-wrap items-center justify-start gap-2 flex-col before:content-[''] after:content-['']"},PD=["onUpdate:modelValue"],BD={class:"flex rounded border-black border-2"},GD=["onUpdate:modelValue"],zD=["onClick"],FD=It("i",{class:"fa-solid fa-add"},null,-1),LD=Gn({__name:"Junctions",setup(r){const t=()=>ke.value.forEach(n=>{n[0]=ID(n[0])}),e=()=>{ke.value.push(["junctionName",[!0,!0,!0,!0,!0]])};return(n,a)=>(Xt(),er("div",AD,[(Xt(!0),er(Tn,null,Mo(hr(ke),(s,u)=>(Xt(),er("div",{class:"flex flex-row w-4/5 items-center justify-between",key:u},[We(It("input",{class:"rounded outline-none text-xl",type:"text","onUpdate:modelValue":f=>hr(ke)[u][0]=f,onChange:t},null,40,PD),[[zu,hr(ke)[u][0]]]),It("div",BD,[(Xt(!0),er(Tn,null,Mo(hr(ke)[u][1],(f,l)=>We((Xt(),er("input",{type:"checkbox",class:"appearance-none border-black bg-black checked:bg-white w-10 h-10","onUpdate:modelValue":v=>hr(ke)[u][1][l]=v},null,8,GD)),[[cS,hr(ke)[u][1][l]]])),256))]),It("i",{onClick:f=>hr(ke).splice(u,1),class:"fa-solid fa-trash text-red-400"},null,8,zD)]))),128)),It("button",{onClick:e,class:"bg-slate-200 w-4/5 p-2 rounded"},[FD,Cd(" Add Sensor")])]))}}),ND={},kD={class:"rounded w-full h-[95%] bg-slate-100 flex flex-col items-center justify-center"},WD=It("i",{class:"fa-solid fa-triangle-exclamation text-[10vw] text-center opacity-30"},null,-1),HD=It("p",{class:"font-bold text-center opacity-30"},"Oops! This tab is not supported yet.",-1),YD=[WD,HD];function XD(r,t){return Xt(),er("div",kD,YD)}const VD=df(ND,[["render",XD]]),$D=Gn({__name:"EditView",setup(r){const t=Eo;return(e,n)=>(Xt(),ti(vS,null,[hr(t)==""?(Xt(),ti(dD,{key:0})):hr(t)=="RobotMap"?(Xt(),ti(oD,{key:1})):hr(t)=="Sensors"?(Xt(),ti(TD,{key:2})):hr(t)=="Junctions"?(Xt(),ti(LD,{key:3})):(Xt(),ti(VD,{key:4}))],1024))}}),qD={class:"w-2/3 h-full rounded flex flex-col justify-between"},UD={__name:"Editor",setup(r){return(t,e)=>(Xt(),er("div",qD,[He(ES),He($D)]))}},KD=It("h1",{class:"text-4xl text-center font-bold m-4"},"Linelint",-1),ZD={class:"flex flex-row flex-nowrap items-center justify-center w-screen h-[90vh] gap-3"},QD={__name:"Home",setup(r){return(t,e)=>(Xt(),er(Tn,null,[KD,It("div",ZD,[He(_S),He(UD)])],64))}};export{QD as default};
